var wI=Object.defineProperty;var EI=(n,e,t)=>e in n?wI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ot=(n,e,t)=>EI(n,typeof e!="symbol"?e+"":e,t);import{r as nS,g as SI,a as AI}from"./vendor-gH-7aFTg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var u1={exports:{}},kh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function CI(){if(_T)return kh;_T=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:a}}return kh.Fragment=e,kh.jsx=t,kh.jsxs=t,kh}var vT;function RI(){return vT||(vT=1,u1.exports=CI()),u1.exports}var y=RI(),Ds=nS();const $e=SI(Ds);var h1={exports:{}},Mh={},f1={exports:{}},d1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function NI(){return yT||(yT=1,function(n){function e(oe,pe){var je=oe.length;oe.push(pe);e:for(;0<je;){var qe=je-1>>>1,st=oe[qe];if(0<i(st,pe))oe[qe]=pe,oe[je]=st,je=qe;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var pe=oe[0],je=oe.pop();if(je!==pe){oe[0]=je;e:for(var qe=0,st=oe.length,dt=st>>>1;qe<dt;){var K=2*(qe+1)-1,ee=oe[K],Z=K+1,Q=oe[Z];if(0>i(ee,je))Z<st&&0>i(Q,ee)?(oe[qe]=Q,oe[Z]=je,qe=Z):(oe[qe]=ee,oe[K]=je,qe=K);else if(Z<st&&0>i(Q,je))oe[qe]=Q,oe[Z]=je,qe=Z;else break e}}return pe}function i(oe,pe){var je=oe.sortIndex-pe.sortIndex;return je!==0?je:oe.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],d=[],m=1,x=null,v=3,T=!1,E=!1,w=!1,S=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Y(oe){for(var pe=t(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=oe)r(d),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(d)}}function te(oe){if(w=!1,Y(oe),!E)if(t(h)!==null)E=!0,he||(he=!0,B());else{var pe=t(d);pe!==null&&Ie(te,pe.startTime-oe)}}var he=!1,D=-1,I=5,R=-1;function L(){return S?!0:!(n.unstable_now()-R<I)}function V(){if(S=!1,he){var oe=n.unstable_now();R=oe;var pe=!0;try{e:{E=!1,w&&(w=!1,z(D),D=-1),T=!0;var je=v;try{t:{for(Y(oe),x=t(h);x!==null&&!(x.expirationTime>oe&&L());){var qe=x.callback;if(typeof qe=="function"){x.callback=null,v=x.priorityLevel;var st=qe(x.expirationTime<=oe);if(oe=n.unstable_now(),typeof st=="function"){x.callback=st,Y(oe),pe=!0;break t}x===t(h)&&r(h),Y(oe)}else r(h);x=t(h)}if(x!==null)pe=!0;else{var dt=t(d);dt!==null&&Ie(te,dt.startTime-oe),pe=!1}}break e}finally{x=null,v=je,T=!1}pe=void 0}}finally{pe?B():he=!1}}}var B;if(typeof H=="function")B=function(){H(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Qe=P.port2;P.port1.onmessage=V,B=function(){Qe.postMessage(null)}}else B=function(){F(V,0)};function Ie(oe,pe){D=F(function(){oe(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(oe){switch(v){case 1:case 2:case 3:var pe=3;break;default:pe=v}var je=v;v=pe;try{return oe()}finally{v=je}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(oe,pe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var je=v;v=oe;try{return pe()}finally{v=je}},n.unstable_scheduleCallback=function(oe,pe,je){var qe=n.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?qe+je:qe):je=qe,oe){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=je+st,oe={id:m++,callback:pe,priorityLevel:oe,startTime:je,expirationTime:st,sortIndex:-1},je>qe?(oe.sortIndex=je,e(d,oe),t(h)===null&&oe===t(d)&&(w?(z(D),D=-1):w=!0,Ie(te,je-qe))):(oe.sortIndex=st,e(h,oe),E||T||(E=!0,he||(he=!0,B()))),oe},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(oe){var pe=v;return function(){var je=v;v=pe;try{return oe.apply(this,arguments)}finally{v=je}}}}(d1)),d1}var TT;function II(){return TT||(TT=1,f1.exports=NI()),f1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function DI(){if(bT)return Mh;bT=1;var n=II(),e=nS(),t=AI();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,f=o;;){var p=c.return;if(p===null)break;var _=p.alternate;if(_===null){if(f=p.return,f!==null){c=f;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===c)return u(p),s;if(_===f)return u(p),o;_=_.sibling}throw Error(r(188))}if(c.return!==f.return)c=p,f=_;else{for(var C=!1,k=p.child;k;){if(k===c){C=!0,c=p,f=_;break}if(k===f){C=!0,f=p,c=_;break}k=k.sibling}if(!C){for(k=_.child;k;){if(k===c){C=!0,c=_,f=p;break}if(k===f){C=!0,f=_,c=p;break}k=k.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function Qe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case te:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case H:return(s.displayName||"Context")+".Provider";case z:return(s._context.displayName||"Context")+".Consumer";case Y:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return o=s.displayName||null,o!==null?o:Qe(s.type)||"Memo";case I:o=s._payload,s=s._init;try{return Qe(s(o))}catch{}}return null}var Ie=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je={pending:!1,data:null,method:null,action:null},qe=[],st=-1;function dt(s){return{current:s}}function K(s){0>st||(s.current=qe[st],qe[st]=null,st--)}function ee(s,o){st++,qe[st]=s.current,s.current=o}var Z=dt(null),Q=dt(null),ve=dt(null),ze=dt(null);function Ke(s,o){switch(ee(ve,o),ee(Q,s),ee(Z,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?W2(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=W2(o),s=K2(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(Z),ee(Z,s)}function Ue(){K(Z),K(Q),K(ve)}function Me(s){s.memoizedState!==null&&ee(ze,s);var o=Z.current,c=K2(o,s.type);o!==c&&(ee(Q,s),ee(Z,c))}function xt(s){Q.current===s&&(K(Z),K(Q)),ze.current===s&&(K(ze),Rh._currentValue=je)}var ht=Object.prototype.hasOwnProperty,sn=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,hn=n.unstable_shouldYield,Ot=n.unstable_requestPaint,Ve=n.unstable_now,qt=n.unstable_getCurrentPriorityLevel,Bn=n.unstable_ImmediatePriority,br=n.unstable_UserBlockingPriority,or=n.unstable_NormalPriority,Gi=n.unstable_LowPriority,ai=n.unstable_IdlePriority,En=n.log,Si=n.unstable_setDisableYieldValue,Bt=null,Et=null;function fn(s){if(typeof En=="function"&&Si(s),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Bt,s)}catch{}}var Mn=Math.clz32?Math.clz32:wr,Zr=Math.log,no=Math.LN2;function wr(s){return s>>>=0,s===0?32:31-(Zr(s)/no|0)|0}var qi=256,oi=4194304;function Ur(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Wi(s,o,c){var f=s.pendingLanes;if(f===0)return 0;var p=0,_=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var k=f&134217727;return k!==0?(f=k&~_,f!==0?p=Ur(f):(C&=k,C!==0?p=Ur(C):c||(c=k&~s,c!==0&&(p=Ur(c))))):(k=f&~_,k!==0?p=Ur(k):C!==0?p=Ur(C):c||(c=f&~s,c!==0&&(p=Ur(c)))),p===0?0:o!==0&&o!==p&&(o&_)===0&&(_=p&-p,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:p}function ms(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ki(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var s=qi;return qi<<=1,(qi&4194048)===0&&(qi=256),s}function Ai(){var s=oi;return oi<<=1,(oi&62914560)===0&&(oi=4194304),s}function li(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ci(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jr(s,o,c,f,p,_){var C=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var k=s.entanglements,X=s.expirationTimes,ce=s.hiddenUpdates;for(c=C&~c;0<c;){var ye=31-Mn(c),we=1<<ye;k[ye]=0,X[ye]=-1;var fe=ce[ye];if(fe!==null)for(ce[ye]=null,ye=0;ye<fe.length;ye++){var de=fe[ye];de!==null&&(de.lane&=-536870913)}c&=~we}f!==0&&Er(s,f,0),_!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=_&~(C&~o))}function Er(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var f=31-Mn(o);s.entangledLanes|=o,s.entanglements[f]=s.entanglements[f]|1073741824|c&4194090}function ps(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-Mn(c),p=1<<f;p&o|s[f]&o&&(s[f]|=o),c&=~p}}function vn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Sr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function zr(){var s=pe.p;return s!==0?s:(s=window.event,s===void 0?32:fT(s.type))}function ro(s,o){var c=pe.p;try{return pe.p=s,o()}finally{pe.p=c}}var Wt=Math.random().toString(36).slice(2),An="__reactFiber$"+Wt,pn="__reactProps$"+Wt,Zn="__reactContainer$"+Wt,Xi="__reactEvents$"+Wt,da="__reactListeners$"+Wt,O="__reactHandles$"+Wt,G="__reactResources$"+Wt,j="__reactMarker$"+Wt;function U(s){delete s[An],delete s[pn],delete s[Xi],delete s[da],delete s[O]}function q(s){var o=s[An];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Zn]||c[An]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Q2(s);s!==null;){if(c=s[An])return c;s=Q2(s)}return o}s=c,c=s.parentNode}return null}function W(s){if(s=s[An]||s[Zn]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function ie(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function ge(s){var o=s[G];return o||(o=s[G]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ne(s){s[j]=!0}var le=new Set,ue={};function Se(s,o){Oe(s,o),Oe(s+"Capture",o)}function Oe(s,o){for(ue[s]=o,s=0;s<o.length;s++)le.add(o[s])}var Be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Re={},Fe={};function et(s){return ht.call(Fe,s)?!0:ht.call(Re,s)?!1:Be.test(s)?Fe[s]=!0:(Re[s]=!0,!1)}function St(s,o,c){if(et(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function vt(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Tt(s,o,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+f)}}var lr,Yi;function Ar(s){if(lr===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);lr=o&&o[1]||"",Yi=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+s+Yi}var cr=!1;function ur(s,o){if(!s||cr)return"";cr=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(de){var fe=de}Reflect.construct(s,[],we)}else{try{we.call()}catch(de){fe=de}s.call(we.prototype)}}else{try{throw Error()}catch(de){fe=de}(we=s())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(de){if(de&&fe&&typeof de.stack=="string")return[de.stack,fe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),C=_[0],k=_[1];if(C&&k){var X=C.split(`
`),ce=k.split(`
`);for(p=f=0;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;for(;p<ce.length&&!ce[p].includes("DetermineComponentFrameRoot");)p++;if(f===X.length||p===ce.length)for(f=X.length-1,p=ce.length-1;1<=f&&0<=p&&X[f]!==ce[p];)p--;for(;1<=f&&0<=p;f--,p--)if(X[f]!==ce[p]){if(f!==1||p!==1)do if(f--,p--,0>p||X[f]!==ce[p]){var ye=`
`+X[f].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=f&&0<=p);break}}}finally{cr=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ar(c):""}function hr(s){switch(s.tag){case 26:case 27:case 5:return Ar(s.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 15:return ur(s.type,!1);case 11:return ur(s.type.render,!1);case 1:return ur(s.type,!0);case 31:return Ar("Activity");default:return""}}function io(s){try{var o="";do o+=hr(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function fr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Hr(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ml(s){var o=Hr(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(C){f=""+C,_.call(this,C)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function so(s){s._valueTracker||(s._valueTracker=ml(s))}function xs(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Hr(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function Us(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var vc=/[\n"\\]/g;function Cn(s){return s.replace(vc,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Gr(s,o,c,f,p,_,C,k){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),o!=null?C==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+fr(o)):s.value!==""+fr(o)&&(s.value=""+fr(o)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),o!=null?zs(s,C,fr(o)):c!=null?zs(s,C,fr(c)):f!=null&&s.removeAttribute("value"),p==null&&_!=null&&(s.defaultChecked=!!_),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+fr(k):s.removeAttribute("name")}function ga(s,o,c,f,p,_,C,k){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;c=c!=null?""+fr(c):"",o=o!=null?""+fr(o):c,k||o===s.value||(s.value=o),s.defaultValue=o}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=k?s.checked:!!f,s.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function zs(s,o,c){o==="number"&&Us(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function _s(s,o,c,f){if(s=s.options,o){o={};for(var p=0;p<c.length;p++)o["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=o.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&f&&(s[c].defaultSelected=!0)}else{for(c=""+fr(c),o=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,f&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function Kt(s,o,c){if(o!=null&&(o=""+fr(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+fr(c):""}function ma(s,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(r(92));if(Ie(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=fr(o),s.defaultValue=c,f=s.textContent,f===c&&f!==""&&f!==null&&(s.value=f)}function ci(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yc(s,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":f?s.setProperty(o,c):typeof c!="number"||c===0||pa.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function pl(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var p in o)f=o[p],o.hasOwnProperty(p)&&c[p]!==f&&yc(s,p,f)}else for(var _ in o)o.hasOwnProperty(_)&&yc(s,_,o[_])}function xl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(s){return qu.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var vs=null;function ui(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ys=null,Ts=null;function _l(s){var o=W(s);if(o&&(s=o.stateNode)){var c=s[pn]||null;e:switch(s=o.stateNode,o.type){case"input":if(Gr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Cn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var p=f[pn]||null;if(!p)throw Error(r(90));Gr(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===s.form&&xs(f)}break e;case"textarea":Kt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&_s(s,!!c.multiple,o,!1)}}}var $i=!1;function Tc(s,o,c){if($i)return s(o,c);$i=!0;try{var f=s(o);return f}finally{if($i=!1,(ys!==null||Ts!==null)&&(Vd(),ys&&(o=ys,s=Ts,Ts=ys=null,_l(o),s)))for(o=0;o<s.length;o++)_l(s[o])}}function xa(s,o){var c=s.stateNode;if(c===null)return null;var f=c[pn]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Ri)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Cr=!1}var Ni=null,Hs=null,bs=null;function vl(){if(bs)return bs;var s,o=Hs,c=o.length,f,p="value"in Ni?Ni.value:Ni.textContent,_=p.length;for(s=0;s<c&&o[s]===p[s];s++);var C=c-s;for(f=1;f<=C&&o[c-f]===p[_-f];f++);return bs=p.slice(s,1<f?1-f:void 0)}function Qi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Zi(){return!0}function yl(){return!1}function Pn(s){function o(c,f,p,_,C){this._reactName=c,this._targetInst=p,this.type=f,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Zi:yl,this.isPropagationStopped=yl,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),o}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Pn(Ft),Gs=m({},Ft,{view:0,detail:0}),Tl=Pn(Gs),va,qs,es,ws=m({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:He,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==es&&(es&&s.type==="mousemove"?(va=s.screenX-es.screenX,qs=s.screenY-es.screenY):qs=va=0,es=s),va)},movementY:function(s){return"movementY"in s?s.movementY:qs}}),hi=Pn(ws),bl=m({},ws,{dataTransfer:0}),Wu=Pn(bl),ya=m({},Gs,{relatedTarget:0}),oo=Pn(ya),wl=m({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=Pn(wl),bc=m({},Ft,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ta=Pn(bc),wc=m({},Ft,{data:0}),N=Pn(wc),xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function De(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ce[s])?!!o[s]:!1}function He(){return De}var rt=m({},Gs,{key:function(s){if(s.key){var o=xe[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ne[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:He,charCode:function(s){return s.type==="keypress"?Qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ze=Pn(rt),Xt=m({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),an=Pn(Xt),$t=m({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:He}),gt=Pn($t),ft=m({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Pn(ft),Rt=m({},ws,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),dn=Pn(Rt),Jn=m({},Ft,{newState:0,oldState:0}),Es=Pn(Jn),Ss=[9,13,27,32],ei=Ri&&"CompositionEvent"in window,g=null;Ri&&"documentMode"in document&&(g=document.documentMode);var b=Ri&&"TextEvent"in window&&!g,A=Ri&&(!ei||g&&8<g&&11>=g),M=" ",se=!1;function me(s,o){switch(s){case"keyup":return Ss.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var kt=!1;function er(s,o){switch(s){case"compositionend":return Pe(o);case"keypress":return o.which!==32?null:(se=!0,M);case"textInput":return s=o.data,s===M&&se?null:s;default:return null}}function Mt(s,o){if(kt)return s==="compositionend"||!ei&&me(s,o)?(s=vl(),bs=Hs=Ni=null,kt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!dr[s.type]:o==="textarea"}function ba(s,o,c,f){ys?Ts?Ts.push(f):Ts=[f]:ys=f,o=Gd(o,"onChange"),0<o.length&&(c=new Ji("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var Rr=null,Ws=null;function Ku(s){U2(s,0)}function sd(s){var o=ie(s);if(xs(o))return s}function lv(s,o){if(s==="change")return o}var cv=!1;if(Ri){var ym;if(Ri){var Tm="oninput"in document;if(!Tm){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),Tm=typeof uv.oninput=="function"}ym=Tm}else ym=!1;cv=ym&&(!document.documentMode||9<document.documentMode)}function hv(){Rr&&(Rr.detachEvent("onpropertychange",fv),Ws=Rr=null)}function fv(s){if(s.propertyName==="value"&&sd(Ws)){var o=[];ba(o,Ws,s,ui(s)),Tc(Ku,o)}}function JR(s,o,c){s==="focusin"?(hv(),Rr=o,Ws=c,Rr.attachEvent("onpropertychange",fv)):s==="focusout"&&hv()}function eN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sd(Ws)}function tN(s,o){if(s==="click")return sd(o)}function nN(s,o){if(s==="input"||s==="change")return sd(o)}function rN(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ii=typeof Object.is=="function"?Object.is:rN;function Xu(s,o){if(Ii(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var p=c[f];if(!ht.call(o,p)||!Ii(s[p],o[p]))return!1}return!0}function dv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gv(s,o){var c=dv(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=dv(c)}}function mv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?mv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function pv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Us(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Us(s.document)}return o}function bm(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var iN=Ri&&"documentMode"in document&&11>=document.documentMode,Ec=null,wm=null,Yu=null,Em=!1;function xv(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Em||Ec==null||Ec!==Us(f)||(f=Ec,"selectionStart"in f&&bm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Yu&&Xu(Yu,f)||(Yu=f,f=Gd(wm,"onSelect"),0<f.length&&(o=new Ji("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Ec)))}function El(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Sc={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionrun:El("Transition","TransitionRun"),transitionstart:El("Transition","TransitionStart"),transitioncancel:El("Transition","TransitionCancel"),transitionend:El("Transition","TransitionEnd")},Sm={},_v={};Ri&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function Sl(s){if(Sm[s])return Sm[s];if(!Sc[s])return s;var o=Sc[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in _v)return Sm[s]=o[c];return s}var vv=Sl("animationend"),yv=Sl("animationiteration"),Tv=Sl("animationstart"),sN=Sl("transitionrun"),aN=Sl("transitionstart"),oN=Sl("transitioncancel"),bv=Sl("transitionend"),wv=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Am.push("scrollEnd");function As(s,o){wv.set(s,o),Se(o,[s])}var Ev=new WeakMap;function ts(s,o){if(typeof s=="object"&&s!==null){var c=Ev.get(s);return c!==void 0?c:(o={value:s,source:o,stack:io(o)},Ev.set(s,o),o)}return{value:s,source:o,stack:io(o)}}var ns=[],Ac=0,Cm=0;function ad(){for(var s=Ac,o=Cm=Ac=0;o<s;){var c=ns[o];ns[o++]=null;var f=ns[o];ns[o++]=null;var p=ns[o];ns[o++]=null;var _=ns[o];if(ns[o++]=null,f!==null&&p!==null){var C=f.pending;C===null?p.next=p:(p.next=C.next,C.next=p),f.pending=p}_!==0&&Sv(c,p,_)}}function od(s,o,c,f){ns[Ac++]=s,ns[Ac++]=o,ns[Ac++]=c,ns[Ac++]=f,Cm|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Rm(s,o,c,f){return od(s,o,c,f),ld(s)}function Cc(s,o){return od(s,null,null,o),ld(s)}function Sv(s,o,c){s.lanes|=c;var f=s.alternate;f!==null&&(f.lanes|=c);for(var p=!1,_=s.return;_!==null;)_.childLanes|=c,f=_.alternate,f!==null&&(f.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(p=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,p&&o!==null&&(p=31-Mn(c),s=_.hiddenUpdates,f=s[p],f===null?s[p]=[o]:f.push(o),o.lane=c|536870912),_):null}function ld(s){if(50<yh)throw yh=0,Mp=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Rc={};function lN(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(s,o,c,f){return new lN(s,o,c,f)}function Nm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wa(s,o){var c=s.alternate;return c===null?(c=Di(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Av(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function cd(s,o,c,f,p,_){var C=0;if(f=s,typeof s=="function")Nm(s)&&(C=1);else if(typeof s=="string")C=uI(s,c,Z.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=Di(31,c,o,p),s.elementType=R,s.lanes=_,s;case E:return Al(c.children,p,_,o);case w:C=8,p|=24;break;case S:return s=Di(12,c,o,p|2),s.elementType=S,s.lanes=_,s;case te:return s=Di(13,c,o,p),s.elementType=te,s.lanes=_,s;case he:return s=Di(19,c,o,p),s.elementType=he,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:case H:C=10;break e;case z:C=9;break e;case Y:C=11;break e;case D:C=14;break e;case I:C=16,f=null;break e}C=29,c=Error(r(130,s===null?"null":typeof s,"")),f=null}return o=Di(C,c,o,p),o.elementType=s,o.type=f,o.lanes=_,o}function Al(s,o,c,f){return s=Di(7,s,f,o),s.lanes=c,s}function Im(s,o,c){return s=Di(6,s,null,o),s.lanes=c,s}function Dm(s,o,c){return o=Di(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Nc=[],Ic=0,ud=null,hd=0,rs=[],is=0,Cl=null,Ea=1,Sa="";function Rl(s,o){Nc[Ic++]=hd,Nc[Ic++]=ud,ud=s,hd=o}function Cv(s,o,c){rs[is++]=Ea,rs[is++]=Sa,rs[is++]=Cl,Cl=s;var f=Ea;s=Sa;var p=32-Mn(f)-1;f&=~(1<<p),c+=1;var _=32-Mn(o)+p;if(30<_){var C=p-p%5;_=(f&(1<<C)-1).toString(32),f>>=C,p-=C,Ea=1<<32-Mn(o)+p|c<<p|f,Sa=_+s}else Ea=1<<_|c<<p|f,Sa=s}function Om(s){s.return!==null&&(Rl(s,1),Cv(s,1,0))}function km(s){for(;s===ud;)ud=Nc[--Ic],Nc[Ic]=null,hd=Nc[--Ic],Nc[Ic]=null;for(;s===Cl;)Cl=rs[--is],rs[is]=null,Sa=rs[--is],rs[is]=null,Ea=rs[--is],rs[is]=null}var ti=null,In=null,Ht=!1,Nl=null,Ks=!1,Mm=Error(r(519));function Il(s){var o=Error(r(418,""));throw Zu(ts(o,s)),Mm}function Rv(s){var o=s.stateNode,c=s.type,f=s.memoizedProps;switch(o[An]=s,o[pn]=f,c){case"dialog":Ct("cancel",o),Ct("close",o);break;case"iframe":case"object":case"embed":Ct("load",o);break;case"video":case"audio":for(c=0;c<bh.length;c++)Ct(bh[c],o);break;case"source":Ct("error",o);break;case"img":case"image":case"link":Ct("error",o),Ct("load",o);break;case"details":Ct("toggle",o);break;case"input":Ct("invalid",o),ga(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),so(o);break;case"select":Ct("invalid",o);break;case"textarea":Ct("invalid",o),ma(o,f.value,f.defaultValue,f.children),so(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||q2(o.textContent,c)?(f.popover!=null&&(Ct("beforetoggle",o),Ct("toggle",o)),f.onScroll!=null&&Ct("scroll",o),f.onScrollEnd!=null&&Ct("scrollend",o),f.onClick!=null&&(o.onclick=qd),o=!0):o=!1,o||Il(s)}function Nv(s){for(ti=s.return;ti;)switch(ti.tag){case 5:case 13:Ks=!1;return;case 27:case 3:Ks=!0;return;default:ti=ti.return}}function $u(s){if(s!==ti)return!1;if(!Ht)return Nv(s),Ht=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||$p(s.type,s.memoizedProps)),c=!c),c&&In&&Il(s),Nv(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){In=Rs(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}In=null}}else o===27?(o=In,So(s.type)?(s=e1,e1=null,In=s):In=o):In=ti?Rs(s.stateNode.nextSibling):null;return!0}function Qu(){In=ti=null,Ht=!1}function Iv(){var s=Nl;return s!==null&&(gi===null?gi=s:gi.push.apply(gi,s),Nl=null),s}function Zu(s){Nl===null?Nl=[s]:Nl.push(s)}var Pm=dt(null),Dl=null,Aa=null;function co(s,o,c){ee(Pm,o._currentValue),o._currentValue=c}function Ca(s){s._currentValue=Pm.current,K(Pm)}function Lm(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function Fm(s,o,c,f){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var _=p.dependencies;if(_!==null){var C=p.child;_=_.firstContext;e:for(;_!==null;){var k=_;_=p;for(var X=0;X<o.length;X++)if(k.context===o[X]){_.lanes|=c,k=_.alternate,k!==null&&(k.lanes|=c),Lm(_.return,c,s),f||(C=null);break e}_=k.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(r(341));C.lanes|=c,_=C.alternate,_!==null&&(_.lanes|=c),Lm(C,c,s),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===s){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function Ju(s,o,c,f){s=null;for(var p=o,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var k=p.type;Ii(p.pendingProps.value,C.value)||(s!==null?s.push(k):s=[k])}}else if(p===ze.current){if(C=p.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Rh):s=[Rh])}p=p.return}s!==null&&Fm(o,s,c,f),o.flags|=262144}function fd(s){for(s=s.firstContext;s!==null;){if(!Ii(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ol(s){Dl=s,Aa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function qr(s){return Dv(Dl,s)}function dd(s,o){return Dl===null&&Ol(s),Dv(s,o)}function Dv(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Aa===null){if(s===null)throw Error(r(308));Aa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Aa=Aa.next=o;return c}var cN=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,f){s.push(f)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},uN=n.unstable_scheduleCallback,hN=n.unstable_NormalPriority,nr={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new cN,data:new Map,refCount:0}}function eh(s){s.refCount--,s.refCount===0&&uN(hN,function(){s.controller.abort()})}var th=null,jm=0,Dc=0,Oc=null;function fN(s,o){if(th===null){var c=th=[];jm=0,Dc=Up(),Oc={status:"pending",value:void 0,then:function(f){c.push(f)}}}return jm++,o.then(Ov,Ov),o}function Ov(){if(--jm===0&&th!==null){Oc!==null&&(Oc.status="fulfilled");var s=th;th=null,Dc=0,Oc=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function dN(s,o){var c=[],f={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return s.then(function(){f.status="fulfilled",f.value=o;for(var p=0;p<c.length;p++)(0,c[p])(o)},function(p){for(f.status="rejected",f.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),f}var kv=oe.S;oe.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&fN(s,o),kv!==null&&kv(s,o)};var kl=dt(null);function Bm(){var s=kl.current;return s!==null?s:xn.pooledCache}function gd(s,o){o===null?ee(kl,kl.current):ee(kl,o.pool)}function Mv(){var s=Bm();return s===null?null:{parent:nr._currentValue,pool:s}}var nh=Error(r(460)),Pv=Error(r(474)),md=Error(r(542)),Um={then:function(){}};function Lv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function pd(){}function Fv(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(pd,pd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,jv(s),s;default:if(typeof o.status=="string")o.then(pd,pd);else{if(s=xn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(f){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=f}},function(f){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,jv(s),s}throw rh=o,nh}}var rh=null;function Vv(){if(rh===null)throw Error(r(459));var s=rh;return rh=null,s}function jv(s){if(s===nh||s===md)throw Error(r(483))}var uo=!1;function zm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ho(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function fo(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Qt&2)!==0){var p=f.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),f.pending=o,o=ld(s),Sv(s,null,c),o}return od(s,f,o,c),ld(s)}function ih(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,ps(s,c)}}function Gm(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var p=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?p=_=C:_=_.next=C,c=c.next}while(c!==null);_===null?p=_=o:_=_.next=o}else p=_=o;c={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var qm=!1;function sh(){if(qm){var s=Oc;if(s!==null)throw s}}function ah(s,o,c,f){qm=!1;var p=s.updateQueue;uo=!1;var _=p.firstBaseUpdate,C=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var X=k,ce=X.next;X.next=null,C===null?_=ce:C.next=ce,C=X;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,k=ye.lastBaseUpdate,k!==C&&(k===null?ye.firstBaseUpdate=ce:k.next=ce,ye.lastBaseUpdate=X))}if(_!==null){var we=p.baseState;C=0,ye=ce=X=null,k=_;do{var fe=k.lane&-536870913,de=fe!==k.lane;if(de?(Pt&fe)===fe:(f&fe)===fe){fe!==0&&fe===Dc&&(qm=!0),ye!==null&&(ye=ye.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ut=s,it=k;fe=o;var cn=c;switch(it.tag){case 1:if(ut=it.payload,typeof ut=="function"){we=ut.call(cn,we,fe);break e}we=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=it.payload,fe=typeof ut=="function"?ut.call(cn,we,fe):ut,fe==null)break e;we=m({},we,fe);break e;case 2:uo=!0}}fe=k.callback,fe!==null&&(s.flags|=64,de&&(s.flags|=8192),de=p.callbacks,de===null?p.callbacks=[fe]:de.push(fe))}else de={lane:fe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ye===null?(ce=ye=de,X=we):ye=ye.next=de,C|=fe;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;de=k,k=de.next,de.next=null,p.lastBaseUpdate=de,p.shared.pending=null}}while(!0);ye===null&&(X=we),p.baseState=X,p.firstBaseUpdate=ce,p.lastBaseUpdate=ye,_===null&&(p.shared.lanes=0),To|=C,s.lanes=C,s.memoizedState=we}}function Bv(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function Uv(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Bv(c[s],o)}var kc=dt(null),xd=dt(0);function zv(s,o){s=Ma,ee(xd,s),ee(kc,o),Ma=s|o.baseLanes}function Wm(){ee(xd,Ma),ee(kc,kc.current)}function Km(){Ma=xd.current,K(kc),K(xd)}var go=0,yt=null,on=null,Un=null,_d=!1,Mc=!1,Ml=!1,vd=0,oh=0,Pc=null,gN=0;function Ln(){throw Error(r(321))}function Xm(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Ii(s[c],o[c]))return!1;return!0}function Ym(s,o,c,f,p,_){return go=_,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,oe.H=s===null||s.memoizedState===null?Sy:Ay,Ml=!1,_=c(f,p),Ml=!1,Mc&&(_=Gv(o,c,f,p)),Hv(s),_}function Hv(s){oe.H=Sd;var o=on!==null&&on.next!==null;if(go=0,Un=on=yt=null,_d=!1,oh=0,Pc=null,o)throw Error(r(300));s===null||gr||(s=s.dependencies,s!==null&&fd(s)&&(gr=!0))}function Gv(s,o,c,f){yt=s;var p=0;do{if(Mc&&(Pc=null),oh=0,Mc=!1,25<=p)throw Error(r(301));if(p+=1,Un=on=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}oe.H=TN,_=o(c,f)}while(Mc);return _}function mN(){var s=oe.H,o=s.useState()[0];return o=typeof o.then=="function"?lh(o):o,s=s.useState()[0],(on!==null?on.memoizedState:null)!==s&&(yt.flags|=1024),o}function $m(){var s=vd!==0;return vd=0,s}function Qm(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Zm(s){if(_d){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}_d=!1}go=0,Un=on=yt=null,Mc=!1,oh=vd=0,Pc=null}function fi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?yt.memoizedState=Un=s:Un=Un.next=s,Un}function zn(){if(on===null){var s=yt.alternate;s=s!==null?s.memoizedState:null}else s=on.next;var o=Un===null?yt.memoizedState:Un.next;if(o!==null)Un=o,on=s;else{if(s===null)throw yt.alternate===null?Error(r(467)):Error(r(310));on=s,s={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Un===null?yt.memoizedState=Un=s:Un=Un.next=s}return Un}function Jm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lh(s){var o=oh;return oh+=1,Pc===null&&(Pc=[]),s=Fv(Pc,s,o),o=yt,(Un===null?o.memoizedState:Un.next)===null&&(o=o.alternate,oe.H=o===null||o.memoizedState===null?Sy:Ay),s}function yd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return lh(s);if(s.$$typeof===H)return qr(s)}throw Error(r(438,String(s)))}function ep(s){var o=null,c=yt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=yt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Jm(),yt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),f=0;f<s;f++)c[f]=L;return o.index++,c}function Ra(s,o){return typeof o=="function"?o(s):o}function Td(s){var o=zn();return tp(o,on,s)}function tp(s,o,c){var f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var p=s.baseQueue,_=f.pending;if(_!==null){if(p!==null){var C=p.next;p.next=_.next,_.next=C}o.baseQueue=p=_,f.pending=null}if(_=s.baseState,p===null)s.memoizedState=_;else{o=p.next;var k=C=null,X=null,ce=o,ye=!1;do{var we=ce.lane&-536870913;if(we!==ce.lane?(Pt&we)===we:(go&we)===we){var fe=ce.revertLane;if(fe===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),we===Dc&&(ye=!0);else if((go&fe)===fe){ce=ce.next,fe===Dc&&(ye=!0);continue}else we={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(k=X=we,C=_):X=X.next=we,yt.lanes|=fe,To|=fe;we=ce.action,Ml&&c(_,we),_=ce.hasEagerState?ce.eagerState:c(_,we)}else fe={lane:we,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(k=X=fe,C=_):X=X.next=fe,yt.lanes|=we,To|=we;ce=ce.next}while(ce!==null&&ce!==o);if(X===null?C=_:X.next=k,!Ii(_,s.memoizedState)&&(gr=!0,ye&&(c=Oc,c!==null)))throw c;s.memoizedState=_,s.baseState=C,s.baseQueue=X,f.lastRenderedState=_}return p===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function np(s){var o=zn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var f=c.dispatch,p=c.pending,_=o.memoizedState;if(p!==null){c.pending=null;var C=p=p.next;do _=s(_,C.action),C=C.next;while(C!==p);Ii(_,o.memoizedState)||(gr=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,f]}function qv(s,o,c){var f=yt,p=zn(),_=Ht;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!Ii((on||p).memoizedState,c);C&&(p.memoizedState=c,gr=!0),p=p.queue;var k=Xv.bind(null,f,p,s);if(ch(2048,8,k,[s]),p.getSnapshot!==o||C||Un!==null&&Un.memoizedState.tag&1){if(f.flags|=2048,Lc(9,bd(),Kv.bind(null,f,p,c,o),null),xn===null)throw Error(r(349));_||(go&124)!==0||Wv(f,o,c)}return c}function Wv(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=yt.updateQueue,o===null?(o=Jm(),yt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Kv(s,o,c,f){o.value=c,o.getSnapshot=f,Yv(o)&&$v(s)}function Xv(s,o,c){return c(function(){Yv(o)&&$v(s)})}function Yv(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Ii(s,c)}catch{return!0}}function $v(s){var o=Cc(s,2);o!==null&&Li(o,s,2)}function rp(s){var o=fi();if(typeof s=="function"){var c=s;if(s=c(),Ml){fn(!0);try{c()}finally{fn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:s},o}function Qv(s,o,c,f){return s.baseState=c,tp(s,on,typeof f=="function"?f:Ra)}function pN(s,o,c,f,p){if(Ed(s))throw Error(r(485));if(s=o.action,s!==null){var _={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};oe.T!==null?c(!0):_.isTransition=!1,f(_),c=o.pending,c===null?(_.next=o.pending=_,Zv(o,_)):(_.next=c.next,o.pending=c.next=_)}}function Zv(s,o){var c=o.action,f=o.payload,p=s.state;if(o.isTransition){var _=oe.T,C={};oe.T=C;try{var k=c(p,f),X=oe.S;X!==null&&X(C,k),Jv(s,o,k)}catch(ce){ip(s,o,ce)}finally{oe.T=_}}else try{_=c(p,f),Jv(s,o,_)}catch(ce){ip(s,o,ce)}}function Jv(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){ey(s,o,f)},function(f){return ip(s,o,f)}):ey(s,o,c)}function ey(s,o,c){o.status="fulfilled",o.value=c,ty(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,Zv(s,c)))}function ip(s,o,c){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,ty(o),o=o.next;while(o!==f)}s.action=null}function ty(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function ny(s,o){return o}function ry(s,o){if(Ht){var c=xn.formState;if(c!==null){e:{var f=yt;if(Ht){if(In){t:{for(var p=In,_=Ks;p.nodeType!==8;){if(!_){p=null;break t}if(p=Rs(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){In=Rs(p.nextSibling),f=p.data==="F!";break e}}Il(f)}f=!1}f&&(o=c[0])}}return c=fi(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:o},c.queue=f,c=by.bind(null,yt,f),f.dispatch=c,f=rp(!1),_=cp.bind(null,yt,!1,f.queue),f=fi(),p={state:o,dispatch:null,action:s,pending:null},f.queue=p,c=pN.bind(null,yt,p,_,c),p.dispatch=c,f.memoizedState=s,[o,c,!1]}function iy(s){var o=zn();return sy(o,on,s)}function sy(s,o,c){if(o=tp(s,o,ny)[0],s=Td(Ra)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=lh(o)}catch(C){throw C===nh?md:C}else f=o;o=zn();var p=o.queue,_=p.dispatch;return c!==o.memoizedState&&(yt.flags|=2048,Lc(9,bd(),xN.bind(null,p,c),null)),[f,_,s]}function xN(s,o){s.action=o}function ay(s){var o=zn(),c=on;if(c!==null)return sy(o,c,s);zn(),o=o.memoizedState,c=zn();var f=c.queue.dispatch;return c.memoizedState=s,[o,f,!1]}function Lc(s,o,c,f){return s={tag:s,create:c,deps:f,inst:o,next:null},o=yt.updateQueue,o===null&&(o=Jm(),yt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s),s}function bd(){return{destroy:void 0,resource:void 0}}function oy(){return zn().memoizedState}function wd(s,o,c,f){var p=fi();f=f===void 0?null:f,yt.flags|=s,p.memoizedState=Lc(1|o,bd(),c,f)}function ch(s,o,c,f){var p=zn();f=f===void 0?null:f;var _=p.memoizedState.inst;on!==null&&f!==null&&Xm(f,on.memoizedState.deps)?p.memoizedState=Lc(o,_,c,f):(yt.flags|=s,p.memoizedState=Lc(1|o,_,c,f))}function ly(s,o){wd(8390656,8,s,o)}function cy(s,o){ch(2048,8,s,o)}function uy(s,o){return ch(4,2,s,o)}function hy(s,o){return ch(4,4,s,o)}function fy(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function dy(s,o,c){c=c!=null?c.concat([s]):null,ch(4,4,fy.bind(null,o,s),c)}function sp(){}function gy(s,o){var c=zn();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&Xm(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function my(s,o){var c=zn();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&Xm(o,f[1]))return f[0];if(f=s(),Ml){fn(!0);try{s()}finally{fn(!1)}}return c.memoizedState=[f,o],f}function ap(s,o,c){return c===void 0||(go&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=_2(),yt.lanes|=s,To|=s,c)}function py(s,o,c,f){return Ii(c,o)?c:kc.current!==null?(s=ap(s,c,f),Ii(s,o)||(gr=!0),s):(go&42)===0?(gr=!0,s.memoizedState=c):(s=_2(),yt.lanes|=s,To|=s,o)}function xy(s,o,c,f,p){var _=pe.p;pe.p=_!==0&&8>_?_:8;var C=oe.T,k={};oe.T=k,cp(s,!1,o,c);try{var X=p(),ce=oe.S;if(ce!==null&&ce(k,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ye=dN(X,f);uh(s,o,ye,Pi(s))}else uh(s,o,f,Pi(s))}catch(we){uh(s,o,{then:function(){},status:"rejected",reason:we},Pi())}finally{pe.p=_,oe.T=C}}function _N(){}function op(s,o,c,f){if(s.tag!==5)throw Error(r(476));var p=_y(s).queue;xy(s,p,o,je,c===null?_N:function(){return vy(s),c(f)})}function _y(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:je,baseState:je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:je},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function vy(s){var o=_y(s).next.queue;uh(s,o,{},Pi())}function lp(){return qr(Rh)}function yy(){return zn().memoizedState}function Ty(){return zn().memoizedState}function vN(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Pi();s=ho(c);var f=fo(o,s,c);f!==null&&(Li(f,o,c),ih(f,o,c)),o={cache:Vm()},s.payload=o;return}o=o.return}}function yN(s,o,c){var f=Pi();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Ed(s)?wy(o,c):(c=Rm(s,o,c,f),c!==null&&(Li(c,s,f),Ey(c,o,f)))}function by(s,o,c){var f=Pi();uh(s,o,c,f)}function uh(s,o,c,f){var p={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ed(s))wy(o,p);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var C=o.lastRenderedState,k=_(C,c);if(p.hasEagerState=!0,p.eagerState=k,Ii(k,C))return od(s,o,p,0),xn===null&&ad(),!1}catch{}finally{}if(c=Rm(s,o,p,f),c!==null)return Li(c,s,f),Ey(c,o,f),!0}return!1}function cp(s,o,c,f){if(f={lane:2,revertLane:Up(),action:f,hasEagerState:!1,eagerState:null,next:null},Ed(s)){if(o)throw Error(r(479))}else o=Rm(s,c,f,2),o!==null&&Li(o,s,2)}function Ed(s){var o=s.alternate;return s===yt||o!==null&&o===yt}function wy(s,o){Mc=_d=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Ey(s,o,c){if((c&4194048)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,ps(s,c)}}var Sd={readContext:qr,use:yd,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln},Sy={readContext:qr,use:yd,useCallback:function(s,o){return fi().memoizedState=[s,o===void 0?null:o],s},useContext:qr,useEffect:ly,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,wd(4194308,4,fy.bind(null,o,s),c)},useLayoutEffect:function(s,o){return wd(4194308,4,s,o)},useInsertionEffect:function(s,o){wd(4,2,s,o)},useMemo:function(s,o){var c=fi();o=o===void 0?null:o;var f=s();if(Ml){fn(!0);try{s()}finally{fn(!1)}}return c.memoizedState=[f,o],f},useReducer:function(s,o,c){var f=fi();if(c!==void 0){var p=c(o);if(Ml){fn(!0);try{c(o)}finally{fn(!1)}}}else p=o;return f.memoizedState=f.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},f.queue=s,s=s.dispatch=yN.bind(null,yt,s),[f.memoizedState,s]},useRef:function(s){var o=fi();return s={current:s},o.memoizedState=s},useState:function(s){s=rp(s);var o=s.queue,c=by.bind(null,yt,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:sp,useDeferredValue:function(s,o){var c=fi();return ap(c,s,o)},useTransition:function(){var s=rp(!1);return s=xy.bind(null,yt,s.queue,!0,!1),fi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var f=yt,p=fi();if(Ht){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),xn===null)throw Error(r(349));(Pt&124)!==0||Wv(f,o,c)}p.memoizedState=c;var _={value:c,getSnapshot:o};return p.queue=_,ly(Xv.bind(null,f,_,s),[s]),f.flags|=2048,Lc(9,bd(),Kv.bind(null,f,_,c,o),null),c},useId:function(){var s=fi(),o=xn.identifierPrefix;if(Ht){var c=Sa,f=Ea;c=(f&~(1<<32-Mn(f)-1)).toString(32)+c,o="«"+o+"R"+c,c=vd++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=gN++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:lp,useFormState:ry,useActionState:ry,useOptimistic:function(s){var o=fi();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=cp.bind(null,yt,!0,c),c.dispatch=o,[s,o]},useMemoCache:ep,useCacheRefresh:function(){return fi().memoizedState=vN.bind(null,yt)}},Ay={readContext:qr,use:yd,useCallback:gy,useContext:qr,useEffect:cy,useImperativeHandle:dy,useInsertionEffect:uy,useLayoutEffect:hy,useMemo:my,useReducer:Td,useRef:oy,useState:function(){return Td(Ra)},useDebugValue:sp,useDeferredValue:function(s,o){var c=zn();return py(c,on.memoizedState,s,o)},useTransition:function(){var s=Td(Ra)[0],o=zn().memoizedState;return[typeof s=="boolean"?s:lh(s),o]},useSyncExternalStore:qv,useId:yy,useHostTransitionStatus:lp,useFormState:iy,useActionState:iy,useOptimistic:function(s,o){var c=zn();return Qv(c,on,s,o)},useMemoCache:ep,useCacheRefresh:Ty},TN={readContext:qr,use:yd,useCallback:gy,useContext:qr,useEffect:cy,useImperativeHandle:dy,useInsertionEffect:uy,useLayoutEffect:hy,useMemo:my,useReducer:np,useRef:oy,useState:function(){return np(Ra)},useDebugValue:sp,useDeferredValue:function(s,o){var c=zn();return on===null?ap(c,s,o):py(c,on.memoizedState,s,o)},useTransition:function(){var s=np(Ra)[0],o=zn().memoizedState;return[typeof s=="boolean"?s:lh(s),o]},useSyncExternalStore:qv,useId:yy,useHostTransitionStatus:lp,useFormState:ay,useActionState:ay,useOptimistic:function(s,o){var c=zn();return on!==null?Qv(c,on,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:ep,useCacheRefresh:Ty},Fc=null,hh=0;function Ad(s){var o=hh;return hh+=1,Fc===null&&(Fc=[]),Fv(Fc,s,o)}function fh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Cd(s,o){throw o.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Cy(s){var o=s._init;return o(s._payload)}function Ry(s){function o(re,J){if(s){var ae=re.deletions;ae===null?(re.deletions=[J],re.flags|=16):ae.push(J)}}function c(re,J){if(!s)return null;for(;J!==null;)o(re,J),J=J.sibling;return null}function f(re){for(var J=new Map;re!==null;)re.key!==null?J.set(re.key,re):J.set(re.index,re),re=re.sibling;return J}function p(re,J){return re=wa(re,J),re.index=0,re.sibling=null,re}function _(re,J,ae){return re.index=ae,s?(ae=re.alternate,ae!==null?(ae=ae.index,ae<J?(re.flags|=67108866,J):ae):(re.flags|=67108866,J)):(re.flags|=1048576,J)}function C(re){return s&&re.alternate===null&&(re.flags|=67108866),re}function k(re,J,ae,Te){return J===null||J.tag!==6?(J=Im(ae,re.mode,Te),J.return=re,J):(J=p(J,ae),J.return=re,J)}function X(re,J,ae,Te){var Ye=ae.type;return Ye===E?ye(re,J,ae.props.children,Te,ae.key):J!==null&&(J.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===I&&Cy(Ye)===J.type)?(J=p(J,ae.props),fh(J,ae),J.return=re,J):(J=cd(ae.type,ae.key,ae.props,null,re.mode,Te),fh(J,ae),J.return=re,J)}function ce(re,J,ae,Te){return J===null||J.tag!==4||J.stateNode.containerInfo!==ae.containerInfo||J.stateNode.implementation!==ae.implementation?(J=Dm(ae,re.mode,Te),J.return=re,J):(J=p(J,ae.children||[]),J.return=re,J)}function ye(re,J,ae,Te,Ye){return J===null||J.tag!==7?(J=Al(ae,re.mode,Te,Ye),J.return=re,J):(J=p(J,ae),J.return=re,J)}function we(re,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Im(""+J,re.mode,ae),J.return=re,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return ae=cd(J.type,J.key,J.props,null,re.mode,ae),fh(ae,J),ae.return=re,ae;case T:return J=Dm(J,re.mode,ae),J.return=re,J;case I:var Te=J._init;return J=Te(J._payload),we(re,J,ae)}if(Ie(J)||B(J))return J=Al(J,re.mode,ae,null),J.return=re,J;if(typeof J.then=="function")return we(re,Ad(J),ae);if(J.$$typeof===H)return we(re,dd(re,J),ae);Cd(re,J)}return null}function fe(re,J,ae,Te){var Ye=J!==null?J.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ye!==null?null:k(re,J,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return ae.key===Ye?X(re,J,ae,Te):null;case T:return ae.key===Ye?ce(re,J,ae,Te):null;case I:return Ye=ae._init,ae=Ye(ae._payload),fe(re,J,ae,Te)}if(Ie(ae)||B(ae))return Ye!==null?null:ye(re,J,ae,Te,null);if(typeof ae.then=="function")return fe(re,J,Ad(ae),Te);if(ae.$$typeof===H)return fe(re,J,dd(re,ae),Te);Cd(re,ae)}return null}function de(re,J,ae,Te,Ye){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return re=re.get(ae)||null,k(J,re,""+Te,Ye);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:return re=re.get(Te.key===null?ae:Te.key)||null,X(J,re,Te,Ye);case T:return re=re.get(Te.key===null?ae:Te.key)||null,ce(J,re,Te,Ye);case I:var bt=Te._init;return Te=bt(Te._payload),de(re,J,ae,Te,Ye)}if(Ie(Te)||B(Te))return re=re.get(ae)||null,ye(J,re,Te,Ye,null);if(typeof Te.then=="function")return de(re,J,ae,Ad(Te),Ye);if(Te.$$typeof===H)return de(re,J,ae,dd(J,Te),Ye);Cd(J,Te)}return null}function ut(re,J,ae,Te){for(var Ye=null,bt=null,tt=J,at=J=0,pr=null;tt!==null&&at<ae.length;at++){tt.index>at?(pr=tt,tt=null):pr=tt.sibling;var Ut=fe(re,tt,ae[at],Te);if(Ut===null){tt===null&&(tt=pr);break}s&&tt&&Ut.alternate===null&&o(re,tt),J=_(Ut,J,at),bt===null?Ye=Ut:bt.sibling=Ut,bt=Ut,tt=pr}if(at===ae.length)return c(re,tt),Ht&&Rl(re,at),Ye;if(tt===null){for(;at<ae.length;at++)tt=we(re,ae[at],Te),tt!==null&&(J=_(tt,J,at),bt===null?Ye=tt:bt.sibling=tt,bt=tt);return Ht&&Rl(re,at),Ye}for(tt=f(tt);at<ae.length;at++)pr=de(tt,re,at,ae[at],Te),pr!==null&&(s&&pr.alternate!==null&&tt.delete(pr.key===null?at:pr.key),J=_(pr,J,at),bt===null?Ye=pr:bt.sibling=pr,bt=pr);return s&&tt.forEach(function(Io){return o(re,Io)}),Ht&&Rl(re,at),Ye}function it(re,J,ae,Te){if(ae==null)throw Error(r(151));for(var Ye=null,bt=null,tt=J,at=J=0,pr=null,Ut=ae.next();tt!==null&&!Ut.done;at++,Ut=ae.next()){tt.index>at?(pr=tt,tt=null):pr=tt.sibling;var Io=fe(re,tt,Ut.value,Te);if(Io===null){tt===null&&(tt=pr);break}s&&tt&&Io.alternate===null&&o(re,tt),J=_(Io,J,at),bt===null?Ye=Io:bt.sibling=Io,bt=Io,tt=pr}if(Ut.done)return c(re,tt),Ht&&Rl(re,at),Ye;if(tt===null){for(;!Ut.done;at++,Ut=ae.next())Ut=we(re,Ut.value,Te),Ut!==null&&(J=_(Ut,J,at),bt===null?Ye=Ut:bt.sibling=Ut,bt=Ut);return Ht&&Rl(re,at),Ye}for(tt=f(tt);!Ut.done;at++,Ut=ae.next())Ut=de(tt,re,at,Ut.value,Te),Ut!==null&&(s&&Ut.alternate!==null&&tt.delete(Ut.key===null?at:Ut.key),J=_(Ut,J,at),bt===null?Ye=Ut:bt.sibling=Ut,bt=Ut);return s&&tt.forEach(function(bI){return o(re,bI)}),Ht&&Rl(re,at),Ye}function cn(re,J,ae,Te){if(typeof ae=="object"&&ae!==null&&ae.type===E&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:e:{for(var Ye=ae.key;J!==null;){if(J.key===Ye){if(Ye=ae.type,Ye===E){if(J.tag===7){c(re,J.sibling),Te=p(J,ae.props.children),Te.return=re,re=Te;break e}}else if(J.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===I&&Cy(Ye)===J.type){c(re,J.sibling),Te=p(J,ae.props),fh(Te,ae),Te.return=re,re=Te;break e}c(re,J);break}else o(re,J);J=J.sibling}ae.type===E?(Te=Al(ae.props.children,re.mode,Te,ae.key),Te.return=re,re=Te):(Te=cd(ae.type,ae.key,ae.props,null,re.mode,Te),fh(Te,ae),Te.return=re,re=Te)}return C(re);case T:e:{for(Ye=ae.key;J!==null;){if(J.key===Ye)if(J.tag===4&&J.stateNode.containerInfo===ae.containerInfo&&J.stateNode.implementation===ae.implementation){c(re,J.sibling),Te=p(J,ae.children||[]),Te.return=re,re=Te;break e}else{c(re,J);break}else o(re,J);J=J.sibling}Te=Dm(ae,re.mode,Te),Te.return=re,re=Te}return C(re);case I:return Ye=ae._init,ae=Ye(ae._payload),cn(re,J,ae,Te)}if(Ie(ae))return ut(re,J,ae,Te);if(B(ae)){if(Ye=B(ae),typeof Ye!="function")throw Error(r(150));return ae=Ye.call(ae),it(re,J,ae,Te)}if(typeof ae.then=="function")return cn(re,J,Ad(ae),Te);if(ae.$$typeof===H)return cn(re,J,dd(re,ae),Te);Cd(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,J!==null&&J.tag===6?(c(re,J.sibling),Te=p(J,ae),Te.return=re,re=Te):(c(re,J),Te=Im(ae,re.mode,Te),Te.return=re,re=Te),C(re)):c(re,J)}return function(re,J,ae,Te){try{hh=0;var Ye=cn(re,J,ae,Te);return Fc=null,Ye}catch(tt){if(tt===nh||tt===md)throw tt;var bt=Di(29,tt,null,re.mode);return bt.lanes=Te,bt.return=re,bt}finally{}}}var Vc=Ry(!0),Ny=Ry(!1),ss=dt(null),Xs=null;function mo(s){var o=s.alternate;ee(rr,rr.current&1),ee(ss,s),Xs===null&&(o===null||kc.current!==null||o.memoizedState!==null)&&(Xs=s)}function Iy(s){if(s.tag===22){if(ee(rr,rr.current),ee(ss,s),Xs===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Xs=s)}}else po()}function po(){ee(rr,rr.current),ee(ss,ss.current)}function Na(s){K(ss),Xs===s&&(Xs=null),K(rr)}var rr=dt(0);function Rd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Jp(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function up(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:m({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var hp={enqueueSetState:function(s,o,c){s=s._reactInternals;var f=Pi(),p=ho(f);p.payload=o,c!=null&&(p.callback=c),o=fo(s,p,f),o!==null&&(Li(o,s,f),ih(o,s,f))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=Pi(),p=ho(f);p.tag=1,p.payload=o,c!=null&&(p.callback=c),o=fo(s,p,f),o!==null&&(Li(o,s,f),ih(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Pi(),f=ho(c);f.tag=2,o!=null&&(f.callback=o),o=fo(s,f,c),o!==null&&(Li(o,s,c),ih(o,s,c))}};function Dy(s,o,c,f,p,_,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,C):o.prototype&&o.prototype.isPureReactComponent?!Xu(c,f)||!Xu(p,_):!0}function Oy(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&hp.enqueueReplaceState(o,o.state,null)}function Pl(s,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(s=s.defaultProps){c===o&&(c=m({},c));for(var p in s)c[p]===void 0&&(c[p]=s[p])}return c}var Nd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ky(s){Nd(s)}function My(s){console.error(s)}function Py(s){Nd(s)}function Id(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function Ly(s,o,c){try{var f=s.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function fp(s,o,c){return c=ho(c),c.tag=3,c.payload={element:null},c.callback=function(){Id(s,o)},c}function Fy(s){return s=ho(s),s.tag=3,s}function Vy(s,o,c,f){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var _=f.value;s.payload=function(){return p(_)},s.callback=function(){Ly(o,c,f)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){Ly(o,c,f),typeof p!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function bN(s,o,c,f,p){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&Ju(o,c,p,!0),c=ss.current,c!==null){switch(c.tag){case 13:return Xs===null?Lp():c.alternate===null&&Dn===0&&(Dn=3),c.flags&=-257,c.flags|=65536,c.lanes=p,f===Um?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),Vp(s,f,p)),!1;case 22:return c.flags|=65536,f===Um?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),Vp(s,f,p)),!1}throw Error(r(435,c.tag))}return Vp(s,f,p),Lp(),!1}if(Ht)return o=ss.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,f!==Mm&&(s=Error(r(422),{cause:f}),Zu(ts(s,c)))):(f!==Mm&&(o=Error(r(423),{cause:f}),Zu(ts(o,c))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,f=ts(f,c),p=fp(s.stateNode,f,p),Gm(s,p),Dn!==4&&(Dn=2)),!1;var _=Error(r(520),{cause:f});if(_=ts(_,c),vh===null?vh=[_]:vh.push(_),Dn!==4&&(Dn=2),o===null)return!0;f=ts(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=p&-p,c.lanes|=s,s=fp(c.stateNode,f,s),Gm(c,s),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(bo===null||!bo.has(_))))return c.flags|=65536,p&=-p,c.lanes|=p,p=Fy(p),Vy(p,s,c,f),Gm(c,p),!1}c=c.return}while(c!==null);return!1}var jy=Error(r(461)),gr=!1;function Nr(s,o,c,f){o.child=s===null?Ny(o,null,c,f):Vc(o,s.child,c,f)}function By(s,o,c,f,p){c=c.render;var _=o.ref;if("ref"in f){var C={};for(var k in f)k!=="ref"&&(C[k]=f[k])}else C=f;return Ol(o),f=Ym(s,o,c,C,_,p),k=$m(),s!==null&&!gr?(Qm(s,o,p),Ia(s,o,p)):(Ht&&k&&Om(o),o.flags|=1,Nr(s,o,f,p),o.child)}function Uy(s,o,c,f,p){if(s===null){var _=c.type;return typeof _=="function"&&!Nm(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,zy(s,o,_,f,p)):(s=cd(c.type,null,f,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!yp(s,p)){var C=_.memoizedProps;if(c=c.compare,c=c!==null?c:Xu,c(C,f)&&s.ref===o.ref)return Ia(s,o,p)}return o.flags|=1,s=wa(_,f),s.ref=o.ref,s.return=o,o.child=s}function zy(s,o,c,f,p){if(s!==null){var _=s.memoizedProps;if(Xu(_,f)&&s.ref===o.ref)if(gr=!1,o.pendingProps=f=_,yp(s,p))(s.flags&131072)!==0&&(gr=!0);else return o.lanes=s.lanes,Ia(s,o,p)}return dp(s,o,c,f,p)}function Hy(s,o,c){var f=o.pendingProps,p=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=_!==null?_.baseLanes|c:c,s!==null){for(p=o.child=s.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;o.childLanes=_&~f}else o.childLanes=0,o.child=null;return Gy(s,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&gd(o,_!==null?_.cachePool:null),_!==null?zv(o,_):Wm(),Iy(o);else return o.lanes=o.childLanes=536870912,Gy(s,o,_!==null?_.baseLanes|c:c,c)}else _!==null?(gd(o,_.cachePool),zv(o,_),po(),o.memoizedState=null):(s!==null&&gd(o,null),Wm(),po());return Nr(s,o,p,c),o.child}function Gy(s,o,c,f){var p=Bm();return p=p===null?null:{parent:nr._currentValue,pool:p},o.memoizedState={baseLanes:c,cachePool:p},s!==null&&gd(o,null),Wm(),Iy(o),s!==null&&Ju(s,o,f,!0),null}function Dd(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function dp(s,o,c,f,p){return Ol(o),c=Ym(s,o,c,f,void 0,p),f=$m(),s!==null&&!gr?(Qm(s,o,p),Ia(s,o,p)):(Ht&&f&&Om(o),o.flags|=1,Nr(s,o,c,p),o.child)}function qy(s,o,c,f,p,_){return Ol(o),o.updateQueue=null,c=Gv(o,f,c,p),Hv(s),f=$m(),s!==null&&!gr?(Qm(s,o,_),Ia(s,o,_)):(Ht&&f&&Om(o),o.flags|=1,Nr(s,o,c,_),o.child)}function Wy(s,o,c,f,p){if(Ol(o),o.stateNode===null){var _=Rc,C=c.contextType;typeof C=="object"&&C!==null&&(_=qr(C)),_=new c(f,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=hp,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=f,_.state=o.memoizedState,_.refs={},zm(o),C=c.contextType,_.context=typeof C=="object"&&C!==null?qr(C):Rc,_.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(up(o,c,C,f),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&hp.enqueueReplaceState(_,_.state,null),ah(o,f,_,p),sh(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(s===null){_=o.stateNode;var k=o.memoizedProps,X=Pl(c,k);_.props=X;var ce=_.context,ye=c.contextType;C=Rc,typeof ye=="object"&&ye!==null&&(C=qr(ye));var we=c.getDerivedStateFromProps;ye=typeof we=="function"||typeof _.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,ye||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k||ce!==C)&&Oy(o,_,f,C),uo=!1;var fe=o.memoizedState;_.state=fe,ah(o,f,_,p),sh(),ce=o.memoizedState,k||fe!==ce||uo?(typeof we=="function"&&(up(o,c,we,f),ce=o.memoizedState),(X=uo||Dy(o,c,X,f,fe,ce,C))?(ye||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ce),_.props=f,_.state=ce,_.context=C,f=X):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{_=o.stateNode,Hm(s,o),C=o.memoizedProps,ye=Pl(c,C),_.props=ye,we=o.pendingProps,fe=_.context,ce=c.contextType,X=Rc,typeof ce=="object"&&ce!==null&&(X=qr(ce)),k=c.getDerivedStateFromProps,(ce=typeof k=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==we||fe!==X)&&Oy(o,_,f,X),uo=!1,fe=o.memoizedState,_.state=fe,ah(o,f,_,p),sh();var de=o.memoizedState;C!==we||fe!==de||uo||s!==null&&s.dependencies!==null&&fd(s.dependencies)?(typeof k=="function"&&(up(o,c,k,f),de=o.memoizedState),(ye=uo||Dy(o,c,ye,f,fe,de,X)||s!==null&&s.dependencies!==null&&fd(s.dependencies))?(ce||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,de,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,de,X)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===s.memoizedProps&&fe===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&fe===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=de),_.props=f,_.state=de,_.context=X,f=ye):(typeof _.componentDidUpdate!="function"||C===s.memoizedProps&&fe===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&fe===s.memoizedState||(o.flags|=1024),f=!1)}return _=f,Dd(s,o),f=(o.flags&128)!==0,_||f?(_=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&f?(o.child=Vc(o,s.child,null,p),o.child=Vc(o,null,c,p)):Nr(s,o,c,p),o.memoizedState=_.state,s=o.child):s=Ia(s,o,p),s}function Ky(s,o,c,f){return Qu(),o.flags|=256,Nr(s,o,c,f),o.child}var gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(s){return{baseLanes:s,cachePool:Mv()}}function pp(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=as),s}function Xy(s,o,c){var f=o.pendingProps,p=!1,_=(o.flags&128)!==0,C;if((C=_)||(C=s!==null&&s.memoizedState===null?!1:(rr.current&2)!==0),C&&(p=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ht){if(p?mo(o):po(),Ht){var k=In,X;if(X=k){e:{for(X=k,k=Ks;X.nodeType!==8;){if(!k){k=null;break e}if(X=Rs(X.nextSibling),X===null){k=null;break e}}k=X}k!==null?(o.memoizedState={dehydrated:k,treeContext:Cl!==null?{id:Ea,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},X=Di(18,null,null,0),X.stateNode=k,X.return=o,o.child=X,ti=o,In=null,X=!0):X=!1}X||Il(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Jp(k)?o.lanes=32:o.lanes=536870912,null;Na(o)}return k=f.children,f=f.fallback,p?(po(),p=o.mode,k=Od({mode:"hidden",children:k},p),f=Al(f,p,c,null),k.return=o,f.return=o,k.sibling=f,o.child=k,p=o.child,p.memoizedState=mp(c),p.childLanes=pp(s,C,c),o.memoizedState=gp,f):(mo(o),xp(o,k))}if(X=s.memoizedState,X!==null&&(k=X.dehydrated,k!==null)){if(_)o.flags&256?(mo(o),o.flags&=-257,o=_p(s,o,c)):o.memoizedState!==null?(po(),o.child=s.child,o.flags|=128,o=null):(po(),p=f.fallback,k=o.mode,f=Od({mode:"visible",children:f.children},k),p=Al(p,k,c,null),p.flags|=2,f.return=o,p.return=o,f.sibling=p,o.child=f,Vc(o,s.child,null,c),f=o.child,f.memoizedState=mp(c),f.childLanes=pp(s,C,c),o.memoizedState=gp,o=p);else if(mo(o),Jp(k)){if(C=k.nextSibling&&k.nextSibling.dataset,C)var ce=C.dgst;C=ce,f=Error(r(419)),f.stack="",f.digest=C,Zu({value:f,source:null,stack:null}),o=_p(s,o,c)}else if(gr||Ju(s,o,c,!1),C=(c&s.childLanes)!==0,gr||C){if(C=xn,C!==null&&(f=c&-c,f=(f&42)!==0?1:vn(f),f=(f&(C.suspendedLanes|c))!==0?0:f,f!==0&&f!==X.retryLane))throw X.retryLane=f,Cc(s,f),Li(C,s,f),jy;k.data==="$?"||Lp(),o=_p(s,o,c)}else k.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=X.treeContext,In=Rs(k.nextSibling),ti=o,Ht=!0,Nl=null,Ks=!1,s!==null&&(rs[is++]=Ea,rs[is++]=Sa,rs[is++]=Cl,Ea=s.id,Sa=s.overflow,Cl=o),o=xp(o,f.children),o.flags|=4096);return o}return p?(po(),p=f.fallback,k=o.mode,X=s.child,ce=X.sibling,f=wa(X,{mode:"hidden",children:f.children}),f.subtreeFlags=X.subtreeFlags&65011712,ce!==null?p=wa(ce,p):(p=Al(p,k,c,null),p.flags|=2),p.return=o,f.return=o,f.sibling=p,o.child=f,f=p,p=o.child,k=s.child.memoizedState,k===null?k=mp(c):(X=k.cachePool,X!==null?(ce=nr._currentValue,X=X.parent!==ce?{parent:ce,pool:ce}:X):X=Mv(),k={baseLanes:k.baseLanes|c,cachePool:X}),p.memoizedState=k,p.childLanes=pp(s,C,c),o.memoizedState=gp,f):(mo(o),c=s.child,s=c.sibling,c=wa(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,s!==null&&(C=o.deletions,C===null?(o.deletions=[s],o.flags|=16):C.push(s)),o.child=c,o.memoizedState=null,c)}function xp(s,o){return o=Od({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Od(s,o){return s=Di(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function _p(s,o,c){return Vc(o,s.child,null,c),s=xp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Yy(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Lm(s.return,o,c)}function vp(s,o,c,f,p){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:p}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=p)}function $y(s,o,c){var f=o.pendingProps,p=f.revealOrder,_=f.tail;if(Nr(s,o,f.children,c),f=rr.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Yy(s,c,o);else if(s.tag===19)Yy(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(ee(rr,f),p){case"forwards":for(c=o.child,p=null;c!==null;)s=c.alternate,s!==null&&Rd(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=o.child,o.child=null):(p=c.sibling,c.sibling=null),vp(o,!1,p,c,_);break;case"backwards":for(c=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&Rd(s)===null){o.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}vp(o,!0,c,null,_);break;case"together":vp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ia(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),To|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Ju(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=wa(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=wa(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function yp(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&fd(s)))}function wN(s,o,c){switch(o.tag){case 3:Ke(o,o.stateNode.containerInfo),co(o,nr,s.memoizedState.cache),Qu();break;case 27:case 5:Me(o);break;case 4:Ke(o,o.stateNode.containerInfo);break;case 10:co(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(mo(o),o.flags|=128,null):(c&o.child.childLanes)!==0?Xy(s,o,c):(mo(o),s=Ia(s,o,c),s!==null?s.sibling:null);mo(o);break;case 19:var p=(s.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(Ju(s,o,c,!1),f=(c&o.childLanes)!==0),p){if(f)return $y(s,o,c);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(rr,rr.current),f)break;return null;case 22:case 23:return o.lanes=0,Hy(s,o,c);case 24:co(o,nr,s.memoizedState.cache)}return Ia(s,o,c)}function Qy(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)gr=!0;else{if(!yp(s,c)&&(o.flags&128)===0)return gr=!1,wN(s,o,c);gr=(s.flags&131072)!==0}else gr=!1,Ht&&(o.flags&1048576)!==0&&Cv(o,hd,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var f=o.elementType,p=f._init;if(f=p(f._payload),o.type=f,typeof f=="function")Nm(f)?(s=Pl(f,s),o.tag=1,o=Wy(null,o,f,s,c)):(o.tag=0,o=dp(null,o,f,s,c));else{if(f!=null){if(p=f.$$typeof,p===Y){o.tag=11,o=By(null,o,f,s,c);break e}else if(p===D){o.tag=14,o=Uy(null,o,f,s,c);break e}}throw o=Qe(f)||f,Error(r(306,o,""))}}return o;case 0:return dp(s,o,o.type,o.pendingProps,c);case 1:return f=o.type,p=Pl(f,o.pendingProps),Wy(s,o,f,p,c);case 3:e:{if(Ke(o,o.stateNode.containerInfo),s===null)throw Error(r(387));f=o.pendingProps;var _=o.memoizedState;p=_.element,Hm(s,o),ah(o,f,null,c);var C=o.memoizedState;if(f=C.cache,co(o,nr,f),f!==_.cache&&Fm(o,[nr],c,!0),sh(),f=C.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Ky(s,o,f,c);break e}else if(f!==p){p=ts(Error(r(424)),o),Zu(p),o=Ky(s,o,f,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(In=Rs(s.firstChild),ti=o,Ht=!0,Nl=null,Ks=!0,c=Ny(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Qu(),f===p){o=Ia(s,o,c);break e}Nr(s,o,f,c)}o=o.child}return o;case 26:return Dd(s,o),s===null?(c=tT(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ht||(c=o.type,s=o.pendingProps,f=Wd(ve.current).createElement(c),f[An]=o,f[pn]=s,Dr(f,c,s),ne(f),o.stateNode=f):o.memoizedState=tT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Me(o),s===null&&Ht&&(f=o.stateNode=Z2(o.type,o.pendingProps,ve.current),ti=o,Ks=!0,p=In,So(o.type)?(e1=p,In=Rs(f.firstChild)):In=p),Nr(s,o,o.pendingProps.children,c),Dd(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Ht&&((p=f=In)&&(f=QN(f,o.type,o.pendingProps,Ks),f!==null?(o.stateNode=f,ti=o,In=Rs(f.firstChild),Ks=!1,p=!0):p=!1),p||Il(o)),Me(o),p=o.type,_=o.pendingProps,C=s!==null?s.memoizedProps:null,f=_.children,$p(p,_)?f=null:C!==null&&$p(p,C)&&(o.flags|=32),o.memoizedState!==null&&(p=Ym(s,o,mN,null,null,c),Rh._currentValue=p),Dd(s,o),Nr(s,o,f,c),o.child;case 6:return s===null&&Ht&&((s=c=In)&&(c=ZN(c,o.pendingProps,Ks),c!==null?(o.stateNode=c,ti=o,In=null,s=!0):s=!1),s||Il(o)),null;case 13:return Xy(s,o,c);case 4:return Ke(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Vc(o,null,f,c):Nr(s,o,f,c),o.child;case 11:return By(s,o,o.type,o.pendingProps,c);case 7:return Nr(s,o,o.pendingProps,c),o.child;case 8:return Nr(s,o,o.pendingProps.children,c),o.child;case 12:return Nr(s,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,co(o,o.type,f.value),Nr(s,o,f.children,c),o.child;case 9:return p=o.type._context,f=o.pendingProps.children,Ol(o),p=qr(p),f=f(p),o.flags|=1,Nr(s,o,f,c),o.child;case 14:return Uy(s,o,o.type,o.pendingProps,c);case 15:return zy(s,o,o.type,o.pendingProps,c);case 19:return $y(s,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},s===null?(c=Od(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=wa(s.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return Hy(s,o,c);case 24:return Ol(o),f=qr(nr),s===null?(p=Bm(),p===null&&(p=xn,_=Vm(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=c),p=_),o.memoizedState={parent:f,cache:p},zm(o),co(o,nr,p)):((s.lanes&c)!==0&&(Hm(s,o),ah(o,null,null,c),sh()),p=s.memoizedState,_=o.memoizedState,p.parent!==f?(p={parent:f,cache:f},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),co(o,nr,f)):(f=_.cache,co(o,nr,f),f!==p.cache&&Fm(o,[nr],c,!0))),Nr(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Da(s){s.flags|=4}function Zy(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!aT(o)){if(o=ss.current,o!==null&&((Pt&4194048)===Pt?Xs!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||o!==Xs))throw rh=Um,Pv;s.flags|=8192}}function kd(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ai():536870912,s.lanes|=o,zc|=o)}function dh(s,o){if(!Ht)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Rn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function EN(s,o,c){var f=o.pendingProps;switch(km(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(o),null;case 1:return Rn(o),null;case 3:return c=o.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ca(nr),Ue(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&($u(o)?Da(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Iv())),Rn(o),null;case 26:return c=o.memoizedState,s===null?(Da(o),c!==null?(Rn(o),Zy(o,c)):(Rn(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Da(o),Rn(o),Zy(o,c)):(Rn(o),o.flags&=-16777217):(s.memoizedProps!==f&&Da(o),Rn(o),o.flags&=-16777217),null;case 27:xt(o),c=ve.current;var p=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Da(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Rn(o),null}s=Z.current,$u(o)?Rv(o):(s=Z2(p,f,c),o.stateNode=s,Da(o))}return Rn(o),null;case 5:if(xt(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Da(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Rn(o),null}if(s=Z.current,$u(o))Rv(o);else{switch(p=Wd(ve.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?p.createElement(c,{is:f.is}):p.createElement(c)}}s[An]=o,s[pn]=f;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=s;e:switch(Dr(s,c,f),c){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Da(o)}}return Rn(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==f&&Da(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(s=ve.current,$u(o)){if(s=o.stateNode,c=o.memoizedProps,f=null,p=ti,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}s[An]=o,s=!!(s.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||q2(s.nodeValue,c)),s||Il(o)}else s=Wd(s).createTextNode(f),s[An]=o,o.stateNode=s}return Rn(o),null;case 13:if(f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=$u(o),f!==null&&f.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[An]=o}else Qu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rn(o),p=!1}else p=Iv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(Na(o),o):(Na(o),null)}if(Na(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,s=s!==null&&s.memoizedState!==null,c){f=o.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==p&&(f.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),kd(o,o.updateQueue),Rn(o),null;case 4:return Ue(),s===null&&qp(o.stateNode.containerInfo),Rn(o),null;case 10:return Ca(o.type),Rn(o),null;case 19:if(K(rr),p=o.memoizedState,p===null)return Rn(o),null;if(f=(o.flags&128)!==0,_=p.rendering,_===null)if(f)dh(p,!1);else{if(Dn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=Rd(s),_!==null){for(o.flags|=128,dh(p,!1),s=_.updateQueue,o.updateQueue=s,kd(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Av(c,s),c=c.sibling;return ee(rr,rr.current&1|2),o.child}s=s.sibling}p.tail!==null&&Ve()>Ld&&(o.flags|=128,f=!0,dh(p,!1),o.lanes=4194304)}else{if(!f)if(s=Rd(_),s!==null){if(o.flags|=128,f=!0,s=s.updateQueue,o.updateQueue=s,kd(o,s),dh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ht)return Rn(o),null}else 2*Ve()-p.renderingStartTime>Ld&&c!==536870912&&(o.flags|=128,f=!0,dh(p,!1),o.lanes=4194304);p.isBackwards?(_.sibling=o.child,o.child=_):(s=p.last,s!==null?s.sibling=_:o.child=_,p.last=_)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Ve(),o.sibling=null,s=rr.current,ee(rr,f?s&1|2:s&1),o):(Rn(o),null);case 22:case 23:return Na(o),Km(),f=o.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Rn(o),o.subtreeFlags&6&&(o.flags|=8192)):Rn(o),c=o.updateQueue,c!==null&&kd(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),s!==null&&K(kl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ca(nr),Rn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function SN(s,o){switch(km(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ca(nr),Ue(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return xt(o),null;case 13:if(Na(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Qu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return K(rr),null;case 4:return Ue(),null;case 10:return Ca(o.type),null;case 22:case 23:return Na(o),Km(),s!==null&&K(kl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ca(nr),null;case 25:return null;default:return null}}function Jy(s,o){switch(km(o),o.tag){case 3:Ca(nr),Ue();break;case 26:case 27:case 5:xt(o);break;case 4:Ue();break;case 13:Na(o);break;case 19:K(rr);break;case 10:Ca(o.type);break;case 22:case 23:Na(o),Km(),s!==null&&K(kl);break;case 24:Ca(nr)}}function gh(s,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&s)===s){f=void 0;var _=c.create,C=c.inst;f=_(),C.destroy=f}c=c.next}while(c!==p)}}catch(k){gn(o,o.return,k)}}function xo(s,o,c){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var _=p.next;f=_;do{if((f.tag&s)===s){var C=f.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,p=o;var X=c,ce=k;try{ce()}catch(ye){gn(p,X,ye)}}}f=f.next}while(f!==_)}}catch(ye){gn(o,o.return,ye)}}function e2(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{Uv(o,c)}catch(f){gn(s,s.return,f)}}}function t2(s,o,c){c.props=Pl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(f){gn(s,o,f)}}function mh(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof c=="function"?s.refCleanup=c(f):c.current=f}}catch(p){gn(s,o,p)}}function Ys(s,o){var c=s.ref,f=s.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(p){gn(s,o,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){gn(s,o,p)}else c.current=null}function n2(s){var o=s.type,c=s.memoizedProps,f=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(p){gn(s,s.return,p)}}function Tp(s,o,c){try{var f=s.stateNode;WN(f,s.type,c,o),f[pn]=o}catch(p){gn(s,s.return,p)}}function r2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&So(s.type)||s.tag===4}function bp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&So(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wp(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=qd));else if(f!==4&&(f===27&&So(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(wp(s,o,c),s=s.sibling;s!==null;)wp(s,o,c),s=s.sibling}function Md(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(f===27&&So(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Md(s,o,c),s=s.sibling;s!==null;)Md(s,o,c),s=s.sibling}function i2(s){var o=s.stateNode,c=s.memoizedProps;try{for(var f=s.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);Dr(o,f,c),o[An]=s,o[pn]=c}catch(_){gn(s,s.return,_)}}var Oa=!1,Fn=!1,Ep=!1,s2=typeof WeakSet=="function"?WeakSet:Set,mr=null;function AN(s,o){if(s=s.containerInfo,Xp=Zd,s=pv(s),bm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var p=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var C=0,k=-1,X=-1,ce=0,ye=0,we=s,fe=null;t:for(;;){for(var de;we!==c||p!==0&&we.nodeType!==3||(k=C+p),we!==_||f!==0&&we.nodeType!==3||(X=C+f),we.nodeType===3&&(C+=we.nodeValue.length),(de=we.firstChild)!==null;)fe=we,we=de;for(;;){if(we===s)break t;if(fe===c&&++ce===p&&(k=C),fe===_&&++ye===f&&(X=C),(de=we.nextSibling)!==null)break;we=fe,fe=we.parentNode}we=de}c=k===-1||X===-1?null:{start:k,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(Yp={focusedElem:s,selectionRange:c},Zd=!1,mr=o;mr!==null;)if(o=mr,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,mr=s;else for(;mr!==null;){switch(o=mr,_=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=o,p=_.memoizedProps,_=_.memoizedState,f=c.stateNode;try{var ut=Pl(c.type,p,c.elementType===c.type);s=f.getSnapshotBeforeUpdate(ut,_),f.__reactInternalSnapshotBeforeUpdate=s}catch(it){gn(c,c.return,it)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Zp(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Zp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,mr=s;break}mr=o.return}}function a2(s,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:_o(s,c),f&4&&gh(5,c);break;case 1:if(_o(s,c),f&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(C){gn(c,c.return,C)}else{var p=Pl(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(p,o,s.__reactInternalSnapshotBeforeUpdate)}catch(C){gn(c,c.return,C)}}f&64&&e2(c),f&512&&mh(c,c.return);break;case 3:if(_o(s,c),f&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Uv(s,o)}catch(C){gn(c,c.return,C)}}break;case 27:o===null&&f&4&&i2(c);case 26:case 5:_o(s,c),o===null&&f&4&&n2(c),f&512&&mh(c,c.return);break;case 12:_o(s,c);break;case 13:_o(s,c),f&4&&c2(s,c),f&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=PN.bind(null,c),JN(s,c))));break;case 22:if(f=c.memoizedState!==null||Oa,!f){o=o!==null&&o.memoizedState!==null||Fn,p=Oa;var _=Fn;Oa=f,(Fn=o)&&!_?vo(s,c,(c.subtreeFlags&8772)!==0):_o(s,c),Oa=p,Fn=_}break;case 30:break;default:_o(s,c)}}function o2(s){var o=s.alternate;o!==null&&(s.alternate=null,o2(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&U(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Sn=null,di=!1;function ka(s,o,c){for(c=c.child;c!==null;)l2(s,o,c),c=c.sibling}function l2(s,o,c){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Bt,c)}catch{}switch(c.tag){case 26:Fn||Ys(c,o),ka(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Fn||Ys(c,o);var f=Sn,p=di;So(c.type)&&(Sn=c.stateNode,di=!1),ka(s,o,c),Eh(c.stateNode),Sn=f,di=p;break;case 5:Fn||Ys(c,o);case 6:if(f=Sn,p=di,Sn=null,ka(s,o,c),Sn=f,di=p,Sn!==null)if(di)try{(Sn.nodeType===9?Sn.body:Sn.nodeName==="HTML"?Sn.ownerDocument.body:Sn).removeChild(c.stateNode)}catch(_){gn(c,o,_)}else try{Sn.removeChild(c.stateNode)}catch(_){gn(c,o,_)}break;case 18:Sn!==null&&(di?(s=Sn,$2(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Oh(s)):$2(Sn,c.stateNode));break;case 4:f=Sn,p=di,Sn=c.stateNode.containerInfo,di=!0,ka(s,o,c),Sn=f,di=p;break;case 0:case 11:case 14:case 15:Fn||xo(2,c,o),Fn||xo(4,c,o),ka(s,o,c);break;case 1:Fn||(Ys(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&t2(c,o,f)),ka(s,o,c);break;case 21:ka(s,o,c);break;case 22:Fn=(f=Fn)||c.memoizedState!==null,ka(s,o,c),Fn=f;break;default:ka(s,o,c)}}function c2(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Oh(s)}catch(c){gn(o,o.return,c)}}function CN(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new s2),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new s2),o;default:throw Error(r(435,s.tag))}}function Sp(s,o){var c=CN(s);o.forEach(function(f){var p=LN.bind(null,s,f);c.has(f)||(c.add(f),f.then(p,p))})}function Oi(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var p=c[f],_=s,C=o,k=C;e:for(;k!==null;){switch(k.tag){case 27:if(So(k.type)){Sn=k.stateNode,di=!1;break e}break;case 5:Sn=k.stateNode,di=!1;break e;case 3:case 4:Sn=k.stateNode.containerInfo,di=!0;break e}k=k.return}if(Sn===null)throw Error(r(160));l2(_,C,p),Sn=null,di=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)u2(o,s),o=o.sibling}var Cs=null;function u2(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Oi(o,s),ki(s),f&4&&(xo(3,s,s.return),gh(3,s),xo(5,s,s.return));break;case 1:Oi(o,s),ki(s),f&512&&(Fn||c===null||Ys(c,c.return)),f&64&&Oa&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var p=Cs;if(Oi(o,s),ki(s),f&512&&(Fn||c===null||Ys(c,c.return)),f&4){var _=c!==null?c.memoizedState:null;if(f=s.memoizedState,c===null)if(f===null)if(s.stateNode===null){e:{f=s.type,c=s.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":_=p.getElementsByTagName("title")[0],(!_||_[j]||_[An]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(f),p.head.insertBefore(_,p.querySelector("head > title"))),Dr(_,f,c),_[An]=s,ne(_),f=_;break e;case"link":var C=iT("link","href",p).get(f+(c.href||""));if(C){for(var k=0;k<C.length;k++)if(_=C[k],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(k,1);break t}}_=p.createElement(f),Dr(_,f,c),p.head.appendChild(_);break;case"meta":if(C=iT("meta","content",p).get(f+(c.content||""))){for(k=0;k<C.length;k++)if(_=C[k],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(k,1);break t}}_=p.createElement(f),Dr(_,f,c),p.head.appendChild(_);break;default:throw Error(r(468,f))}_[An]=s,ne(_),f=_}s.stateNode=f}else sT(p,s.type,s.stateNode);else s.stateNode=rT(p,f,s.memoizedProps);else _!==f?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,f===null?sT(p,s.type,s.stateNode):rT(p,f,s.memoizedProps)):f===null&&s.stateNode!==null&&Tp(s,s.memoizedProps,c.memoizedProps)}break;case 27:Oi(o,s),ki(s),f&512&&(Fn||c===null||Ys(c,c.return)),c!==null&&f&4&&Tp(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Oi(o,s),ki(s),f&512&&(Fn||c===null||Ys(c,c.return)),s.flags&32){p=s.stateNode;try{ci(p,"")}catch(de){gn(s,s.return,de)}}f&4&&s.stateNode!=null&&(p=s.memoizedProps,Tp(s,p,c!==null?c.memoizedProps:p)),f&1024&&(Ep=!0);break;case 6:if(Oi(o,s),ki(s),f&4){if(s.stateNode===null)throw Error(r(162));f=s.memoizedProps,c=s.stateNode;try{c.nodeValue=f}catch(de){gn(s,s.return,de)}}break;case 3:if(Yd=null,p=Cs,Cs=Kd(o.containerInfo),Oi(o,s),Cs=p,ki(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Oh(o.containerInfo)}catch(de){gn(s,s.return,de)}Ep&&(Ep=!1,h2(s));break;case 4:f=Cs,Cs=Kd(s.stateNode.containerInfo),Oi(o,s),ki(s),Cs=f;break;case 12:Oi(o,s),ki(s);break;case 13:Oi(o,s),ki(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Dp=Ve()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Sp(s,f)));break;case 22:p=s.memoizedState!==null;var X=c!==null&&c.memoizedState!==null,ce=Oa,ye=Fn;if(Oa=ce||p,Fn=ye||X,Oi(o,s),Fn=ye,Oa=ce,ki(s),f&8192)e:for(o=s.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(c===null||X||Oa||Fn||Ll(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){X=c=o;try{if(_=X.stateNode,p)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{k=X.stateNode;var we=X.memoizedProps.style,fe=we!=null&&we.hasOwnProperty("display")?we.display:null;k.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(de){gn(X,X.return,de)}}}else if(o.tag===6){if(c===null){X=o;try{X.stateNode.nodeValue=p?"":X.memoizedProps}catch(de){gn(X,X.return,de)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=s.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Sp(s,c))));break;case 19:Oi(o,s),ki(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Sp(s,f)));break;case 30:break;case 21:break;default:Oi(o,s),ki(s)}}function ki(s){var o=s.flags;if(o&2){try{for(var c,f=s.return;f!==null;){if(r2(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var p=c.stateNode,_=bp(s);Md(s,_,p);break;case 5:var C=c.stateNode;c.flags&32&&(ci(C,""),c.flags&=-33);var k=bp(s);Md(s,k,C);break;case 3:case 4:var X=c.stateNode.containerInfo,ce=bp(s);wp(s,ce,X);break;default:throw Error(r(161))}}catch(ye){gn(s,s.return,ye)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function h2(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;h2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function _o(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)a2(s,o.alternate,o),o=o.sibling}function Ll(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:xo(4,o,o.return),Ll(o);break;case 1:Ys(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&t2(o,o.return,c),Ll(o);break;case 27:Eh(o.stateNode);case 26:case 5:Ys(o,o.return),Ll(o);break;case 22:o.memoizedState===null&&Ll(o);break;case 30:Ll(o);break;default:Ll(o)}s=s.sibling}}function vo(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,p=s,_=o,C=_.flags;switch(_.tag){case 0:case 11:case 15:vo(p,_,c),gh(4,_);break;case 1:if(vo(p,_,c),f=_,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ce){gn(f,f.return,ce)}if(f=_,p=f.updateQueue,p!==null){var k=f.stateNode;try{var X=p.shared.hiddenCallbacks;if(X!==null)for(p.shared.hiddenCallbacks=null,p=0;p<X.length;p++)Bv(X[p],k)}catch(ce){gn(f,f.return,ce)}}c&&C&64&&e2(_),mh(_,_.return);break;case 27:i2(_);case 26:case 5:vo(p,_,c),c&&f===null&&C&4&&n2(_),mh(_,_.return);break;case 12:vo(p,_,c);break;case 13:vo(p,_,c),c&&C&4&&c2(p,_);break;case 22:_.memoizedState===null&&vo(p,_,c),mh(_,_.return);break;case 30:break;default:vo(p,_,c)}o=o.sibling}}function Ap(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&eh(c))}function Cp(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&eh(s))}function $s(s,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)f2(s,o,c,f),o=o.sibling}function f2(s,o,c,f){var p=o.flags;switch(o.tag){case 0:case 11:case 15:$s(s,o,c,f),p&2048&&gh(9,o);break;case 1:$s(s,o,c,f);break;case 3:$s(s,o,c,f),p&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&eh(s)));break;case 12:if(p&2048){$s(s,o,c,f),s=o.stateNode;try{var _=o.memoizedProps,C=_.id,k=_.onPostCommit;typeof k=="function"&&k(C,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(X){gn(o,o.return,X)}}else $s(s,o,c,f);break;case 13:$s(s,o,c,f);break;case 23:break;case 22:_=o.stateNode,C=o.alternate,o.memoizedState!==null?_._visibility&2?$s(s,o,c,f):ph(s,o):_._visibility&2?$s(s,o,c,f):(_._visibility|=2,jc(s,o,c,f,(o.subtreeFlags&10256)!==0)),p&2048&&Ap(C,o);break;case 24:$s(s,o,c,f),p&2048&&Cp(o.alternate,o);break;default:$s(s,o,c,f)}}function jc(s,o,c,f,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=s,C=o,k=c,X=f,ce=C.flags;switch(C.tag){case 0:case 11:case 15:jc(_,C,k,X,p),gh(8,C);break;case 23:break;case 22:var ye=C.stateNode;C.memoizedState!==null?ye._visibility&2?jc(_,C,k,X,p):ph(_,C):(ye._visibility|=2,jc(_,C,k,X,p)),p&&ce&2048&&Ap(C.alternate,C);break;case 24:jc(_,C,k,X,p),p&&ce&2048&&Cp(C.alternate,C);break;default:jc(_,C,k,X,p)}o=o.sibling}}function ph(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,f=o,p=f.flags;switch(f.tag){case 22:ph(c,f),p&2048&&Ap(f.alternate,f);break;case 24:ph(c,f),p&2048&&Cp(f.alternate,f);break;default:ph(c,f)}o=o.sibling}}var xh=8192;function Bc(s){if(s.subtreeFlags&xh)for(s=s.child;s!==null;)d2(s),s=s.sibling}function d2(s){switch(s.tag){case 26:Bc(s),s.flags&xh&&s.memoizedState!==null&&fI(Cs,s.memoizedState,s.memoizedProps);break;case 5:Bc(s);break;case 3:case 4:var o=Cs;Cs=Kd(s.stateNode.containerInfo),Bc(s),Cs=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=xh,xh=16777216,Bc(s),xh=o):Bc(s));break;default:Bc(s)}}function g2(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function _h(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];mr=f,p2(f,s)}g2(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m2(s),s=s.sibling}function m2(s){switch(s.tag){case 0:case 11:case 15:_h(s),s.flags&2048&&xo(9,s,s.return);break;case 3:_h(s);break;case 12:_h(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Pd(s)):_h(s);break;default:_h(s)}}function Pd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];mr=f,p2(f,s)}g2(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:xo(8,o,o.return),Pd(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Pd(o));break;default:Pd(o)}s=s.sibling}}function p2(s,o){for(;mr!==null;){var c=mr;switch(c.tag){case 0:case 11:case 15:xo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:eh(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,mr=f;else e:for(c=s;mr!==null;){f=mr;var p=f.sibling,_=f.return;if(o2(f),f===c){mr=null;break e}if(p!==null){p.return=_,mr=p;break e}mr=_}}}var RN={getCacheForType:function(s){var o=qr(nr),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},NN=typeof WeakMap=="function"?WeakMap:Map,Qt=0,xn=null,At=null,Pt=0,Zt=0,Mi=null,yo=!1,Uc=!1,Rp=!1,Ma=0,Dn=0,To=0,Fl=0,Np=0,as=0,zc=0,vh=null,gi=null,Ip=!1,Dp=0,Ld=1/0,Fd=null,bo=null,Ir=0,wo=null,Hc=null,Gc=0,Op=0,kp=null,x2=null,yh=0,Mp=null;function Pi(){if((Qt&2)!==0&&Pt!==0)return Pt&-Pt;if(oe.T!==null){var s=Dc;return s!==0?s:Up()}return zr()}function _2(){as===0&&(as=(Pt&536870912)===0||Ht?Bs():536870912);var s=ss.current;return s!==null&&(s.flags|=32),as}function Li(s,o,c){(s===xn&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(qc(s,0),Eo(s,Pt,as,!1)),Ci(s,c),((Qt&2)===0||s!==xn)&&(s===xn&&((Qt&2)===0&&(Fl|=c),Dn===4&&Eo(s,Pt,as,!1)),Qs(s))}function v2(s,o,c){if((Qt&6)!==0)throw Error(r(327));var f=!c&&(o&124)===0&&(o&s.expiredLanes)===0||ms(s,o),p=f?ON(s,o):Fp(s,o,!0),_=f;do{if(p===0){Uc&&!f&&Eo(s,o,0,!1);break}else{if(c=s.current.alternate,_&&!IN(c)){p=Fp(s,o,!1),_=!1;continue}if(p===2){if(_=o,s.errorRecoveryDisabledLanes&_)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var k=s;p=vh;var X=k.current.memoizedState.isDehydrated;if(X&&(qc(k,C).flags|=256),C=Fp(k,C,!1),C!==2){if(Rp&&!X){k.errorRecoveryDisabledLanes|=_,Fl|=_,p=4;break e}_=gi,gi=p,_!==null&&(gi===null?gi=_:gi.push.apply(gi,_))}p=C}if(_=!1,p!==2)continue}}if(p===1){qc(s,0),Eo(s,o,0,!0);break}e:{switch(f=s,_=p,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Eo(f,o,as,!yo);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(p=Dp+300-Ve(),10<p)){if(Eo(f,o,as,!yo),Wi(f,0,!0)!==0)break e;f.timeoutHandle=X2(y2.bind(null,f,c,gi,Fd,Ip,o,as,Fl,zc,yo,_,2,-0,0),p);break e}y2(f,c,gi,Fd,Ip,o,as,Fl,zc,yo,_,0,-0,0)}}break}while(!0);Qs(s)}function y2(s,o,c,f,p,_,C,k,X,ce,ye,we,fe,de){if(s.timeoutHandle=-1,we=o.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(Ch={stylesheets:null,count:0,unsuspend:hI},d2(o),we=dI(),we!==null)){s.cancelPendingCommit=we(C2.bind(null,s,o,_,c,f,p,C,k,X,ye,1,fe,de)),Eo(s,_,C,!ce);return}C2(s,o,_,c,f,p,C,k,X)}function IN(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var p=c[f],_=p.getSnapshot;p=p.value;try{if(!Ii(_(),p))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Eo(s,o,c,f){o&=~Np,o&=~Fl,s.suspendedLanes|=o,s.pingedLanes&=~o,f&&(s.warmLanes|=o),f=s.expirationTimes;for(var p=o;0<p;){var _=31-Mn(p),C=1<<_;f[_]=-1,p&=~C}c!==0&&Er(s,c,o)}function Vd(){return(Qt&6)===0?(Th(0),!1):!0}function Pp(){if(At!==null){if(Zt===0)var s=At.return;else s=At,Aa=Dl=null,Zm(s),Fc=null,hh=0,s=At;for(;s!==null;)Jy(s.alternate,s),s=s.return;At=null}}function qc(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,XN(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Pp(),xn=s,At=c=wa(s.current,null),Pt=o,Zt=0,Mi=null,yo=!1,Uc=ms(s,o),Rp=!1,zc=as=Np=Fl=To=Dn=0,gi=vh=null,Ip=!1,(o&8)!==0&&(o|=o&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=o;0<f;){var p=31-Mn(f),_=1<<p;o|=s[p],f&=~_}return Ma=o,ad(),c}function T2(s,o){yt=null,oe.H=Sd,o===nh||o===md?(o=Vv(),Zt=3):o===Pv?(o=Vv(),Zt=4):Zt=o===jy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mi=o,At===null&&(Dn=1,Id(s,ts(o,s.current)))}function b2(){var s=oe.H;return oe.H=Sd,s===null?Sd:s}function w2(){var s=oe.A;return oe.A=RN,s}function Lp(){Dn=4,yo||(Pt&4194048)!==Pt&&ss.current!==null||(Uc=!0),(To&134217727)===0&&(Fl&134217727)===0||xn===null||Eo(xn,Pt,as,!1)}function Fp(s,o,c){var f=Qt;Qt|=2;var p=b2(),_=w2();(xn!==s||Pt!==o)&&(Fd=null,qc(s,o)),o=!1;var C=Dn;e:do try{if(Zt!==0&&At!==null){var k=At,X=Mi;switch(Zt){case 8:Pp(),C=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(o=!0);var ce=Zt;if(Zt=0,Mi=null,Wc(s,k,X,ce),c&&Uc){C=0;break e}break;default:ce=Zt,Zt=0,Mi=null,Wc(s,k,X,ce)}}DN(),C=Dn;break}catch(ye){T2(s,ye)}while(!0);return o&&s.shellSuspendCounter++,Aa=Dl=null,Qt=f,oe.H=p,oe.A=_,At===null&&(xn=null,Pt=0,ad()),C}function DN(){for(;At!==null;)E2(At)}function ON(s,o){var c=Qt;Qt|=2;var f=b2(),p=w2();xn!==s||Pt!==o?(Fd=null,Ld=Ve()+500,qc(s,o)):Uc=ms(s,o);e:do try{if(Zt!==0&&At!==null){o=At;var _=Mi;t:switch(Zt){case 1:Zt=0,Mi=null,Wc(s,o,_,1);break;case 2:case 9:if(Lv(_)){Zt=0,Mi=null,S2(o);break}o=function(){Zt!==2&&Zt!==9||xn!==s||(Zt=7),Qs(s)},_.then(o,o);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:Lv(_)?(Zt=0,Mi=null,S2(o)):(Zt=0,Mi=null,Wc(s,o,_,7));break;case 5:var C=null;switch(At.tag){case 26:C=At.memoizedState;case 5:case 27:var k=At;if(!C||aT(C)){Zt=0,Mi=null;var X=k.sibling;if(X!==null)At=X;else{var ce=k.return;ce!==null?(At=ce,jd(ce)):At=null}break t}}Zt=0,Mi=null,Wc(s,o,_,5);break;case 6:Zt=0,Mi=null,Wc(s,o,_,6);break;case 8:Pp(),Dn=6;break e;default:throw Error(r(462))}}kN();break}catch(ye){T2(s,ye)}while(!0);return Aa=Dl=null,oe.H=f,oe.A=p,Qt=c,At!==null?0:(xn=null,Pt=0,ad(),Dn)}function kN(){for(;At!==null&&!hn();)E2(At)}function E2(s){var o=Qy(s.alternate,s,Ma);s.memoizedProps=s.pendingProps,o===null?jd(s):At=o}function S2(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=qy(c,o,o.pendingProps,o.type,void 0,Pt);break;case 11:o=qy(c,o,o.pendingProps,o.type.render,o.ref,Pt);break;case 5:Zm(o);default:Jy(c,o),o=At=Av(o,Ma),o=Qy(c,o,Ma)}s.memoizedProps=s.pendingProps,o===null?jd(s):At=o}function Wc(s,o,c,f){Aa=Dl=null,Zm(o),Fc=null,hh=0;var p=o.return;try{if(bN(s,p,o,c,Pt)){Dn=1,Id(s,ts(c,s.current)),At=null;return}}catch(_){if(p!==null)throw At=p,_;Dn=1,Id(s,ts(c,s.current)),At=null;return}o.flags&32768?(Ht||f===1?s=!0:Uc||(Pt&536870912)!==0?s=!1:(yo=s=!0,(f===2||f===9||f===3||f===6)&&(f=ss.current,f!==null&&f.tag===13&&(f.flags|=16384))),A2(o,s)):jd(o)}function jd(s){var o=s;do{if((o.flags&32768)!==0){A2(o,yo);return}s=o.return;var c=EN(o.alternate,o,Ma);if(c!==null){At=c;return}if(o=o.sibling,o!==null){At=o;return}At=o=s}while(o!==null);Dn===0&&(Dn=5)}function A2(s,o){do{var c=SN(s.alternate,s);if(c!==null){c.flags&=32767,At=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){At=s;return}At=s=c}while(s!==null);Dn=6,At=null}function C2(s,o,c,f,p,_,C,k,X){s.cancelPendingCommit=null;do Bd();while(Ir!==0);if((Qt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=Cm,Jr(s,c,_,C,k,X),s===xn&&(At=xn=null,Pt=0),Hc=o,wo=s,Gc=c,Op=_,kp=p,x2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,FN(or,function(){return O2(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=oe.T,oe.T=null,p=pe.p,pe.p=2,C=Qt,Qt|=4;try{AN(s,o,c)}finally{Qt=C,pe.p=p,oe.T=f}}Ir=1,R2(),N2(),I2()}}function R2(){if(Ir===1){Ir=0;var s=wo,o=Hc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=oe.T,oe.T=null;var f=pe.p;pe.p=2;var p=Qt;Qt|=4;try{u2(o,s);var _=Yp,C=pv(s.containerInfo),k=_.focusedElem,X=_.selectionRange;if(C!==k&&k&&k.ownerDocument&&mv(k.ownerDocument.documentElement,k)){if(X!==null&&bm(k)){var ce=X.start,ye=X.end;if(ye===void 0&&(ye=ce),"selectionStart"in k)k.selectionStart=ce,k.selectionEnd=Math.min(ye,k.value.length);else{var we=k.ownerDocument||document,fe=we&&we.defaultView||window;if(fe.getSelection){var de=fe.getSelection(),ut=k.textContent.length,it=Math.min(X.start,ut),cn=X.end===void 0?it:Math.min(X.end,ut);!de.extend&&it>cn&&(C=cn,cn=it,it=C);var re=gv(k,it),J=gv(k,cn);if(re&&J&&(de.rangeCount!==1||de.anchorNode!==re.node||de.anchorOffset!==re.offset||de.focusNode!==J.node||de.focusOffset!==J.offset)){var ae=we.createRange();ae.setStart(re.node,re.offset),de.removeAllRanges(),it>cn?(de.addRange(ae),de.extend(J.node,J.offset)):(ae.setEnd(J.node,J.offset),de.addRange(ae))}}}}for(we=[],de=k;de=de.parentNode;)de.nodeType===1&&we.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<we.length;k++){var Te=we[k];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}Zd=!!Xp,Yp=Xp=null}finally{Qt=p,pe.p=f,oe.T=c}}s.current=o,Ir=2}}function N2(){if(Ir===2){Ir=0;var s=wo,o=Hc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=oe.T,oe.T=null;var f=pe.p;pe.p=2;var p=Qt;Qt|=4;try{a2(s,o.alternate,o)}finally{Qt=p,pe.p=f,oe.T=c}}Ir=3}}function I2(){if(Ir===4||Ir===3){Ir=0,Ot();var s=wo,o=Hc,c=Gc,f=x2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ir=5:(Ir=0,Hc=wo=null,D2(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(bo=null),Sr(c),o=o.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Bt,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=oe.T,p=pe.p,pe.p=2,oe.T=null;try{for(var _=s.onRecoverableError,C=0;C<f.length;C++){var k=f[C];_(k.value,{componentStack:k.stack})}}finally{oe.T=o,pe.p=p}}(Gc&3)!==0&&Bd(),Qs(s),p=s.pendingLanes,(c&4194090)!==0&&(p&42)!==0?s===Mp?yh++:(yh=0,Mp=s):yh=0,Th(0)}}function D2(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,eh(o)))}function Bd(s){return R2(),N2(),I2(),O2()}function O2(){if(Ir!==5)return!1;var s=wo,o=Op;Op=0;var c=Sr(Gc),f=oe.T,p=pe.p;try{pe.p=32>c?32:c,oe.T=null,c=kp,kp=null;var _=wo,C=Gc;if(Ir=0,Hc=wo=null,Gc=0,(Qt&6)!==0)throw Error(r(331));var k=Qt;if(Qt|=4,m2(_.current),f2(_,_.current,C,c),Qt=k,Th(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Bt,_)}catch{}return!0}finally{pe.p=p,oe.T=f,D2(s,o)}}function k2(s,o,c){o=ts(c,o),o=fp(s.stateNode,o,2),s=fo(s,o,2),s!==null&&(Ci(s,2),Qs(s))}function gn(s,o,c){if(s.tag===3)k2(s,s,c);else for(;o!==null;){if(o.tag===3){k2(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(bo===null||!bo.has(f))){s=ts(c,s),c=Fy(2),f=fo(o,c,2),f!==null&&(Vy(c,f,o,s),Ci(f,2),Qs(f));break}}o=o.return}}function Vp(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new NN;var p=new Set;f.set(o,p)}else p=f.get(o),p===void 0&&(p=new Set,f.set(o,p));p.has(c)||(Rp=!0,p.add(c),s=MN.bind(null,s,o,c),o.then(s,s))}function MN(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,xn===s&&(Pt&c)===c&&(Dn===4||Dn===3&&(Pt&62914560)===Pt&&300>Ve()-Dp?(Qt&2)===0&&qc(s,0):Np|=c,zc===Pt&&(zc=0)),Qs(s)}function M2(s,o){o===0&&(o=Ai()),s=Cc(s,o),s!==null&&(Ci(s,o),Qs(s))}function PN(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),M2(s,c)}function LN(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),M2(s,c)}function FN(s,o){return sn(s,o)}var Ud=null,Kc=null,jp=!1,zd=!1,Bp=!1,Vl=0;function Qs(s){s!==Kc&&s.next===null&&(Kc===null?Ud=Kc=s:Kc=Kc.next=s),zd=!0,jp||(jp=!0,jN())}function Th(s,o){if(!Bp&&zd){Bp=!0;do for(var c=!1,f=Ud;f!==null;){if(s!==0){var p=f.pendingLanes;if(p===0)var _=0;else{var C=f.suspendedLanes,k=f.pingedLanes;_=(1<<31-Mn(42|s)+1)-1,_&=p&~(C&~k),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,V2(f,_))}else _=Pt,_=Wi(f,f===xn?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||ms(f,_)||(c=!0,V2(f,_));f=f.next}while(c);Bp=!1}}function VN(){P2()}function P2(){zd=jp=!1;var s=0;Vl!==0&&(KN()&&(s=Vl),Vl=0);for(var o=Ve(),c=null,f=Ud;f!==null;){var p=f.next,_=L2(f,o);_===0?(f.next=null,c===null?Ud=p:c.next=p,p===null&&(Kc=c)):(c=f,(s!==0||(_&3)!==0)&&(zd=!0)),f=p}Th(s)}function L2(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,p=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var C=31-Mn(_),k=1<<C,X=p[C];X===-1?((k&c)===0||(k&f)!==0)&&(p[C]=Ki(k,o)):X<=o&&(s.expiredLanes|=k),_&=~k}if(o=xn,c=Pt,c=Wi(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,c===0||s===o&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Je(f),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ms(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(f!==null&&Je(f),Sr(c)){case 2:case 8:c=br;break;case 32:c=or;break;case 268435456:c=ai;break;default:c=or}return f=F2.bind(null,s),c=sn(c,f),s.callbackPriority=o,s.callbackNode=c,o}return f!==null&&f!==null&&Je(f),s.callbackPriority=2,s.callbackNode=null,2}function F2(s,o){if(Ir!==0&&Ir!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Bd()&&s.callbackNode!==c)return null;var f=Pt;return f=Wi(s,s===xn?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(v2(s,f,o),L2(s,Ve()),s.callbackNode!=null&&s.callbackNode===c?F2.bind(null,s):null)}function V2(s,o){if(Bd())return null;v2(s,o,!0)}function jN(){YN(function(){(Qt&6)!==0?sn(Bn,VN):P2()})}function Up(){return Vl===0&&(Vl=Bs()),Vl}function j2(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ao(""+s)}function B2(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function BN(s,o,c,f,p){if(o==="submit"&&c&&c.stateNode===p){var _=j2((p[pn]||null).action),C=f.submitter;C&&(o=(o=C[pn]||null)?j2(o.formAction):C.getAttribute("formAction"),o!==null&&(_=o,C=null));var k=new Ji("action","action",null,f,p);s.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Vl!==0){var X=C?B2(p,C):new FormData(p);op(c,{pending:!0,data:X,method:p.method,action:_},null,X)}}else typeof _=="function"&&(k.preventDefault(),X=C?B2(p,C):new FormData(p),op(c,{pending:!0,data:X,method:p.method,action:_},_,X))},currentTarget:p}]})}}for(var zp=0;zp<Am.length;zp++){var Hp=Am[zp],UN=Hp.toLowerCase(),zN=Hp[0].toUpperCase()+Hp.slice(1);As(UN,"on"+zN)}As(vv,"onAnimationEnd"),As(yv,"onAnimationIteration"),As(Tv,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(sN,"onTransitionRun"),As(aN,"onTransitionStart"),As(oN,"onTransitionCancel"),As(bv,"onTransitionEnd"),Oe("onMouseEnter",["mouseout","mouseover"]),Oe("onMouseLeave",["mouseout","mouseover"]),Oe("onPointerEnter",["pointerout","pointerover"]),Oe("onPointerLeave",["pointerout","pointerover"]),Se("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Se("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Se("onBeforeInput",["compositionend","keypress","textInput","paste"]),Se("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bh));function U2(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],p=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var C=f.length-1;0<=C;C--){var k=f[C],X=k.instance,ce=k.currentTarget;if(k=k.listener,X!==_&&p.isPropagationStopped())break e;_=k,p.currentTarget=ce;try{_(p)}catch(ye){Nd(ye)}p.currentTarget=null,_=X}else for(C=0;C<f.length;C++){if(k=f[C],X=k.instance,ce=k.currentTarget,k=k.listener,X!==_&&p.isPropagationStopped())break e;_=k,p.currentTarget=ce;try{_(p)}catch(ye){Nd(ye)}p.currentTarget=null,_=X}}}}function Ct(s,o){var c=o[Xi];c===void 0&&(c=o[Xi]=new Set);var f=s+"__bubble";c.has(f)||(z2(o,s,2,!1),c.add(f))}function Gp(s,o,c){var f=0;o&&(f|=4),z2(c,s,f,o)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function qp(s){if(!s[Hd]){s[Hd]=!0,le.forEach(function(c){c!=="selectionchange"&&(HN.has(c)||Gp(c,!1,s),Gp(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Hd]||(o[Hd]=!0,Gp("selectionchange",!1,o))}}function z2(s,o,c,f){switch(fT(o)){case 2:var p=pI;break;case 8:p=xI;break;default:p=s1}c=p.bind(null,o,c,s),p=void 0,!Cr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),f?p!==void 0?s.addEventListener(o,c,{capture:!0,passive:p}):s.addEventListener(o,c,!0):p!==void 0?s.addEventListener(o,c,{passive:p}):s.addEventListener(o,c,!1)}function Wp(s,o,c,f,p){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var k=f.stateNode.containerInfo;if(k===p)break;if(C===4)for(C=f.return;C!==null;){var X=C.tag;if((X===3||X===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;k!==null;){if(C=q(k),C===null)return;if(X=C.tag,X===5||X===6||X===26||X===27){f=_=C;continue e}k=k.parentNode}}f=f.return}Tc(function(){var ce=_,ye=ui(c),we=[];e:{var fe=wv.get(s);if(fe!==void 0){var de=Ji,ut=s;switch(s){case"keypress":if(Qi(c)===0)break e;case"keydown":case"keyup":de=Ze;break;case"focusin":ut="focus",de=oo;break;case"focusout":ut="blur",de=oo;break;case"beforeblur":case"afterblur":de=oo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=gt;break;case vv:case yv:case Tv:de=lo;break;case bv:de=Xe;break;case"scroll":case"scrollend":de=Tl;break;case"wheel":de=dn;break;case"copy":case"cut":case"paste":de=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=an;break;case"toggle":case"beforetoggle":de=Es}var it=(o&4)!==0,cn=!it&&(s==="scroll"||s==="scrollend"),re=it?fe!==null?fe+"Capture":null:fe;it=[];for(var J=ce,ae;J!==null;){var Te=J;if(ae=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ae===null||re===null||(Te=xa(J,re),Te!=null&&it.push(wh(J,Te,ae))),cn)break;J=J.return}0<it.length&&(fe=new de(fe,ut,null,c,ye),we.push({event:fe,listeners:it}))}}if((o&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",fe&&c!==vs&&(ut=c.relatedTarget||c.fromElement)&&(q(ut)||ut[Zn]))break e;if((de||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,de?(ut=c.relatedTarget||c.toElement,de=ce,ut=ut?q(ut):null,ut!==null&&(cn=a(ut),it=ut.tag,ut!==cn||it!==5&&it!==27&&it!==6)&&(ut=null)):(de=null,ut=ce),de!==ut)){if(it=hi,Te="onMouseLeave",re="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(it=an,Te="onPointerLeave",re="onPointerEnter",J="pointer"),cn=de==null?fe:ie(de),ae=ut==null?fe:ie(ut),fe=new it(Te,J+"leave",de,c,ye),fe.target=cn,fe.relatedTarget=ae,Te=null,q(ye)===ce&&(it=new it(re,J+"enter",ut,c,ye),it.target=ae,it.relatedTarget=cn,Te=it),cn=Te,de&&ut)t:{for(it=de,re=ut,J=0,ae=it;ae;ae=Xc(ae))J++;for(ae=0,Te=re;Te;Te=Xc(Te))ae++;for(;0<J-ae;)it=Xc(it),J--;for(;0<ae-J;)re=Xc(re),ae--;for(;J--;){if(it===re||re!==null&&it===re.alternate)break t;it=Xc(it),re=Xc(re)}it=null}else it=null;de!==null&&H2(we,fe,de,it,!1),ut!==null&&cn!==null&&H2(we,cn,ut,it,!0)}}e:{if(fe=ce?ie(ce):window,de=fe.nodeName&&fe.nodeName.toLowerCase(),de==="select"||de==="input"&&fe.type==="file")var Ye=lv;else if(tr(fe))if(cv)Ye=nN;else{Ye=eN;var bt=JR}else de=fe.nodeName,!de||de.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ce&&xl(ce.elementType)&&(Ye=lv):Ye=tN;if(Ye&&(Ye=Ye(s,ce))){ba(we,Ye,c,ye);break e}bt&&bt(s,fe,ce),s==="focusout"&&ce&&fe.type==="number"&&ce.memoizedProps.value!=null&&zs(fe,"number",fe.value)}switch(bt=ce?ie(ce):window,s){case"focusin":(tr(bt)||bt.contentEditable==="true")&&(Ec=bt,wm=ce,Yu=null);break;case"focusout":Yu=wm=Ec=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,xv(we,c,ye);break;case"selectionchange":if(iN)break;case"keydown":case"keyup":xv(we,c,ye)}var tt;if(ei)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else kt?me(s,c)&&(at="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(at="onCompositionStart");at&&(A&&c.locale!=="ko"&&(kt||at!=="onCompositionStart"?at==="onCompositionEnd"&&kt&&(tt=vl()):(Ni=ye,Hs="value"in Ni?Ni.value:Ni.textContent,kt=!0)),bt=Gd(ce,at),0<bt.length&&(at=new N(at,s,null,c,ye),we.push({event:at,listeners:bt}),tt?at.data=tt:(tt=Pe(c),tt!==null&&(at.data=tt)))),(tt=b?er(s,c):Mt(s,c))&&(at=Gd(ce,"onBeforeInput"),0<at.length&&(bt=new N("onBeforeInput","beforeinput",null,c,ye),we.push({event:bt,listeners:at}),bt.data=tt)),BN(we,s,ce,c,ye)}U2(we,o)})}function wh(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Gd(s,o){for(var c=o+"Capture",f=[];s!==null;){var p=s,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=xa(s,c),p!=null&&f.unshift(wh(s,p,_)),p=xa(s,o),p!=null&&f.push(wh(s,p,_))),s.tag===3)return f;s=s.return}return[]}function Xc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function H2(s,o,c,f,p){for(var _=o._reactName,C=[];c!==null&&c!==f;){var k=c,X=k.alternate,ce=k.stateNode;if(k=k.tag,X!==null&&X===f)break;k!==5&&k!==26&&k!==27||ce===null||(X=ce,p?(ce=xa(c,_),ce!=null&&C.unshift(wh(c,ce,X))):p||(ce=xa(c,_),ce!=null&&C.push(wh(c,ce,X)))),c=c.return}C.length!==0&&s.push({event:o,listeners:C})}var GN=/\r\n?/g,qN=/\u0000|\uFFFD/g;function G2(s){return(typeof s=="string"?s:""+s).replace(GN,`
`).replace(qN,"")}function q2(s,o){return o=G2(o),G2(s)===o}function qd(){}function ln(s,o,c,f,p,_){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ci(s,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ci(s,""+f);break;case"className":vt(s,"class",f);break;case"tabIndex":vt(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":vt(s,c,f);break;case"style":pl(s,f,_);break;case"data":if(o!=="object"){vt(s,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=ao(""+f),s.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&ln(s,o,"name",p.name,p,null),ln(s,o,"formEncType",p.formEncType,p,null),ln(s,o,"formMethod",p.formMethod,p,null),ln(s,o,"formTarget",p.formTarget,p,null)):(ln(s,o,"encType",p.encType,p,null),ln(s,o,"method",p.method,p,null),ln(s,o,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=ao(""+f),s.setAttribute(c,f);break;case"onClick":f!=null&&(s.onclick=qd);break;case"onScroll":f!=null&&Ct("scroll",s);break;case"onScrollEnd":f!=null&&Ct("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}c=ao(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""+f):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":f===!0?s.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,f):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(c,f):s.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(c):s.setAttribute(c,f);break;case"popover":Ct("beforetoggle",s),Ct("toggle",s),St(s,"popover",f);break;case"xlinkActuate":Tt(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Tt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Tt(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Tt(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Tt(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Tt(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Tt(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Tt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Tt(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":St(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Gu.get(c)||c,St(s,c,f))}}function Kp(s,o,c,f,p,_){switch(c){case"style":pl(s,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof f=="string"?ci(s,f):(typeof f=="number"||typeof f=="bigint")&&ci(s,""+f);break;case"onScroll":f!=null&&Ct("scroll",s);break;case"onScrollEnd":f!=null&&Ct("scrollend",s);break;case"onClick":f!=null&&(s.onclick=qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ue.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),o=c.slice(2,p?c.length-7:void 0),_=s[pn]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(o,_,p),typeof f=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,f,p);break e}c in s?s[c]=f:f===!0?s.setAttribute(c,""):St(s,c,f)}}}function Dr(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",s),Ct("load",s);var f=!1,p=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var C=c[_];if(C!=null)switch(_){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ln(s,o,_,C,c,null)}}p&&ln(s,o,"srcSet",c.srcSet,c,null),f&&ln(s,o,"src",c.src,c,null);return;case"input":Ct("invalid",s);var k=_=C=p=null,X=null,ce=null;for(f in c)if(c.hasOwnProperty(f)){var ye=c[f];if(ye!=null)switch(f){case"name":p=ye;break;case"type":C=ye;break;case"checked":X=ye;break;case"defaultChecked":ce=ye;break;case"value":_=ye;break;case"defaultValue":k=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:ln(s,o,f,ye,c,null)}}ga(s,_,k,X,ce,C,p,!1),so(s);return;case"select":Ct("invalid",s),f=C=_=null;for(p in c)if(c.hasOwnProperty(p)&&(k=c[p],k!=null))switch(p){case"value":_=k;break;case"defaultValue":C=k;break;case"multiple":f=k;default:ln(s,o,p,k,c,null)}o=_,c=C,s.multiple=!!f,o!=null?_s(s,!!f,o,!1):c!=null&&_s(s,!!f,c,!0);return;case"textarea":Ct("invalid",s),_=p=f=null;for(C in c)if(c.hasOwnProperty(C)&&(k=c[C],k!=null))switch(C){case"value":f=k;break;case"defaultValue":p=k;break;case"children":_=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ln(s,o,C,k,c,null)}ma(s,f,p,_),so(s);return;case"option":for(X in c)if(c.hasOwnProperty(X)&&(f=c[X],f!=null))switch(X){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ln(s,o,X,f,c,null)}return;case"dialog":Ct("beforetoggle",s),Ct("toggle",s),Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":Ct("load",s);break;case"video":case"audio":for(f=0;f<bh.length;f++)Ct(bh[f],s);break;case"image":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"embed":case"source":case"link":Ct("error",s),Ct("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in c)if(c.hasOwnProperty(ce)&&(f=c[ce],f!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ln(s,o,ce,f,c,null)}return;default:if(xl(o)){for(ye in c)c.hasOwnProperty(ye)&&(f=c[ye],f!==void 0&&Kp(s,o,ye,f,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(f=c[k],f!=null&&ln(s,o,k,f,c,null))}function WN(s,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,C=null,k=null,X=null,ce=null,ye=null;for(de in c){var we=c[de];if(c.hasOwnProperty(de)&&we!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":X=we;default:f.hasOwnProperty(de)||ln(s,o,de,null,f,we)}}for(var fe in f){var de=f[fe];if(we=c[fe],f.hasOwnProperty(fe)&&(de!=null||we!=null))switch(fe){case"type":_=de;break;case"name":p=de;break;case"checked":ce=de;break;case"defaultChecked":ye=de;break;case"value":C=de;break;case"defaultValue":k=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:de!==we&&ln(s,o,fe,de,f,we)}}Gr(s,C,k,X,ce,ye,_,p);return;case"select":de=C=k=fe=null;for(_ in c)if(X=c[_],c.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":de=X;default:f.hasOwnProperty(_)||ln(s,o,_,null,f,X)}for(p in f)if(_=f[p],X=c[p],f.hasOwnProperty(p)&&(_!=null||X!=null))switch(p){case"value":fe=_;break;case"defaultValue":k=_;break;case"multiple":C=_;default:_!==X&&ln(s,o,p,_,f,X)}o=k,c=C,f=de,fe!=null?_s(s,!!c,fe,!1):!!f!=!!c&&(o!=null?_s(s,!!c,o,!0):_s(s,!!c,c?[]:"",!1));return;case"textarea":de=fe=null;for(k in c)if(p=c[k],c.hasOwnProperty(k)&&p!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ln(s,o,k,null,f,p)}for(C in f)if(p=f[C],_=c[C],f.hasOwnProperty(C)&&(p!=null||_!=null))switch(C){case"value":fe=p;break;case"defaultValue":de=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==_&&ln(s,o,C,p,f,_)}Kt(s,fe,de);return;case"option":for(var ut in c)if(fe=c[ut],c.hasOwnProperty(ut)&&fe!=null&&!f.hasOwnProperty(ut))switch(ut){case"selected":s.selected=!1;break;default:ln(s,o,ut,null,f,fe)}for(X in f)if(fe=f[X],de=c[X],f.hasOwnProperty(X)&&fe!==de&&(fe!=null||de!=null))switch(X){case"selected":s.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:ln(s,o,X,fe,f,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in c)fe=c[it],c.hasOwnProperty(it)&&fe!=null&&!f.hasOwnProperty(it)&&ln(s,o,it,null,f,fe);for(ce in f)if(fe=f[ce],de=c[ce],f.hasOwnProperty(ce)&&fe!==de&&(fe!=null||de!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:ln(s,o,ce,fe,f,de)}return;default:if(xl(o)){for(var cn in c)fe=c[cn],c.hasOwnProperty(cn)&&fe!==void 0&&!f.hasOwnProperty(cn)&&Kp(s,o,cn,void 0,f,fe);for(ye in f)fe=f[ye],de=c[ye],!f.hasOwnProperty(ye)||fe===de||fe===void 0&&de===void 0||Kp(s,o,ye,fe,f,de);return}}for(var re in c)fe=c[re],c.hasOwnProperty(re)&&fe!=null&&!f.hasOwnProperty(re)&&ln(s,o,re,null,f,fe);for(we in f)fe=f[we],de=c[we],!f.hasOwnProperty(we)||fe===de||fe==null&&de==null||ln(s,o,we,fe,f,de)}var Xp=null,Yp=null;function Wd(s){return s.nodeType===9?s:s.ownerDocument}function W2(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K2(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function $p(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qp=null;function KN(){var s=window.event;return s&&s.type==="popstate"?s===Qp?!1:(Qp=s,!0):(Qp=null,!1)}var X2=typeof setTimeout=="function"?setTimeout:void 0,XN=typeof clearTimeout=="function"?clearTimeout:void 0,Y2=typeof Promise=="function"?Promise:void 0,YN=typeof queueMicrotask=="function"?queueMicrotask:typeof Y2<"u"?function(s){return Y2.resolve(null).then(s).catch($N)}:X2;function $N(s){setTimeout(function(){throw s})}function So(s){return s==="head"}function $2(s,o){var c=o,f=0,p=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<f&&8>f){c=f;var C=s.ownerDocument;if(c&1&&Eh(C.documentElement),c&2&&Eh(C.body),c&4)for(c=C.head,Eh(c),C=c.firstChild;C;){var k=C.nextSibling,X=C.nodeName;C[j]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=k}}if(p===0){s.removeChild(_),Oh(o);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:f=c.charCodeAt(0)-48;else f=0;c=_}while(c);Oh(o)}function Zp(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Zp(c),U(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function QN(s,o,c,f){for(;s.nodeType===1;){var p=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[j])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Rs(s.nextSibling),s===null)break}return null}function ZN(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Rs(s.nextSibling),s===null))return null;return s}function Jp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function JN(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Rs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var e1=null;function Q2(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function Z2(s,o,c){switch(o=Wd(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Eh(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);U(s)}var os=new Map,J2=new Set;function Kd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Pa=pe.d;pe.d={f:eI,r:tI,D:nI,C:rI,L:iI,m:sI,X:oI,S:aI,M:lI};function eI(){var s=Pa.f(),o=Vd();return s||o}function tI(s){var o=W(s);o!==null&&o.tag===5&&o.type==="form"?vy(o):Pa.r(s)}var Yc=typeof document>"u"?null:document;function eT(s,o,c){var f=Yc;if(f&&typeof o=="string"&&o){var p=Cn(o);p='link[rel="'+s+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),J2.has(p)||(J2.add(p),s={rel:s,crossOrigin:c,href:o},f.querySelector(p)===null&&(o=f.createElement("link"),Dr(o,"link",s),ne(o),f.head.appendChild(o)))}}function nI(s){Pa.D(s),eT("dns-prefetch",s,null)}function rI(s,o){Pa.C(s,o),eT("preconnect",s,o)}function iI(s,o,c){Pa.L(s,o,c);var f=Yc;if(f&&s&&o){var p='link[rel="preload"][as="'+Cn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+Cn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+Cn(c.imageSizes)+'"]')):p+='[href="'+Cn(s)+'"]';var _=p;switch(o){case"style":_=$c(s);break;case"script":_=Qc(s)}os.has(_)||(s=m({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),os.set(_,s),f.querySelector(p)!==null||o==="style"&&f.querySelector(Sh(_))||o==="script"&&f.querySelector(Ah(_))||(o=f.createElement("link"),Dr(o,"link",s),ne(o),f.head.appendChild(o)))}}function sI(s,o){Pa.m(s,o);var c=Yc;if(c&&s){var f=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Cn(f)+'"][href="'+Cn(s)+'"]',_=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Qc(s)}if(!os.has(_)&&(s=m({rel:"modulepreload",href:s},o),os.set(_,s),c.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ah(_)))return}f=c.createElement("link"),Dr(f,"link",s),ne(f),c.head.appendChild(f)}}}function aI(s,o,c){Pa.S(s,o,c);var f=Yc;if(f&&s){var p=ge(f).hoistableStyles,_=$c(s);o=o||"default";var C=p.get(_);if(!C){var k={loading:0,preload:null};if(C=f.querySelector(Sh(_)))k.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},c),(c=os.get(_))&&t1(s,c);var X=C=f.createElement("link");ne(X),Dr(X,"link",s),X._p=new Promise(function(ce,ye){X.onload=ce,X.onerror=ye}),X.addEventListener("load",function(){k.loading|=1}),X.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Xd(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:k},p.set(_,C)}}}function oI(s,o){Pa.X(s,o);var c=Yc;if(c&&s){var f=ge(c).hoistableScripts,p=Qc(s),_=f.get(p);_||(_=c.querySelector(Ah(p)),_||(s=m({src:s,async:!0},o),(o=os.get(p))&&n1(s,o),_=c.createElement("script"),ne(_),Dr(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(p,_))}}function lI(s,o){Pa.M(s,o);var c=Yc;if(c&&s){var f=ge(c).hoistableScripts,p=Qc(s),_=f.get(p);_||(_=c.querySelector(Ah(p)),_||(s=m({src:s,async:!0,type:"module"},o),(o=os.get(p))&&n1(s,o),_=c.createElement("script"),ne(_),Dr(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(p,_))}}function tT(s,o,c,f){var p=(p=ve.current)?Kd(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=$c(c.href),c=ge(p).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=$c(c.href);var _=ge(p).hoistableStyles,C=_.get(s);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,C),(_=p.querySelector(Sh(s)))&&!_._p&&(C.instance=_,C.state.loading=5),os.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},os.set(s,c),_||cI(p,s,c,C.state))),o&&f===null)throw Error(r(528,""));return C}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qc(c),c=ge(p).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function $c(s){return'href="'+Cn(s)+'"'}function Sh(s){return'link[rel="stylesheet"]['+s+"]"}function nT(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function cI(s,o,c,f){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=s.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Dr(o,"link",c),ne(o),s.head.appendChild(o))}function Qc(s){return'[src="'+Cn(s)+'"]'}function Ah(s){return"script[async]"+s}function rT(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=s.querySelector('style[data-href~="'+Cn(c.href)+'"]');if(f)return o.instance=f,ne(f),f;var p=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),ne(f),Dr(f,"style",p),Xd(f,c.precedence,s),o.instance=f;case"stylesheet":p=$c(c.href);var _=s.querySelector(Sh(p));if(_)return o.state.loading|=4,o.instance=_,ne(_),_;f=nT(c),(p=os.get(p))&&t1(f,p),_=(s.ownerDocument||s).createElement("link"),ne(_);var C=_;return C._p=new Promise(function(k,X){C.onload=k,C.onerror=X}),Dr(_,"link",f),o.state.loading|=4,Xd(_,c.precedence,s),o.instance=_;case"script":return _=Qc(c.src),(p=s.querySelector(Ah(_)))?(o.instance=p,ne(p),p):(f=c,(p=os.get(_))&&(f=m({},c),n1(f,p)),s=s.ownerDocument||s,p=s.createElement("script"),ne(p),Dr(p,"link",f),s.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Xd(f,c.precedence,s));return o.instance}function Xd(s,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,_=p,C=0;C<f.length;C++){var k=f[C];if(k.dataset.precedence===o)_=k;else if(_!==p)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function t1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function n1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Yd=null;function iT(s,o,c){if(Yd===null){var f=new Map,p=Yd=new Map;p.set(c,f)}else p=Yd,f=p.get(c),f||(f=new Map,p.set(c,f));if(f.has(s))return f;for(f.set(s,null),c=c.getElementsByTagName(s),p=0;p<c.length;p++){var _=c[p];if(!(_[j]||_[An]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(o)||"";C=s+C;var k=f.get(C);k?k.push(_):f.set(C,[_])}}return f}function sT(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function uI(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function aT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ch=null;function hI(){}function fI(s,o,c){if(Ch===null)throw Error(r(475));var f=Ch;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=$c(c.href),_=s.querySelector(Sh(p));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=$d.bind(f),s.then(f,f)),o.state.loading|=4,o.instance=_,ne(_);return}_=s.ownerDocument||s,c=nT(c),(p=os.get(p))&&t1(c,p),_=_.createElement("link"),ne(_);var C=_;C._p=new Promise(function(k,X){C.onload=k,C.onerror=X}),Dr(_,"link",c),o.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=$d.bind(f),s.addEventListener("load",o),s.addEventListener("error",o))}}function dI(){if(Ch===null)throw Error(r(475));var s=Ch;return s.stylesheets&&s.count===0&&r1(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&r1(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function $d(){if(this.count--,this.count===0){if(this.stylesheets)r1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qd=null;function r1(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qd=new Map,o.forEach(gI,s),Qd=null,$d.call(s))}function gI(s,o){if(!(o.state.loading&4)){var c=Qd.get(s);if(c)var f=c.get(null);else{c=new Map,Qd.set(s,c);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var C=p[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),f=C)}f&&c.set(null,f)}p=o.instance,C=p.getAttribute("data-precedence"),_=c.get(C)||f,_===f&&c.set(null,p),c.set(C,p),this.count++,f=$d.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),_?_.parentNode.insertBefore(p,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),o.state.loading|=4}}var Rh={$$typeof:H,Provider:null,Consumer:null,_currentValue:je,_currentValue2:je,_threadCount:0};function mI(s,o,c,f,p,_,C,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function oT(s,o,c,f,p,_,C,k,X,ce,ye,we){return s=new mI(s,o,c,C,k,X,ce,we),o=1,_===!0&&(o|=24),_=Di(3,null,null,o),s.current=_,_.stateNode=s,o=Vm(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:f,isDehydrated:c,cache:o},zm(_),s}function lT(s){return s?(s=Rc,s):Rc}function cT(s,o,c,f,p,_){p=lT(p),f.context===null?f.context=p:f.pendingContext=p,f=ho(o),f.payload={element:c},_=_===void 0?null:_,_!==null&&(f.callback=_),c=fo(s,f,o),c!==null&&(Li(c,s,o),ih(c,s,o))}function uT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function i1(s,o){uT(s,o),(s=s.alternate)&&uT(s,o)}function hT(s){if(s.tag===13){var o=Cc(s,67108864);o!==null&&Li(o,s,67108864),i1(s,67108864)}}var Zd=!0;function pI(s,o,c,f){var p=oe.T;oe.T=null;var _=pe.p;try{pe.p=2,s1(s,o,c,f)}finally{pe.p=_,oe.T=p}}function xI(s,o,c,f){var p=oe.T;oe.T=null;var _=pe.p;try{pe.p=8,s1(s,o,c,f)}finally{pe.p=_,oe.T=p}}function s1(s,o,c,f){if(Zd){var p=a1(f);if(p===null)Wp(s,o,f,Jd,c),dT(s,f);else if(vI(p,s,o,c,f))f.stopPropagation();else if(dT(s,f),o&4&&-1<_I.indexOf(s)){for(;p!==null;){var _=W(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=Ur(_.pendingLanes);if(C!==0){var k=_;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var X=1<<31-Mn(C);k.entanglements[1]|=X,C&=~X}Qs(_),(Qt&6)===0&&(Ld=Ve()+500,Th(0))}}break;case 13:k=Cc(_,2),k!==null&&Li(k,_,2),Vd(),i1(_,2)}if(_=a1(f),_===null&&Wp(s,o,f,Jd,c),_===p)break;p=_}p!==null&&f.stopPropagation()}else Wp(s,o,f,null,c)}}function a1(s){return s=ui(s),o1(s)}var Jd=null;function o1(s){if(Jd=null,s=q(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Jd=s,null}function fT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qt()){case Bn:return 2;case br:return 8;case or:case Gi:return 32;case ai:return 268435456;default:return 32}default:return 32}}var l1=!1,Ao=null,Co=null,Ro=null,Nh=new Map,Ih=new Map,No=[],_I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dT(s,o){switch(s){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Nh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(o.pointerId)}}function Dh(s,o,c,f,p,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[p]},o!==null&&(o=W(o),o!==null&&hT(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function vI(s,o,c,f,p){switch(o){case"focusin":return Ao=Dh(Ao,s,o,c,f,p),!0;case"dragenter":return Co=Dh(Co,s,o,c,f,p),!0;case"mouseover":return Ro=Dh(Ro,s,o,c,f,p),!0;case"pointerover":var _=p.pointerId;return Nh.set(_,Dh(Nh.get(_)||null,s,o,c,f,p)),!0;case"gotpointercapture":return _=p.pointerId,Ih.set(_,Dh(Ih.get(_)||null,s,o,c,f,p)),!0}return!1}function gT(s){var o=q(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,ro(s.priority,function(){if(c.tag===13){var f=Pi();f=vn(f);var p=Cc(c,f);p!==null&&Li(p,c,f),i1(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function e0(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=a1(s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);vs=f,c.target.dispatchEvent(f),vs=null}else return o=W(c),o!==null&&hT(o),s.blockedOn=c,!1;o.shift()}return!0}function mT(s,o,c){e0(s)&&c.delete(o)}function yI(){l1=!1,Ao!==null&&e0(Ao)&&(Ao=null),Co!==null&&e0(Co)&&(Co=null),Ro!==null&&e0(Ro)&&(Ro=null),Nh.forEach(mT),Ih.forEach(mT)}function t0(s,o){s.blockedOn===o&&(s.blockedOn=null,l1||(l1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yI)))}var n0=null;function pT(s){n0!==s&&(n0=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){n0===s&&(n0=null);for(var o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],p=s[o+2];if(typeof f!="function"){if(o1(f||c)===null)continue;break}var _=W(c);_!==null&&(s.splice(o,3),o-=3,op(_,{pending:!0,data:p,method:c.method,action:f},f,p))}}))}function Oh(s){function o(X){return t0(X,s)}Ao!==null&&t0(Ao,s),Co!==null&&t0(Co,s),Ro!==null&&t0(Ro,s),Nh.forEach(o),Ih.forEach(o);for(var c=0;c<No.length;c++){var f=No[c];f.blockedOn===s&&(f.blockedOn=null)}for(;0<No.length&&(c=No[0],c.blockedOn===null);)gT(c),c.blockedOn===null&&No.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var p=c[f],_=c[f+1],C=p[pn]||null;if(typeof _=="function")C||pT(c);else if(C){var k=null;if(_&&_.hasAttribute("formAction")){if(p=_,C=_[pn]||null)k=C.formAction;else if(o1(p)!==null)continue}else k=C.action;typeof k=="function"?c[f+1]=k:(c.splice(f,3),f-=3),pT(c)}}}function c1(s){this._internalRoot=s}r0.prototype.render=c1.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,f=Pi();cT(c,f,s,o,null,null)},r0.prototype.unmount=c1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;cT(s.current,2,null,s,null,null),Vd(),o[Zn]=null}};function r0(s){this._internalRoot=s}r0.prototype.unstable_scheduleHydration=function(s){if(s){var o=zr();s={blockedOn:null,target:s,priority:o};for(var c=0;c<No.length&&o!==0&&o<No[c].priority;c++);No.splice(c,0,s),c===0&&gT(s)}};var xT=e.version;if(xT!=="19.1.1")throw Error(r(527,xT,"19.1.1"));pe.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var TI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{Bt=i0.inject(TI),Et=i0}catch{}}return Mh.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,f="",p=ky,_=My,C=Py,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=oT(s,1,!1,null,null,c,f,p,_,C,k,null),s[Zn]=o.current,qp(s),new c1(o)},Mh.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var f=!1,p="",_=ky,C=My,k=Py,X=null,ce=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(X=c.unstable_transitionCallbacks),c.formState!==void 0&&(ce=c.formState)),o=oT(s,1,!0,o,c??null,f,p,_,C,k,X,ce),o.context=lT(null),c=o.current,f=Pi(),f=vn(f),p=ho(f),p.callback=null,fo(c,p,f),c=f,o.current.lanes=c,Ci(o,c),Qs(o),s[Zn]=o.current,qp(s),new r0(o)},Mh.version="19.1.1",Mh}var wT;function OI(){if(wT)return h1.exports;wT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),h1.exports=DI(),h1.exports}var kI=OI();/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vf(n){return n+.5|0}const Vo=(n,e,t)=>Math.max(Math.min(n,t),e);function Hh(n){return Vo(Vf(n*2.55),0,255)}function Go(n){return Vo(Vf(n*255),0,255)}function Ba(n){return Vo(Vf(n/2.55)/100,0,1)}function ET(n){return Vo(Vf(n*100),0,100)}const ls={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X1=[..."0123456789ABCDEF"],MI=n=>X1[n&15],PI=n=>X1[(n&240)>>4]+X1[n&15],s0=n=>(n&240)>>4===(n&15),LI=n=>s0(n.r)&&s0(n.g)&&s0(n.b)&&s0(n.a);function FI(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ls[n[1]]*17,g:255&ls[n[2]]*17,b:255&ls[n[3]]*17,a:e===5?ls[n[4]]*17:255}:(e===7||e===9)&&(t={r:ls[n[1]]<<4|ls[n[2]],g:ls[n[3]]<<4|ls[n[4]],b:ls[n[5]]<<4|ls[n[6]],a:e===9?ls[n[7]]<<4|ls[n[8]]:255})),t}const VI=(n,e)=>n<255?e(n):"";function jI(n){var e=LI(n)?MI:PI;return n?"#"+e(n.r)+e(n.g)+e(n.b)+VI(n.a,e):void 0}const BI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rS(n,e,t){const r=e*Math.min(t,1-t),i=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function UI(n,e,t){const r=(i,a=(i+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function zI(n,e,t){const r=rS(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function HI(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Px(n){const t=n.r/255,r=n.g/255,i=n.b/255,a=Math.max(t,r,i),l=Math.min(t,r,i),u=(a+l)/2;let h,d,m;return a!==l&&(m=a-l,d=u>.5?m/(2-a-l):m/(a+l),h=HI(t,r,i,m,a),h=h*60+.5),[h|0,d||0,u]}function Lx(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Go)}function Fx(n,e,t){return Lx(rS,n,e,t)}function GI(n,e,t){return Lx(zI,n,e,t)}function qI(n,e,t){return Lx(UI,n,e,t)}function iS(n){return(n%360+360)%360}function WI(n){const e=BI.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Hh(+e[5]):Go(+e[5]));const i=iS(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=GI(i,a,l):e[1]==="hsv"?r=qI(i,a,l):r=Fx(i,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function KI(n,e){var t=Px(n);t[0]=iS(t[0]+e),t=Fx(t),n.r=t[0],n.g=t[1],n.b=t[2]}function XI(n){if(!n)return;const e=Px(n),t=e[0],r=ET(e[1]),i=ET(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Ba(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const ST={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function YI(){const n={},e=Object.keys(AT),t=Object.keys(ST);let r,i,a,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],i=0;i<t.length;i++)a=t[i],u=u.replace(a,ST[a]);a=parseInt(AT[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let a0;function $I(n){a0||(a0=YI(),a0.transparent=[0,0,0,0]);const e=a0[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const QI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ZI(n){const e=QI.exec(n);let t=255,r,i,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Hh(l):Vo(l*255,0,255)}return r=+e[1],i=+e[3],a=+e[5],r=255&(e[2]?Hh(r):Vo(r,0,255)),i=255&(e[4]?Hh(i):Vo(i,0,255)),a=255&(e[6]?Hh(a):Vo(a,0,255)),{r,g:i,b:a,a:t}}}function JI(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ba(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const g1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Zc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function e3(n,e,t){const r=Zc(Ba(n.r)),i=Zc(Ba(n.g)),a=Zc(Ba(n.b));return{r:Go(g1(r+t*(Zc(Ba(e.r))-r))),g:Go(g1(i+t*(Zc(Ba(e.g))-i))),b:Go(g1(a+t*(Zc(Ba(e.b))-a))),a:n.a+t*(e.a-n.a)}}function o0(n,e,t){if(n){let r=Px(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Fx(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function sS(n,e){return n&&Object.assign(e||{},n)}function CT(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Go(n[3]))):(e=sS(n,{r:0,g:0,b:0,a:1}),e.a=Go(e.a)),e}function t3(n){return n.charAt(0)==="r"?ZI(n):WI(n)}class xf{constructor(e){if(e instanceof xf)return e;const t=typeof e;let r;t==="object"?r=CT(e):t==="string"&&(r=FI(e)||$I(e)||t3(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=sS(this._rgb);return e&&(e.a=Ba(e.a)),e}set rgb(e){this._rgb=CT(e)}rgbString(){return this._valid?JI(this._rgb):void 0}hexString(){return this._valid?jI(this._rgb):void 0}hslString(){return this._valid?XI(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,h=r.a-i.a,d=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-d,r.r=255&d*r.r+a*i.r+.5,r.g=255&d*r.g+a*i.g+.5,r.b=255&d*r.b+a*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=e3(this._rgb,e._rgb,t)),this}clone(){return new xf(this.rgb)}alpha(e){return this._rgb.a=Go(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Vf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return o0(this._rgb,2,e),this}darken(e){return o0(this._rgb,2,-e),this}saturate(e){return o0(this._rgb,1,e),this}desaturate(e){return o0(this._rgb,1,-e),this}rotate(e){return KI(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function La(){}const n3=(()=>{let n=0;return()=>n++})();function mn(n){return n==null}function _r(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function jt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ds(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Zs(n,e){return ds(n)?n:e}function Vt(n,e){return typeof n>"u"?e:n}const r3=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,aS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function yn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function tn(n,e,t,r){let i,a,l;if(_r(n))for(a=n.length,i=0;i<a;i++)e.call(t,n[i],i);else if(jt(n))for(l=Object.keys(n),a=l.length,i=0;i<a;i++)e.call(t,n[l[i]],l[i])}function X0(n,e){let t,r,i,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Y0(n){if(_r(n))return n.map(Y0);if(jt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Y0(n[t[i]]);return e}return n}function oS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function i3(n,e,t,r){if(!oS(n))return;const i=e[n],a=t[n];jt(i)&&jt(a)?_f(i,a,r):e[n]=Y0(a)}function _f(n,e,t){const r=_r(e)?e:[e],i=r.length;if(!jt(n))return n;t=t||{};const a=t.merger||i3;let l;for(let u=0;u<i;++u){if(l=r[u],!jt(l))continue;const h=Object.keys(l);for(let d=0,m=h.length;d<m;++d)a(h[d],n,l,t)}return n}function tf(n,e){return _f(n,e,{merger:s3})}function s3(n,e,t){if(!oS(n))return;const r=e[n],i=t[n];jt(r)&&jt(i)?tf(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Y0(i))}const RT={"":n=>n,x:n=>n.x,y:n=>n.y};function a3(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function o3(n){const e=a3(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Jl(n,e){return(RT[e]||(RT[e]=o3(e)))(n)}function Vx(n){return n.charAt(0).toUpperCase()+n.slice(1)}const vf=n=>typeof n<"u",Zo=n=>typeof n=="function",NT=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function l3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Tn=Math.PI,Wn=2*Tn,$0=Number.POSITIVE_INFINITY,c3=Tn/180,sr=Tn/2,jl=Tn/4,IT=Tn*2/3,lS=Math.log10,qo=Math.sign;function k0(n,e,t){return Math.abs(n-e)<t}function DT(n){const e=Math.round(n);n=k0(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(lS(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function u3(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function h3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Q0(n){return!h3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function f3(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function d3(n,e,t){let r,i,a;for(r=0,i=n.length;r<i;r++)a=n[r][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Ua(n){return n*(Tn/180)}function g3(n){return n*(180/Tn)}function OT(n){if(!ds(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function cS(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*Tn&&(a+=Wn),{angle:a,distance:i}}function m3(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function ra(n){return(n%Wn+Wn)%Wn}function Z0(n,e,t,r){const i=ra(n),a=ra(e),l=ra(t),u=ra(a-i),h=ra(l-i),d=ra(i-a),m=ra(i-l);return i===a||i===l||r&&a===l||u>h&&d<m}function vi(n,e,t){return Math.max(e,Math.min(t,n))}function p3(n){return vi(n,-32768,32767)}function Kl(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function jx(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,t(a)?i=a:r=a;return{lo:i,hi:r}}const Y1=(n,e,t,r)=>jx(n,t,r?i=>{const a=n[i][e];return a<t||a===t&&n[i+1][e]===t}:i=>n[i][e]<t),x3=(n,e,t)=>jx(n,t,r=>n[r][e]>=t);function _3(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const uS=["push","pop","shift","splice","unshift"];function v3(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),uS.forEach(t=>{const r="_onData"+Vx(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),l}})})}function kT(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(uS.forEach(a=>{delete n[a]}),delete n._chartjs)}function hS(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const fS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function dS(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,fS.call(window,()=>{r=!1,n.apply(e,t)}))}}function y3(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const gS=n=>n==="start"?"left":n==="end"?"right":"center",Fi=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,T3=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,l0=n=>n===0||n===1,MT=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Wn/t)),PT=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Wn/t)+1,nf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*sr)+1,easeOutSine:n=>Math.sin(n*sr),easeInOutSine:n=>-.5*(Math.cos(Tn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>l0(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>l0(n)?n:MT(n,.075,.3),easeOutElastic:n=>l0(n)?n:PT(n,.075,.3),easeInOutElastic(n){return l0(n)?n:n<.5?.5*MT(n*2,.1125,.45):.5+.5*PT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-nf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?nf.easeInBounce(n*2)*.5:nf.easeOutBounce(n*2-1)*.5+.5};function mS(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function LT(n){return mS(n)?n:new xf(n)}function m1(n){return mS(n)?n:new xf(n).saturate(.5).darken(.1).hexString()}const b3=["x","y","borderWidth","radius","tension"],w3=["color","borderColor","backgroundColor"];function E3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:w3},numbers:{type:"number",properties:b3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function S3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const FT=new Map;function A3(n,e){e=e||{};const t=n+JSON.stringify(e);let r=FT.get(t);return r||(r=new Intl.NumberFormat(n,e),FT.set(t,r)),r}function Bx(n,e,t){return A3(e,t).format(n)}const C3={values(n){return _r(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,a=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=R3(n,t)}const l=lS(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),Bx(n,r,h)}};function R3(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var pS={formatters:C3};function N3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ec=Object.create(null),$1=Object.create(null);function rf(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function p1(n,e,t){return typeof e=="string"?_f(rf(n,e),t):_f(rf(n,""),e)}class I3{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>m1(i.backgroundColor),this.hoverBorderColor=(r,i)=>m1(i.borderColor),this.hoverColor=(r,i)=>m1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return p1(this,e,t)}get(e){return rf(this,e)}describe(e,t){return p1($1,e,t)}override(e,t){return p1(ec,e,t)}route(e,t,r,i){const a=rf(this,e),l=rf(this,r),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],d=l[i];return jt(h)?Object.assign({},d,h):Vt(h,d)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var jn=new I3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[E3,S3,N3]);function D3(n){return!n||mn(n.size)||mn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function VT(n,e,t,r,i){let a=e[i];return a||(a=e[i]=n.measureText(i).width,t.push(i)),a>r&&(r=a),r}function Bl(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function jT(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function BT(n,e,t,r){xS(n,e,t,r,null)}function xS(n,e,t,r,i){let a,l,u,h,d,m,x,v;const T=e.pointStyle,E=e.rotation,w=e.radius;let S=(E||0)*c3;if(T&&typeof T=="object"&&(a=T.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(S),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),T){default:i?n.ellipse(t,r,i/2,w,0,0,Wn):n.arc(t,r,w,0,Wn),n.closePath();break;case"triangle":m=i?i/2:w,n.moveTo(t+Math.sin(S)*m,r-Math.cos(S)*w),S+=IT,n.lineTo(t+Math.sin(S)*m,r-Math.cos(S)*w),S+=IT,n.lineTo(t+Math.sin(S)*m,r-Math.cos(S)*w),n.closePath();break;case"rectRounded":d=w*.516,h=w-d,l=Math.cos(S+jl)*h,x=Math.cos(S+jl)*(i?i/2-d:h),u=Math.sin(S+jl)*h,v=Math.sin(S+jl)*(i?i/2-d:h),n.arc(t-x,r-u,d,S-Tn,S-sr),n.arc(t+v,r-l,d,S-sr,S),n.arc(t+x,r+u,d,S,S+sr),n.arc(t-v,r+l,d,S+sr,S+Tn),n.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*w,m=i?i/2:h,n.rect(t-m,r-h,2*m,2*h);break}S+=jl;case"rectRot":x=Math.cos(S)*(i?i/2:w),l=Math.cos(S)*w,u=Math.sin(S)*w,v=Math.sin(S)*(i?i/2:w),n.moveTo(t-x,r-u),n.lineTo(t+v,r-l),n.lineTo(t+x,r+u),n.lineTo(t-v,r+l),n.closePath();break;case"crossRot":S+=jl;case"cross":x=Math.cos(S)*(i?i/2:w),l=Math.cos(S)*w,u=Math.sin(S)*w,v=Math.sin(S)*(i?i/2:w),n.moveTo(t-x,r-u),n.lineTo(t+x,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"star":x=Math.cos(S)*(i?i/2:w),l=Math.cos(S)*w,u=Math.sin(S)*w,v=Math.sin(S)*(i?i/2:w),n.moveTo(t-x,r-u),n.lineTo(t+x,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l),S+=jl,x=Math.cos(S)*(i?i/2:w),l=Math.cos(S)*w,u=Math.sin(S)*w,v=Math.sin(S)*(i?i/2:w),n.moveTo(t-x,r-u),n.lineTo(t+x,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"line":l=i?i/2:Math.cos(S)*w,u=Math.sin(S)*w,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(S)*(i?i/2:w),r+Math.sin(S)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function _S(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ux(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function zx(n){n.restore()}function O3(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),mn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function k3(n,e,t,r,i){if(i.strikethrough||i.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,d=t+a.actualBoundingBoxDescent,m=i.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,m),n.lineTo(u,m),n.stroke()}}function M3(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function J0(n,e,t,r,i,a={}){const l=_r(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,d;for(n.save(),n.font=i.string,O3(n,a),h=0;h<l.length;++h)d=l[h],a.backdrop&&M3(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),mn(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(d,t,r,a.maxWidth)),n.fillText(d,t,r,a.maxWidth),k3(n,t,r,d,a),r+=Number(i.lineHeight);n.restore()}function eg(n,e){const{x:t,y:r,w:i,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*Tn,Tn,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,Tn,sr,!0),n.lineTo(t+i-l.bottomRight,r+a),n.arc(t+i-l.bottomRight,r+a-l.bottomRight,l.bottomRight,sr,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-sr,!0),n.lineTo(t+l.topLeft,r)}const P3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,L3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function F3(n,e){const t=(""+n).match(P3);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const V3=n=>+n||0;function Hx(n,e){const t={},r=jt(e),i=r?Object.keys(e):e,a=jt(n)?r?l=>Vt(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=V3(a(l));return t}function vS(n){return Hx(n,{top:"y",right:"x",bottom:"y",left:"x"})}function hu(n){return Hx(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Fs(n){const e=vS(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function yi(n,e){n=n||{},e=e||jn.font;let t=Vt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Vt(n.style,e.style);r&&!(""+r).match(L3)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Vt(n.family,e.family),lineHeight:F3(Vt(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Vt(n.weight,e.weight),string:""};return i.string=D3(i),i}function c0(n,e,t,r){let i,a,l;for(i=0,a=n.length;i<a;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function j3(n,e,t){const{min:r,max:i}=n,a=aS(e,(i-r)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(r,-Math.abs(a)),max:l(i,a)}}function Du(n,e){return Object.assign(Object.create(n),e)}function Gx(n,e=[""],t,r,i=()=>n[0]){const a=t||n;typeof r>"u"&&(r=wS("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:i,override:u=>Gx([u,...n],e,a,r)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return TS(u,h,()=>K3(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return zT(u).includes(h)},ownKeys(u){return zT(u)},set(u,h,d){const m=u._storage||(u._storage=i());return u[h]=m[h]=d,delete u._keys,!0}})}function bu(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:yS(n,r),setContext:a=>bu(n,a,t,r),override:a=>bu(n.override(a),e,t,r)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return TS(a,l,()=>U3(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function yS(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Zo(t)?t:()=>t,isIndexable:Zo(r)?r:()=>r}}const B3=(n,e)=>n?n+Vx(e):e,qx=(n,e)=>jt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function TS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function U3(n,e,t){const{_proxy:r,_context:i,_subProxy:a,_descriptors:l}=n;let u=r[e];return Zo(u)&&l.isScriptable(e)&&(u=z3(e,u,n,t)),_r(u)&&u.length&&(u=H3(e,u,n,l.isIndexable)),qx(e,u)&&(u=bu(u,i,a&&a[e],l)),u}function z3(n,e,t,r){const{_proxy:i,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(a,l||r);return u.delete(n),qx(n,h)&&(h=Wx(i._scopes,i,n,h)),h}function H3(n,e,t,r){const{_proxy:i,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(jt(e[0])){const h=e,d=i._scopes.filter(m=>m!==h);e=[];for(const m of h){const x=Wx(d,i,n,m);e.push(bu(x,a,l&&l[n],u))}}return e}function bS(n,e,t){return Zo(n)?n(e,t):n}const G3=(n,e)=>n===!0?e:typeof n=="string"?Jl(e,n):void 0;function q3(n,e,t,r,i){for(const a of e){const l=G3(t,a);if(l){n.add(l);const u=bS(l._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Wx(n,e,t,r){const i=e._rootScopes,a=bS(e._fallback,t,r),l=[...n,...i],u=new Set;u.add(r);let h=UT(u,l,t,a||t,r);return h===null||typeof a<"u"&&a!==t&&(h=UT(u,l,a,h,r),h===null)?!1:Gx(Array.from(u),[""],i,a,()=>W3(e,t,r))}function UT(n,e,t,r,i){for(;t;)t=q3(n,e,t,r,i);return t}function W3(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return _r(i)&&jt(t)?t:i||{}}function K3(n,e,t,r){let i;for(const a of e)if(i=wS(B3(a,n),t),typeof i<"u")return qx(n,i)?Wx(t,r,n,i):i}function wS(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function zT(n){let e=n._keys;return e||(e=n._keys=X3(n._scopes)),e}function X3(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Kx(){return typeof window<"u"&&typeof document<"u"}function Xx(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tg(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const jg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Y3(n,e){return jg(n).getPropertyValue(e)}const $3=["top","right","bottom","left"];function Yl(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=$3[i];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Q3=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Z3(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:a}=r;let l=!1,u,h;if(Q3(i,a,n.target))u=i,h=a;else{const d=e.getBoundingClientRect();u=r.clientX-d.left,h=r.clientY-d.top,l=!0}return{x:u,y:h,box:l}}function Gl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=jg(t),a=i.boxSizing==="border-box",l=Yl(i,"padding"),u=Yl(i,"border","width"),{x:h,y:d,box:m}=Z3(n,t),x=l.left+(m&&u.left),v=l.top+(m&&u.top);let{width:T,height:E}=e;return a&&(T-=l.width+u.width,E-=l.height+u.height),{x:Math.round((h-x)/T*t.width/r),y:Math.round((d-v)/E*t.height/r)}}function J3(n,e,t){let r,i;if(e===void 0||t===void 0){const a=n&&Xx(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=jg(a),h=Yl(u,"border","width"),d=Yl(u,"padding");e=l.width-d.width-h.width,t=l.height-d.height-h.height,r=tg(u.maxWidth,a,"clientWidth"),i=tg(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||$0,maxHeight:i||$0}}const u0=n=>Math.round(n*10)/10;function eD(n,e,t,r){const i=jg(n),a=Yl(i,"margin"),l=tg(i.maxWidth,n,"clientWidth")||$0,u=tg(i.maxHeight,n,"clientHeight")||$0,h=J3(n,e,t);let{width:d,height:m}=h;if(i.boxSizing==="content-box"){const v=Yl(i,"border","width"),T=Yl(i,"padding");d-=T.width+v.width,m-=T.height+v.height}return d=Math.max(0,d-a.width),m=Math.max(0,r?d/r:m-a.height),d=u0(Math.min(d,l,h.maxWidth)),m=u0(Math.min(m,u,h.maxHeight)),d&&!m&&(m=u0(d/2)),(e!==void 0||t!==void 0)&&r&&h.height&&m>h.height&&(m=h.height,d=u0(Math.floor(m*r))),{width:d,height:m}}function HT(n,e,t){const r=e||1,i=Math.floor(n.height*r),a=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==a?(n.currentDevicePixelRatio=r,l.height=i,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const tD=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Kx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function GT(n,e){const t=Y3(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const nD=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},rD=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function fu(n,e,t){return n?nD(e,t):rD()}function ES(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function SS(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function h0(n,e,t){return n.options.clip?n[t]:e[t]}function iD(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:h0(t,e,"left"),right:h0(t,e,"right"),top:h0(r,e,"top"),bottom:h0(r,e,"bottom")}:e}function sD(n,e){const t=e._clip;if(t.disabled)return!1;const r=iD(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class aD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const a=t.listeners[i],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=fS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),a.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Fa=new aD;const qT="transparent",oD={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=LT(n||qT),i=r.valid&&LT(e||qT);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class lD{constructor(e,t,r,i){const a=t[r];i=c0([e.to,i,a,e.from]);const l=c0([e.from,a,i]);this._active=!0,this._fn=e.fn||oD[e.type||typeof l],this._easing=nf[e.easing]||nf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=c0([e.to,t,i,e.from]),this._from=c0([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||t<r),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=a;return}h=t/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class AS{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!jt(e))return;const t=Object.keys(jn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!jt(a))return;const l={};for(const u of t)l[u]=a[u];(_r(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,i=uD(e,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&cD(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const m=t[d];let x=a[d];const v=r.get(d);if(x)if(v&&x.active()){x.update(v,m,u);continue}else x.cancel();if(!v||!v.duration){e[d]=m;continue}a[d]=x=new lD(v,e,d,m),i.push(x)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Fa.add(this._chart,r),!0}}function cD(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const a=n[r[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function uD(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function WT(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:i,end:r?i:a}}function hD(n,e,t){if(t===!1)return!1;const r=WT(n,t),i=WT(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function fD(n){let e,t,r,i;return jt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function CS(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,a;for(i=0,a=r.length;i<a;++i)t.push(r[i].index);return t}function KT(n,e,t,r={}){const i=n.keys,a=r.mode==="single";let l,u,h,d;if(e===null)return;let m=!1;for(l=0,u=i.length;l<u;++l){if(h=+i[l],h===t){if(m=!0,r.all)continue;break}d=n.values[h],ds(d)&&(a||e===0||qo(e)===qo(d))&&(e+=d)}return!m&&!r.all?0:e}function dD(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,d,m;for(h=0,d=l.length;h<d;++h)m=l[h],u[h]={[i]:m,[a]:n[m]};return u}function x1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function gD(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function mD(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function pD(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function XT(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const a=n[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function YT(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=r,h=a.axis,d=l.axis,m=gD(a,l,r),x=e.length;let v;for(let T=0;T<x;++T){const E=e[T],{[h]:w,[d]:S}=E,F=E._stacks||(E._stacks={});v=F[d]=pD(i,m,w),v[u]=S,v._top=XT(v,l,!0,r.type),v._bottom=XT(v,l,!1,r.type);const z=v._visualValues||(v._visualValues={});z[u]=S}}function _1(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function xD(n,e){return Du(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function _D(n,e,t){return Du(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ph(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const a=i._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const v1=n=>n==="reset"||n==="none",$T=(n,e)=>e?n:Object.assign({},n),vD=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:CS(t,!0),values:null};class du{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=x1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ph(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(x,v,T,E)=>x==="x"?v:x==="r"?E:T,a=t.xAxisID=Vt(r.xAxisID,_1(e,"x")),l=t.yAxisID=Vt(r.yAxisID,_1(e,"y")),u=t.rAxisID=Vt(r.rAxisID,_1(e,"r")),h=t.indexAxis,d=t.iAxisID=i(h,a,l,u),m=t.vAxisID=i(h,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kT(this._data,this),e._stacked&&Ph(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(jt(t)){const i=this._cachedMeta;this._data=dD(t,i)}else if(r!==t){if(r){kT(r,this);const i=this._cachedMeta;Ph(i),i._parsed=[]}t&&Object.isExtensible(t)&&v3(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=x1(t.vScale,t),t.stack!==r.stack&&(i=!0,Ph(t),t.stack=r.stack),this._resyncElements(e),(i||a!==t._stacked)&&(YT(this,t._parsed),t._stacked=x1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:l}=r,u=a.axis;let h=e===0&&t===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],m,x,v;if(this._parsing===!1)r._parsed=i,r._sorted=!0,v=i;else{_r(i[e])?v=this.parseArrayData(r,i,e,t):jt(i[e])?v=this.parseObjectData(r,i,e,t):v=this.parsePrimitiveData(r,i,e,t);const T=()=>x[u]===null||d&&x[u]<d[u];for(m=0;m<t;++m)r._parsed[m+e]=x=v[m],h&&(T()&&(h=!1),d=x);r._sorted=h}l&&YT(this,v)}parsePrimitiveData(e,t,r,i){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,d=a.getLabels(),m=a===l,x=new Array(i);let v,T,E;for(v=0,T=i;v<T;++v)E=v+r,x[v]={[u]:m||a.parse(d[E],E),[h]:l.parse(t[E],E)};return x}parseArrayData(e,t,r,i){const{xScale:a,yScale:l}=e,u=new Array(i);let h,d,m,x;for(h=0,d=i;h<d;++h)m=h+r,x=t[m],u[h]={x:a.parse(x[0],m),y:l.parse(x[1],m)};return u}parseObjectData(e,t,r,i){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=new Array(i);let m,x,v,T;for(m=0,x=i;m<x;++m)v=m+r,T=t[v],d[m]={x:a.parse(Jl(T,u),v),y:l.parse(Jl(T,h),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:CS(i,!0),values:t._stacks[e.axis]._visualValues};return KT(u,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const a=r[t.axis];let l=a===null?NaN:a;const u=i&&r._stacks[t.axis];i&&u&&(i.values=u,l=KT(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&e===r.iScale,l=i.length,u=this._getOtherScale(e),h=vD(t,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:x}=mD(u);let v,T;function E(){T=i[v];const w=T[u.axis];return!ds(T[e.axis])||m>w||x<w}for(v=0;v<l&&!(!E()&&(this.updateRangeFromParsed(d,e,T,h),a));++v);if(a){for(v=l-1;v>=0;--v)if(!E()){this.updateRangeFromParsed(d,e,T,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i][e.axis],ds(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=fD(Vt(this.options.clip,hD(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],a=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||i.length-u,d=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,a,u,h),m=u;m<u+h;++m){const x=i[m];x.hidden||(x.active&&d?l.push(x):x.draw(e,a))}for(m=0;m<l.length;++m)l[m].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=_D(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=xD(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],h=this.enableOptionSharing&&vf(r);if(u)return $T(u,h);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,e),x=i?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),m),T=Object.keys(jn.elements[e]),E=()=>this.getContext(r,i,t),w=d.resolveNamedOptions(v,T,E,x);return w.$shared&&(w.$shared=h,a[l]=Object.freeze($T(w,h))),w}_resolveAnimations(e,t,r){const i=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let h;if(i.options.animation!==!1){const m=this.chart.config,x=m.datasetAnimationScopeKeys(this._type,t),v=m.getOptionScopes(this.getDataset(),x);h=m.createResolver(v,this.getContext(e,r,t))}const d=new AS(i,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||v1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,i){v1(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!v1(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,h,d]of this._syncList)this[u](h,d);this._syncList=[];const i=r.length,a=t.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,r=!0){const i=this._cachedMeta,a=i.data,l=e+t;let u;const h=d=>{for(d.length+=t,u=d.length-1;u>=l;u--)d[u]=d[u-t]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Ph(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ot(du,"defaults",{}),ot(du,"datasetElementType",null),ot(du,"dataElementType",null);function yD(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,a=t.length;i<a;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=hS(r.sort((i,a)=>i-a))}return n._cache.$bar}function TD(n){const e=n.iScale,t=yD(e,n.type);let r=e._length,i,a,l,u;const h=()=>{l===32767||l===-32768||(vf(u)&&(r=Math.min(r,Math.abs(l-u)||r)),u=l)};for(i=0,a=t.length;i<a;++i)l=e.getPixelForValue(t[i]),h();for(u=void 0,i=0,a=e.ticks.length;i<a;++i)l=e.getPixelForTick(i),h();return r}function bD(n,e,t,r){const i=t.barThickness;let a,l;return mn(i)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=i*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[n]-a/2}}function wD(n,e,t,r){const i=e.pixels,a=i[n];let l=n>0?i[n-1]:null,u=n<i.length-1?i[n+1]:null;const h=t.categoryPercentage;l===null&&(l=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-l);const d=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/r,ratio:t.barPercentage,start:d}}function ED(n,e,t,r){const i=t.parse(n[0],r),a=t.parse(n[1],r),l=Math.min(i,a),u=Math.max(i,a);let h=l,d=u;Math.abs(l)>Math.abs(u)&&(h=u,d=l),e[t.axis]=d,e._custom={barStart:h,barEnd:d,start:i,end:a,min:l,max:u}}function RS(n,e,t,r){return _r(n)?ED(n,e,t,r):e[t.axis]=t.parse(n,r),e}function QT(n,e,t,r){const i=n.iScale,a=n.vScale,l=i.getLabels(),u=i===a,h=[];let d,m,x,v;for(d=t,m=t+r;d<m;++d)v=e[d],x={},x[i.axis]=u||i.parse(l[d],d),h.push(RS(v,x,a,d));return h}function y1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function SD(n,e,t){return n!==0?qo(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function AD(n){let e,t,r,i,a;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",a="start"):(i="start",a="end"),{start:t,end:r,reverse:e,top:i,bottom:a}}function CD(n,e,t,r){let i=e.borderSkipped;const a={};if(!i){n.borderSkipped=a;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:d,bottom:m}=AD(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=d:(t._bottom||0)===r?i=m:(a[ZT(m,l,u,h)]=!0,i=d)),a[ZT(i,l,u,h)]=!0,n.borderSkipped=a}function ZT(n,e,t,r){return r?(n=RD(n,e,t),n=JT(n,t,e)):n=JT(n,e,t),n}function RD(n,e,t){return n===e?t:n===t?e:n}function JT(n,e,t){return n==="start"?e:n==="end"?t:n}function ND(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class M0 extends du{parsePrimitiveData(e,t,r,i){return QT(e,t,r,i)}parseArrayData(e,t,r,i){return QT(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:a,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=a.axis==="x"?u:h,m=l.axis==="x"?u:h,x=[];let v,T,E,w;for(v=r,T=r+i;v<T;++v)w=t[v],E={},E[a.axis]=a.parse(Jl(w,d),v),x.push(RS(Jl(w,m),E,l,v));return x}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,a=this.getParsed(e),l=a._custom,u=y1(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const a=i==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),d=u.isHorizontal(),m=this._getRuler(),{sharedOptions:x,includeOptions:v}=this._getSharedOptions(t,i);for(let T=t;T<t+r;T++){const E=this.getParsed(T),w=a||mn(E[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),S=this._calculateBarIndexPixels(T,m),F=(E._stacks||{})[u.axis],z={horizontal:d,base:w.base,enableBorderRadius:!F||y1(E._custom)||l===F._top||l===F._bottom,x:d?w.head:S.center,y:d?S.center:w.head,height:d?S.size:Math.abs(w.size),width:d?Math.abs(w.size):S.size};v&&(z.options=x||this.resolveDataElementOptions(T,e[T].active?"active":i));const H=z.options||e[T].options;CD(z,H,F,l),ND(z,H,m.ratio),this.updateElement(e[T],T,z,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=r.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(t),h=u&&u[r.axis],d=m=>{const x=m._parsed.find(T=>T[r.axis]===h),v=x&&x[m.vScale.axis];if(mn(v)||isNaN(v))return!0};for(const m of i)if(!(t!==void 0&&d(m))&&((a===!1||l.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Vt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),a=t!==void 0?i.indexOf(t):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let a,l;for(a=0,l=t.data.length;a<l;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=e.barThickness;return{min:u||TD(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(e),d=h._custom,m=y1(d);let x=h[t.axis],v=0,T=r?this.applyStack(t,h,r):x,E,w;T!==x&&(v=T-x,T=x),m&&(x=d.barStart,T=d.barEnd-d.barStart,x!==0&&qo(x)!==qo(d.barEnd)&&(v=0),v+=x);const S=!mn(a)&&!m?a:v;let F=t.getPixelForValue(S);if(this.chart.getDataVisibility(e)?E=t.getPixelForValue(v+T):E=F,w=E-F,Math.abs(w)<l){w=SD(w,t,u)*l,x===u&&(F-=w/2);const z=t.getPixelForDecimal(0),H=t.getPixelForDecimal(1),Y=Math.min(z,H),te=Math.max(z,H);F=Math.max(Math.min(F,te),Y),E=F+w,r&&!m&&(h._stacks[t.axis]._visualValues[i]=t.getValueForPixel(E)-t.getValueForPixel(F))}if(F===t.getPixelForValue(u)){const z=qo(w)*t.getLineWidthForValue(u)/2;F+=z,w-=z}return{size:w,base:F,head:E,center:E+w/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,a=i.skipNull,l=Vt(i.maxBarThickness,1/0);let u,h;const d=this._getAxisCount();if(t.grouped){const m=a?this._getStackCount(e):t.stackCount,x=i.barThickness==="flex"?wD(e,t,i,m*d):bD(e,t,i,m*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Vt(v,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+T;u=x.start+x.chunk*E+x.chunk/2,h=Math.min(l,x.chunk*x.ratio)}else u=r.getPixelForValue(this.getParsed(e)[r.axis],e),h=Math.min(l,t.min*t.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[t.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}ot(M0,"id","bar"),ot(M0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ot(M0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ID(n,e,t){let r=1,i=1,a=0,l=0;if(e<Wn){const u=n,h=u+e,d=Math.cos(u),m=Math.sin(u),x=Math.cos(h),v=Math.sin(h),T=(H,Y,te)=>Z0(H,u,h,!0)?1:Math.max(Y,Y*t,te,te*t),E=(H,Y,te)=>Z0(H,u,h,!0)?-1:Math.min(Y,Y*t,te,te*t),w=T(0,d,x),S=T(sr,m,v),F=E(Tn,d,x),z=E(Tn+sr,m,v);r=(w-F)/2,i=(S-z)/2,a=-(w+F)/2,l=-(S+z)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:l}}class Gh extends du{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=h=>+r[h];if(jt(r[e])){const{key:h="value"}=this._parsing;a=d=>+Jl(r[d],h)}let l,u;for(l=e,u=e+t;l<u;++l)i._parsed[l]=a(l)}}_getRotation(){return Ua(this.options.rotation-90)}_getCircumference(){return Ua(this.options.circumference)}_getRotationExtents(){let e=Wn,t=-Wn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),l=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-l)/2,0),h=Math.min(r3(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:m,rotation:x}=this._getRotationExtents(),{ratioX:v,ratioY:T,offsetX:E,offsetY:w}=ID(x,m,h),S=(r.width-l)/v,F=(r.height-l)/T,z=Math.max(Math.min(S,F)/2,0),H=aS(this.options.radius,z),Y=Math.max(H*h,0),te=(H-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=E*H,this.offsetY=w*H,i.total=this.calculateTotal(),this.outerRadius=H-te*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-te*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/Wn)}updateElements(e,t,r,i){const a=i==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,m=(u.left+u.right)/2,x=(u.top+u.bottom)/2,v=a&&d.animateScale,T=v?0:this.innerRadius,E=v?0:this.outerRadius,{sharedOptions:w,includeOptions:S}=this._getSharedOptions(t,i);let F=this._getRotation(),z;for(z=0;z<t;++z)F+=this._circumference(z,a);for(z=t;z<t+r;++z){const H=this._circumference(z,a),Y=e[z],te={x:m+this.offsetX,y:x+this.offsetY,startAngle:F,endAngle:F+H,circumference:H,outerRadius:E,innerRadius:T};S&&(te.options=w||this.resolveDataElementOptions(z,Y.active?"active":i)),F+=H,this.updateElement(Y,z,te,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Wn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=Bx(t._parsed[e],r.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,a,l,u,h;if(!e){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,u=l.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)h=u.resolveDataElementOptions(i),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const a=this.resolveDataElementOptions(r);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Vt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ot(Gh,"id","doughnut"),ot(Gh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ot(Gh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ot(Gh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((a,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:i,lineWidth:h.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Q1 extends Gh{}ot(Q1,"id","pie"),ot(Q1,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ul(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yx{constructor(e){ot(this,"options");this.options=e||{}}static override(e){Object.assign(Yx.prototype,e)}init(){}formats(){return Ul()}parse(){return Ul()}format(){return Ul()}add(){return Ul()}diff(){return Ul()}startOf(){return Ul()}endOf(){return Ul()}}var DD={_date:Yx};function OD(n,e,t,r){const{controller:i,data:a,_sorted:l}=n,u=i._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const d=u._reversePixels?x3:Y1;if(r){if(i._sharedOptions){const m=a[0],x=typeof m.getRange=="function"&&m.getRange(e);if(x){const v=d(a,e,t-x),T=d(a,e,t+x);return{lo:v.lo,hi:T.hi}}}}else{const m=d(a,e,t);if(h){const{vScale:x}=i._cachedMeta,{_parsed:v}=n,T=v.slice(0,m.lo+1).reverse().findIndex(w=>!mn(w[x.axis]));m.lo-=Math.max(0,T);const E=v.slice(m.hi).findIndex(w=>!mn(w[x.axis]));m.hi+=Math.max(0,E)}return m}}return{lo:0,hi:a.length-1}}function Bg(n,e,t,r,i){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=a.length;u<h;++u){const{index:d,data:m}=a[u],{lo:x,hi:v}=OD(a[u],e,l,i);for(let T=x;T<=v;++T){const E=m[T];E.skip||r(E,d,T)}}}function kD(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const a=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function T1(n,e,t,r,i){const a=[];return!i&&!n.isPointInArea(e)||Bg(n,t,e,function(u,h,d){!i&&!_S(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&a.push({element:u,datasetIndex:h,index:d})},!0),a}function MD(n,e,t,r){let i=[];function a(l,u,h){const{startAngle:d,endAngle:m}=l.getProps(["startAngle","endAngle"],r),{angle:x}=cS(l,{x:e.x,y:e.y});Z0(x,d,m)&&i.push({element:l,datasetIndex:u,index:h})}return Bg(n,t,e,a),i}function PD(n,e,t,r,i,a){let l=[];const u=kD(t);let h=Number.POSITIVE_INFINITY;function d(m,x,v){const T=m.inRange(e.x,e.y,i);if(r&&!T)return;const E=m.getCenterPoint(i);if(!(!!a||n.isPointInArea(E))&&!T)return;const S=u(e,E);S<h?(l=[{element:m,datasetIndex:x,index:v}],h=S):S===h&&l.push({element:m,datasetIndex:x,index:v})}return Bg(n,t,e,d),l}function b1(n,e,t,r,i,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?MD(n,e,t,i):PD(n,e,t,r,i,a)}function eb(n,e,t,r,i){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Bg(n,t,e,(h,d,m)=>{h[l]&&h[l](e[t],i)&&(a.push({element:h,datasetIndex:d,index:m}),u=u||h.inRange(e.x,e.y,i))}),r&&!u?[]:a}var LD={modes:{index(n,e,t,r){const i=Gl(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?T1(n,i,a,r,l):b1(n,i,a,!1,r,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=u[0].index,x=d.data[m];x&&!x.skip&&h.push({element:x,datasetIndex:d.index,index:m})}),h):[]},dataset(n,e,t,r){const i=Gl(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?T1(n,i,a,r,l):b1(n,i,a,!1,r,l);if(u.length>0){const h=u[0].datasetIndex,d=n.getDatasetMeta(h).data;u=[];for(let m=0;m<d.length;++m)u.push({element:d[m],datasetIndex:h,index:m})}return u},point(n,e,t,r){const i=Gl(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return T1(n,i,a,r,l)},nearest(n,e,t,r){const i=Gl(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return b1(n,i,a,t.intersect,r,l)},x(n,e,t,r){const i=Gl(e,n);return eb(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Gl(e,n);return eb(n,i,"y",t.intersect,r)}}};const NS=["left","top","right","bottom"];function Lh(n,e){return n.filter(t=>t.pos===e)}function tb(n,e){return n.filter(t=>NS.indexOf(t.pos)===-1&&t.box.axis===e)}function Fh(n,e){return n.sort((t,r)=>{const i=e?r:t,a=e?t:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function FD(n){const e=[];let t,r,i,a,l,u;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:u});return e}function VD(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:a}=t;if(!r||!NS.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function jD(n,e){const t=VD(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,d=t[u.stack],m=d&&u.stackWeight/d.weight;u.horizontal?(u.width=m?m*r:h&&e.availableWidth,u.height=i):(u.width=r,u.height=m?m*i:h&&e.availableHeight)}return t}function BD(n){const e=FD(n),t=Fh(e.filter(d=>d.box.fullSize),!0),r=Fh(Lh(e,"left"),!0),i=Fh(Lh(e,"right")),a=Fh(Lh(e,"top"),!0),l=Fh(Lh(e,"bottom")),u=tb(e,"x"),h=tb(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:i.concat(h).concat(l).concat(u),chartArea:Lh(e,"chartArea"),vertical:r.concat(i).concat(h),horizontal:a.concat(l).concat(u)}}function nb(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function IS(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function UD(n,e,t,r){const{pos:i,box:a}=t,l=n.maxPadding;if(!jt(i)){t.size&&(n[i]-=t.size);const x=r[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?a.height:a.width),t.size=x.size/x.count,n[i]+=t.size}a.getPadding&&IS(l,a.getPadding());const u=Math.max(0,e.outerWidth-nb(l,n,"left","right")),h=Math.max(0,e.outerHeight-nb(l,n,"top","bottom")),d=u!==n.w,m=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:d,other:m}:{same:m,other:d}}function zD(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function HD(n,e){const t=e.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function qh(n,e,t,r){const i=[];let a,l,u,h,d,m;for(a=0,l=n.length,d=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||e.w,u.height||e.h,HD(u.horizontal,e));const{same:x,other:v}=UD(e,t,u,r);d|=x&&i.length,m=m||v,h.fullSize||i.push(u)}return d&&qh(i,e,t,r)||m}function f0(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function rb(n,e,t,r){const i=t.padding;let{x:a,y:l}=e;for(const u of n){const h=u.box,d=r[u.stack]||{placed:0,weight:1},m=u.stackWeight/d.weight||1;if(u.horizontal){const x=e.w*m,v=d.size||h.height;vf(d.start)&&(l=d.start),h.fullSize?f0(h,i.left,l,t.outerWidth-i.right-i.left,v):f0(h,e.left+d.placed,l,x,v),d.start=l,d.placed+=x,l=h.bottom}else{const x=e.h*m,v=d.size||h.width;vf(d.start)&&(a=d.start),h.fullSize?f0(h,a,i.top,v,t.outerHeight-i.bottom-i.top):f0(h,a,e.top+d.placed,v,x),d.start=a,d.placed+=x,a=h.right}}e.x=a,e.y=l}var jo={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Fs(n.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(t-i.height,0),u=BD(n.boxes),h=u.vertical,d=u.horizontal;tn(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const m=h.reduce((w,S)=>S.box.options&&S.box.options.display===!1?w:w+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/m,hBoxMaxHeight:l/2}),v=Object.assign({},i);IS(v,Fs(r));const T=Object.assign({maxPadding:v,w:a,h:l,x:i.left,y:i.top},i),E=jD(h.concat(d),x);qh(u.fullSize,T,x,E),qh(h,T,x,E),qh(d,T,x,E)&&qh(h,T,x,E),zD(T),rb(u.leftAndTop,T,x,E),T.x+=T.w,T.y+=T.h,rb(u.rightAndBottom,T,x,E),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},tn(u.chartArea,w=>{const S=w.box;Object.assign(S,n.chartArea),S.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class DS{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class GD extends DS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const P0="$chartjs",qD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ib=n=>n===null||n==="";function WD(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[P0]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ib(i)){const a=GT(n,"width");a!==void 0&&(n.width=a)}if(ib(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=GT(n,"height");a!==void 0&&(n.height=a)}return n}const OS=tD?{passive:!0}:!1;function KD(n,e,t){n&&n.addEventListener(e,t,OS)}function XD(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,OS)}function YD(n,e){const t=qD[n.type]||n.type,{x:r,y:i}=Gl(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function ng(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function $D(n,e,t){const r=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ng(u.addedNodes,r),l=l&&!ng(u.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function QD(n,e,t){const r=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ng(u.removedNodes,r),l=l&&!ng(u.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const yf=new Map;let sb=0;function kS(){const n=window.devicePixelRatio;n!==sb&&(sb=n,yf.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function ZD(n,e){yf.size||window.addEventListener("resize",kS),yf.set(n,e)}function JD(n){yf.delete(n),yf.size||window.removeEventListener("resize",kS)}function eO(n,e,t){const r=n.canvas,i=r&&Xx(r);if(!i)return;const a=dS((u,h)=>{const d=i.clientWidth;t(u,h),d<i.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],d=h.contentRect.width,m=h.contentRect.height;d===0&&m===0||a(d,m)});return l.observe(i),ZD(n,a),l}function w1(n,e,t){t&&t.disconnect(),e==="resize"&&JD(n)}function tO(n,e,t){const r=n.canvas,i=dS(a=>{n.ctx!==null&&t(YD(a,n))},n);return KD(r,e,i),i}class nO extends DS{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(WD(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[P0])return!1;const r=t[P0].initial;["height","width"].forEach(a=>{const l=r[a];mn(l)?t.removeAttribute(a):t.setAttribute(a,l)});const i=r.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[P0],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:$D,detach:QD,resize:eO}[t]||tO;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:w1,detach:w1,resize:w1}[t]||XD)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return eD(e,t,r,i)}isAttached(e){const t=e&&Xx(e);return!!(t&&t.isConnected)}}function rO(n){return!Kx()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?GD:nO}class Jo{constructor(){ot(this,"x");ot(this,"y");ot(this,"active",!1);ot(this,"options");ot(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Q0(this.x)&&Q0(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}}ot(Jo,"defaults",{}),ot(Jo,"defaultRoutes");function iO(n,e){const t=n.options.ticks,r=sO(n),i=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?oO(e):[],l=a.length,u=a[0],h=a[l-1],d=[];if(l>i)return lO(e,d,a,l/i),d;const m=aO(a,e,i);if(l>0){let x,v;const T=l>1?Math.round((h-u)/(l-1)):null;for(d0(e,d,m,mn(T)?0:u-T,u),x=0,v=l-1;x<v;x++)d0(e,d,m,a[x],a[x+1]);return d0(e,d,m,h,mn(T)?e.length:h+T),d}return d0(e,d,m),d}function sO(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function aO(n,e,t){const r=cO(n),i=e.length/t;if(!r)return Math.max(i,1);const a=u3(r);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>i)return h}return Math.max(i,1)}function oO(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function lO(n,e,t,r){let i=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),i++,a=t[i*r])}function d0(n,e,t,r,i){const a=Vt(r,0),l=Math.min(Vt(i,n.length),n.length);let u=0,h,d,m;for(t=Math.ceil(t),i&&(h=i-r,t=h/Math.floor(h/t)),m=a;m<0;)u++,m=Math.round(a+u*t);for(d=Math.max(a,0);d<l;d++)d===m&&(e.push(n[d]),u++,m=Math.round(a+u*t))}function cO(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const uO=n=>n==="left"?"right":n==="right"?"left":n,ab=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,ob=(n,e)=>Math.min(e||n,n);function lb(n,e){const t=[],r=n.length/e,i=n.length;let a=0;for(;a<i;a+=r)t.push(n[Math.floor(a)]);return t}function hO(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(i),d;if(!(t&&(r===1?d=Math.max(h-a,l-h):e===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(i-1))/2,h+=i<e?d:-d,h<a-u||h>l+u)))return h}function fO(n,e){tn(n,t=>{const r=t.gc,i=r.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[r[a]];r.splice(0,i)}})}function Vh(n){return n.drawTicks?n.tickLength:0}function cb(n,e){if(!n.display)return 0;const t=yi(n.font,e),r=Fs(n.padding);return(_r(n.text)?n.text.length:1)*t.lineHeight+r.height}function dO(n,e){return Du(n,{scale:e,type:"scale"})}function gO(n,e,t){return Du(n,{tick:t,index:e,type:"tick"})}function mO(n,e,t){let r=gS(n);return(t&&e!=="right"||!t&&e==="right")&&(r=uO(r)),r}function pO(n,e,t,r){const{top:i,left:a,bottom:l,right:u,chart:h}=n,{chartArea:d,scales:m}=h;let x=0,v,T,E;const w=l-i,S=u-a;if(n.isHorizontal()){if(T=Fi(r,a,u),jt(t)){const F=Object.keys(t)[0],z=t[F];E=m[F].getPixelForValue(z)+w-e}else t==="center"?E=(d.bottom+d.top)/2+w-e:E=ab(n,t,e);v=u-a}else{if(jt(t)){const F=Object.keys(t)[0],z=t[F];T=m[F].getPixelForValue(z)-S+e}else t==="center"?T=(d.left+d.right)/2-S+e:T=ab(n,t,e);E=Fi(r,l,i),x=t==="left"?-sr:sr}return{titleX:T,titleY:E,maxWidth:v,rotation:x}}class Ou extends Jo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Zs(e,Number.POSITIVE_INFINITY),t=Zs(t,Number.NEGATIVE_INFINITY),r=Zs(r,Number.POSITIVE_INFINITY),i=Zs(i,Number.NEGATIVE_INFINITY),{min:Zs(e,r),max:Zs(t,i),minDefined:ds(e),maxDefined:ds(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let h=0,d=u.length;h<d;++h)l=u[h].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=i&&t>r?t:r,{min:Zs(t,Zs(r,t)),max:Zs(r,Zs(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yn(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=j3(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?lb(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=iO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yn(this.options.afterUpdate,[this])}beforeSetDimensions(){yn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r],a.label=yn(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){yn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=ob(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let l=i,u,h,d;if(!this._isVisible()||!t.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),x=m.widest.width,v=m.highest.height,T=vi(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/r:T/(r-1),x+6>u&&(u=T/(r-(e.offset?.5:1)),h=this.maxHeight-Vh(e.grid)-t.padding-cb(e.title,this.chart.options.font),d=Math.sqrt(x*x+v*v),l=g3(Math.min(Math.asin(vi((m.highest.height+6)/u,-1,1)),Math.asin(vi(h/d,-1,1))-Math.asin(vi(v/d,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){yn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=cb(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=Vh(a)+h):(e.height=this.maxHeight,e.width=Vh(a)+h),r.display&&this.ticks.length){const{first:d,last:m,widest:x,highest:v}=this._getLabelSizes(),T=r.padding*2,E=Ua(this.labelRotation),w=Math.cos(E),S=Math.sin(E);if(u){const F=r.mirror?0:S*x.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+F+T)}else{const F=r.mirror?0:w*x.width+S*v.height;e.width=Math.min(this.maxWidth,e.width+F+T)}this._calculatePadding(d,m,S,w)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,T=0;h?d?(v=i*e.width,T=r*t.height):(v=r*e.height,T=i*t.width):a==="start"?T=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,T=t.width/2),this.paddingLeft=Math.max((v-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((T-x+l)*this.width/(this.width-x),0)}else{let m=t.height/2,x=e.height/2;a==="start"?(m=0,x=e.height):a==="end"&&(m=t.height,x=0),this.paddingTop=m+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)mn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=lb(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(t/ob(t,r));let d=0,m=0,x,v,T,E,w,S,F,z,H,Y,te;for(x=0;x<t;x+=h){if(E=e[x].label,w=this._resolveTickFontOptions(x),i.font=S=w.string,F=a[S]=a[S]||{data:{},gc:[]},z=w.lineHeight,H=Y=0,!mn(E)&&!_r(E))H=VT(i,F.data,F.gc,H,E),Y=z;else if(_r(E))for(v=0,T=E.length;v<T;++v)te=E[v],!mn(te)&&!_r(te)&&(H=VT(i,F.data,F.gc,H,te),Y+=z);l.push(H),u.push(Y),d=Math.max(H,d),m=Math.max(Y,m)}fO(a,t);const he=l.indexOf(d),D=u.indexOf(m),I=R=>({width:l[R]||0,height:u[R]||0});return{first:I(0),last:I(t-1),widest:I(he),highest:I(D),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return p3(this._alignToPixels?Bl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=gO(this.getContext(),e,r))}return this.$context||(this.$context=dO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ua(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*r>u*i?u/r:h/i:h*i<u*r?h/r:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:a,position:l,border:u}=i,h=a.offset,d=this.isHorizontal(),x=this.ticks.length+(h?1:0),v=Vh(a),T=[],E=u.setContext(this.getContext()),w=E.display?E.width:0,S=w/2,F=function(oe){return Bl(r,oe,w)};let z,H,Y,te,he,D,I,R,L,V,B,P;if(l==="top")z=F(this.bottom),D=this.bottom-v,R=z-S,V=F(e.top)+S,P=e.bottom;else if(l==="bottom")z=F(this.top),V=e.top,P=F(e.bottom)-S,D=z+S,R=this.top+v;else if(l==="left")z=F(this.right),he=this.right-v,I=z-S,L=F(e.left)+S,B=e.right;else if(l==="right")z=F(this.left),L=e.left,B=F(e.right)-S,he=z+S,I=this.left+v;else if(t==="x"){if(l==="center")z=F((e.top+e.bottom)/2+.5);else if(jt(l)){const oe=Object.keys(l)[0],pe=l[oe];z=F(this.chart.scales[oe].getPixelForValue(pe))}V=e.top,P=e.bottom,D=z+S,R=D+v}else if(t==="y"){if(l==="center")z=F((e.left+e.right)/2);else if(jt(l)){const oe=Object.keys(l)[0],pe=l[oe];z=F(this.chart.scales[oe].getPixelForValue(pe))}he=z-S,I=he-v,L=e.left,B=e.right}const Qe=Vt(i.ticks.maxTicksLimit,x),Ie=Math.max(1,Math.ceil(x/Qe));for(H=0;H<x;H+=Ie){const oe=this.getContext(H),pe=a.setContext(oe),je=u.setContext(oe),qe=pe.lineWidth,st=pe.color,dt=je.dash||[],K=je.dashOffset,ee=pe.tickWidth,Z=pe.tickColor,Q=pe.tickBorderDash||[],ve=pe.tickBorderDashOffset;Y=hO(this,H,h),Y!==void 0&&(te=Bl(r,Y,qe),d?he=I=L=B=te:D=R=V=P=te,T.push({tx1:he,ty1:D,tx2:I,ty2:R,x1:L,y1:V,x2:B,y2:P,width:qe,color:st,borderDash:dt,borderDashOffset:K,tickWidth:ee,tickColor:Z,tickBorderDash:Q,tickBorderDashOffset:ve}))}return this._ticksLength=x,this._borderValue=z,T}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:a}=r,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:d,padding:m,mirror:x}=a,v=Vh(r.grid),T=v+m,E=x?-m:T,w=-Ua(this.labelRotation),S=[];let F,z,H,Y,te,he,D,I,R,L,V,B,P="middle";if(i==="top")he=this.bottom-E,D=this._getXAxisLabelAlignment();else if(i==="bottom")he=this.top+E,D=this._getXAxisLabelAlignment();else if(i==="left"){const Ie=this._getYAxisLabelAlignment(v);D=Ie.textAlign,te=Ie.x}else if(i==="right"){const Ie=this._getYAxisLabelAlignment(v);D=Ie.textAlign,te=Ie.x}else if(t==="x"){if(i==="center")he=(e.top+e.bottom)/2+T;else if(jt(i)){const Ie=Object.keys(i)[0],oe=i[Ie];he=this.chart.scales[Ie].getPixelForValue(oe)+T}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")te=(e.left+e.right)/2-T;else if(jt(i)){const Ie=Object.keys(i)[0],oe=i[Ie];te=this.chart.scales[Ie].getPixelForValue(oe)}D=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?P="top":h==="end"&&(P="bottom"));const Qe=this._getLabelSizes();for(F=0,z=u.length;F<z;++F){H=u[F],Y=H.label;const Ie=a.setContext(this.getContext(F));I=this.getPixelForTick(F)+a.labelOffset,R=this._resolveTickFontOptions(F),L=R.lineHeight,V=_r(Y)?Y.length:1;const oe=V/2,pe=Ie.color,je=Ie.textStrokeColor,qe=Ie.textStrokeWidth;let st=D;l?(te=I,D==="inner"&&(F===z-1?st=this.options.reverse?"left":"right":F===0?st=this.options.reverse?"right":"left":st="center"),i==="top"?d==="near"||w!==0?B=-V*L+L/2:d==="center"?B=-Qe.highest.height/2-oe*L+L:B=-Qe.highest.height+L/2:d==="near"||w!==0?B=L/2:d==="center"?B=Qe.highest.height/2-oe*L:B=Qe.highest.height-V*L,x&&(B*=-1),w!==0&&!Ie.showLabelBackdrop&&(te+=L/2*Math.sin(w))):(he=I,B=(1-V)*L/2);let dt;if(Ie.showLabelBackdrop){const K=Fs(Ie.backdropPadding),ee=Qe.heights[F],Z=Qe.widths[F];let Q=B-K.top,ve=0-K.left;switch(P){case"middle":Q-=ee/2;break;case"bottom":Q-=ee;break}switch(D){case"center":ve-=Z/2;break;case"right":ve-=Z;break;case"inner":F===z-1?ve-=Z:F>0&&(ve-=Z/2);break}dt={left:ve,top:Q,width:Z+K.width,height:ee+K.height,color:Ie.backdropColor}}S.push({label:Y,font:R,textOffset:B,options:{rotation:w,color:pe,strokeColor:je,strokeWidth:qe,textAlign:st,textBaseline:P,translation:[te,he],backdrop:dt}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ua(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let d,m;return t==="left"?i?(m=this.right+a,r==="near"?d="left":r==="center"?(d="center",m+=h/2):(d="right",m+=h)):(m=this.right-u,r==="near"?d="right":r==="center"?(d="center",m-=h/2):(d="left",m=this.left)):t==="right"?i?(m=this.left+a,r==="near"?d="right":r==="center"?(d="center",m-=h/2):(d="left",m-=h)):(m=this.left+u,r==="near"?d="left":r==="center"?(d="center",m+=h/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,d,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=i.length;a<l;++a){const h=i[a];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,m,x,v;this.isHorizontal()?(d=Bl(e,this.left,l)-l/2,m=Bl(e,this.right,u)+u/2,x=v=h):(x=Bl(e,this.top,l)-l/2,v=Bl(e,this.bottom,u)+u/2,d=m=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(d,x),t.lineTo(m,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Ux(r,i);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,d=l.label,m=l.textOffset;J0(r,d,0,m,h,u)}i&&zx(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const a=yi(r.font),l=Fs(r.padding),u=r.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||jt(t)?(h+=l.bottom,_r(r.text)&&(h+=a.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:d,titleY:m,maxWidth:x,rotation:v}=pO(this,h,t,u);J0(e,r.text,0,0,a,{color:r.color,maxWidth:x,rotation:v,textAlign:mO(u,t,i),textBaseline:"middle",translation:[d,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Vt(e.grid&&e.grid.z,-1),i=Vt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ou.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return yi(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class g0{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;vO(t)&&(r=this.register(t));const i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,xO(e,l,r),this.override&&jn.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in jn[i]&&(delete jn[i][r],this.override&&delete ec[r])}}function xO(n,e,t){const r=_f(Object.create(null),[t?jn.get(t):{},jn.get(e),n.defaults]);jn.set(e,r),n.defaultRoutes&&_O(e,n.defaultRoutes),n.descriptors&&jn.describe(e,n.descriptors)}function _O(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");jn.route(a,i,h,u)})}function vO(n){return"id"in n&&"defaults"in n}class yO{constructor(){this.controllers=new g0(du,"datasets",!0),this.elements=new g0(Jo,"elements"),this.plugins=new g0(Object,"plugins"),this.scales=new g0(Ou,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):tn(i,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const i=Vx(e);yn(r["before"+i],[],r),t[e](r),yn(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var na=new yO;class TO{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,r,i){i=i||{};for(const a of e){const l=a.plugin,u=l[r],h=[t,i,a.options];if(yn(u,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Vt(r.options&&r.options.plugins,{}),a=bO(r);return i===!1&&!t?[]:EO(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function bO(n){const e={},t=[],r=Object.keys(na.plugins.items);for(let a=0;a<r.length;a++)t.push(na.getPlugin(r[a]));const i=n.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function wO(n,e){return!e&&n===!1?null:n===!0?{}:n}function EO(n,{plugins:e,localIds:t},r,i){const a=[],l=n.getContext();for(const u of e){const h=u.id,d=wO(r[h],i);d!==null&&a.push({plugin:u,options:SO(n.config,{plugin:u,local:t[h]},d,l)})}return a}function SO(n,{plugin:e,local:t},r,i){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Z1(n,e){const t=jn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function AO(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function CO(n,e){return n===e?"_index_":"_value_"}function ub(n){if(n==="x"||n==="y"||n==="r")return n}function RO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function J1(n,...e){if(ub(n))return n;for(const t of e){const r=t.axis||RO(t.position)||n.length>1&&ub(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function hb(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function NO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return hb(n,"x",t[0])||hb(n,"y",t[0])}return{}}function IO(n,e){const t=ec[n.type]||{scales:{}},r=e.scales||{},i=Z1(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!jt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=J1(l,u,NO(l,n),jn.scales[u.type]),d=CO(h,i),m=t.scales||{};a[l]=tf(Object.create(null),[{axis:h},u,m[h],m[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||Z1(u,e),m=(ec[u]||{}).scales||{};Object.keys(m).forEach(x=>{const v=AO(x,h),T=l[v+"AxisID"]||v;a[T]=a[T]||Object.create(null),tf(a[T],[{axis:v},r[T],m[x]])})}),Object.keys(a).forEach(l=>{const u=a[l];tf(u,[jn.scales[u.type],jn.scale])}),a}function MS(n){const e=n.options||(n.options={});e.plugins=Vt(e.plugins,{}),e.scales=IO(n,e)}function PS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function DO(n){return n=n||{},n.data=PS(n.data),MS(n),n}const fb=new Map,LS=new Set;function m0(n,e){let t=fb.get(n);return t||(t=e(),fb.set(n,t),LS.add(t)),t}const jh=(n,e,t)=>{const r=Jl(e,t);r!==void 0&&n.add(r)};class OO{constructor(e){this._config=DO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=PS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),MS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return m0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return m0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return m0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return m0(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:a}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(x=>jh(h,e,x))),m.forEach(x=>jh(h,i,x)),m.forEach(x=>jh(h,ec[a]||{},x)),m.forEach(x=>jh(h,jn,x)),m.forEach(x=>jh(h,$1,x))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),LS.has(t)&&l.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,ec[t]||{},jn.datasets[t]||{},{type:t},jn,$1]}resolveNamedOptions(e,t,r,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=db(this._resolverCache,e,i);let h=l;if(MO(l,t)){a.$shared=!1,r=Zo(r)?r():r;const d=this.createResolver(e,r,u);h=bu(l,r,d)}for(const d of t)a[d]=h[d];return a}createResolver(e,t,r=[""],i){const{resolver:a}=db(this._resolverCache,e,r);return jt(t)?bu(a,t,void 0,i):a}}function db(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let a=r.get(i);return a||(a={resolver:Gx(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,a)),a}const kO=n=>jt(n)&&Object.getOwnPropertyNames(n).some(e=>Zo(n[e]));function MO(n,e){const{isScriptable:t,isIndexable:r}=yS(n);for(const i of e){const a=t(i),l=r(i),u=(l||a)&&n[i];if(a&&(Zo(u)||kO(u))||l&&_r(u))return!0}return!1}var PO="4.5.0";const LO=["top","bottom","left","right","chartArea"];function gb(n,e){return n==="top"||n==="bottom"||LO.indexOf(n)===-1&&e==="x"}function mb(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function pb(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),yn(t&&t.onComplete,[n],e)}function FO(n){const e=n.chart,t=e.options.animation;yn(t&&t.onProgress,[n],e)}function FS(n){return Kx()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const L0={},xb=n=>{const e=FS(n);return Object.values(L0).filter(t=>t.canvas===e).pop()};function VO(n,e,t){const r=Object.keys(n);for(const i of r){const a=+i;if(a>=e){const l=n[i];delete n[i],(t>0||a>e)&&(n[a+t]=l)}}}function jO(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var ko;let Ug=(ko=class{static register(...e){na.add(...e),_b()}static unregister(...e){na.remove(...e),_b()}constructor(e,t){const r=this.config=new OO(t),i=FS(e),a=xb(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||rO(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,l.aspectRatio),h=u&&u.canvas,d=h&&h.height,m=h&&h.width;if(this.id=n3(),this.ctx=u,this.canvas=h,this.width=m,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=y3(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],L0[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Fa.listen(this,"complete",pb),Fa.listen(this,"progress",FO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:a}=this;return mn(e)?t&&a?a:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return na}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():HT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jT(this.canvas,this.ctx),this}stop(){return Fa.stop(this),this}resize(e,t){Fa.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,HT(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),yn(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};tn(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],h=J1(l,u),d=h==="r",m=h==="x";return{options:u,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),tn(a,l=>{const u=l.options,h=u.id,d=J1(h,u),m=Vt(u.type,l.dtype);(u.position===void 0||gb(u.position,d)!==gb(l.dposition))&&(u.position=l.dposition),i[h]=!0;let x=null;if(h in r&&r[h].type===m)x=r[h];else{const v=na.getScale(m);x=new v({id:h,type:m,ctx:this.ctx,chart:this}),r[x.id]=x}x.init(u,e)}),tn(i,(l,u)=>{l||delete r[u]}),tn(r,l=>{jo.configure(this,l,l.options),jo.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,a)=>i.index-a.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(mb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const a=t[r];let l=this.getDatasetMeta(r);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=a.indexAxis||Z1(u,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=na.getController(u),{datasetElementType:d,dataElementType:m}=jn.datasets[u];Object.assign(h,{dataElementType:na.getElement(m),datasetElementType:d&&na.getElement(d)}),l.controller=new h(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){tn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:x}=this.getDatasetMeta(d),v=!i&&a.indexOf(x)===-1;x.buildOrUpdateElements(v),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||tn(a,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mb("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){tn(this.scales,e=>{jo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!NT(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of t){const l=r==="_removeElements"?-a:a;VO(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),i=r(0);for(let a=1;a<t;a++)if(!NT(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jo.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],tn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Zo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fa.has(this)?this.attached&&!Fa.running(this)&&Fa.start(this):(this.draw(),pb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=sD(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Ux(t,i),e.controller.draw(),i&&zx(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return _S(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const a=LD.modes[t];return typeof a=="function"?a(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Du(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);vf(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Fa.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete L0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},i=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};tn(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},i=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},a=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){tn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},tn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let a,l,u,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!X0(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,a=(h,d)=>h.filter(m=>!d.some(x=>m.datasetIndex===x.datasetIndex&&m.index===x.index)),l=a(t,e),u=r?e:a(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:a}=this,l=t,u=this._getActiveElements(e,i,r,l),h=l3(e),d=jO(e,this._lastEvent,r,h);r&&(this._lastEvent=null,yn(a.onHover,[e,u,this],this),h&&yn(a.onClick,[e,u,this],this));const m=!X0(u,i);return(m||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=d,m}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},ot(ko,"defaults",jn),ot(ko,"instances",L0),ot(ko,"overrides",ec),ot(ko,"registry",na),ot(ko,"version",PO),ot(ko,"getChart",xb),ko);function _b(){return tn(Ug.instances,n=>n._plugins.invalidate())}function BO(n,e,t){const{startAngle:r,x:i,y:a,outerRadius:l,innerRadius:u,options:h}=e,{borderWidth:d,borderJoinStyle:m}=h,x=Math.min(d/l,ra(r-t));if(n.beginPath(),n.arc(i,a,l-d/2,r+x/2,t-x/2),u>0){const v=Math.min(d/u,ra(r-t));n.arc(i,a,u+d/2,t-v/2,r+v/2,!0)}else{const v=Math.min(d/2,l*ra(r-t));if(m==="round")n.arc(i,a,v,t-Tn/2,r+Tn/2,!0);else if(m==="bevel"){const T=2*v*v,E=-T*Math.cos(t+Tn/2)+i,w=-T*Math.sin(t+Tn/2)+a,S=T*Math.cos(r+Tn/2)+i,F=T*Math.sin(r+Tn/2)+a;n.lineTo(E,w),n.lineTo(S,F)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function UO(n,e,t){const{startAngle:r,pixelMargin:i,x:a,y:l,outerRadius:u,innerRadius:h}=e;let d=i/u;n.beginPath(),n.arc(a,l,u,r-d,t+d),h>i?(d=i/h,n.arc(a,l,h,t+d,r-d,!0)):n.arc(a,l,i,t+sr,r-sr),n.closePath(),n.clip()}function zO(n){return Hx(n,["outerStart","outerEnd","innerStart","innerEnd"])}function HO(n,e,t,r){const i=zO(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,r*e/2),u=h=>{const d=(t-Math.min(a,h))*r/2;return vi(h,0,Math.min(a,d))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:vi(i.innerStart,0,l),innerEnd:vi(i.innerEnd,0,l)}}function Jc(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function rg(n,e,t,r,i,a){const{x:l,y:u,startAngle:h,pixelMargin:d,innerRadius:m}=e,x=Math.max(e.outerRadius+r+t-d,0),v=m>0?m+r+t+d:0;let T=0;const E=i-h;if(r){const Ie=m>0?m-r:0,oe=x>0?x-r:0,pe=(Ie+oe)/2,je=pe!==0?E*pe/(pe+r):E;T=(E-je)/2}const w=Math.max(.001,E*x-t/Tn)/x,S=(E-w)/2,F=h+S+T,z=i-S-T,{outerStart:H,outerEnd:Y,innerStart:te,innerEnd:he}=HO(e,v,x,z-F),D=x-H,I=x-Y,R=F+H/D,L=z-Y/I,V=v+te,B=v+he,P=F+te/V,Qe=z-he/B;if(n.beginPath(),a){const Ie=(R+L)/2;if(n.arc(l,u,x,R,Ie),n.arc(l,u,x,Ie,L),Y>0){const qe=Jc(I,L,l,u);n.arc(qe.x,qe.y,Y,L,z+sr)}const oe=Jc(B,z,l,u);if(n.lineTo(oe.x,oe.y),he>0){const qe=Jc(B,Qe,l,u);n.arc(qe.x,qe.y,he,z+sr,Qe+Math.PI)}const pe=(z-he/v+(F+te/v))/2;if(n.arc(l,u,v,z-he/v,pe,!0),n.arc(l,u,v,pe,F+te/v,!0),te>0){const qe=Jc(V,P,l,u);n.arc(qe.x,qe.y,te,P+Math.PI,F-sr)}const je=Jc(D,F,l,u);if(n.lineTo(je.x,je.y),H>0){const qe=Jc(D,R,l,u);n.arc(qe.x,qe.y,H,F-sr,R)}}else{n.moveTo(l,u);const Ie=Math.cos(R)*x+l,oe=Math.sin(R)*x+u;n.lineTo(Ie,oe);const pe=Math.cos(L)*x+l,je=Math.sin(L)*x+u;n.lineTo(pe,je)}n.closePath()}function GO(n,e,t,r,i){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){rg(n,e,t,r,h,i);for(let d=0;d<a;++d)n.fill();isNaN(u)||(h=l+(u%Wn||Wn))}return rg(n,e,t,r,h,i),n.fill(),h}function qO(n,e,t,r,i){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:d,borderJoinStyle:m,borderDash:x,borderDashOffset:v,borderRadius:T}=h,E=h.borderAlign==="inner";if(!d)return;n.setLineDash(x||[]),n.lineDashOffset=v,E?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let w=e.endAngle;if(a){rg(n,e,t,r,w,i);for(let S=0;S<a;++S)n.stroke();isNaN(u)||(w=l+(u%Wn||Wn))}E&&UO(n,e,w),h.selfJoin&&w-l>=Tn&&T===0&&m!=="miter"&&BO(n,e,w),a||(rg(n,e,t,r,w,i),n.stroke())}class Wh extends Jo{constructor(t){super();ot(this,"circumference");ot(this,"endAngle");ot(this,"fullCircles");ot(this,"innerRadius");ot(this,"outerRadius");ot(this,"pixelMargin");ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const a=this.getProps(["x","y"],i),{angle:l,distance:u}=cS(a,{x:t,y:r}),{startAngle:h,endAngle:d,innerRadius:m,outerRadius:x,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),T=(this.options.spacing+this.options.borderWidth)/2,E=Vt(v,d-h),w=Z0(l,h,d)&&h!==d,S=E>=Wn||w,F=Kl(u,m+T,x+T);return S&&F}getCenterPoint(t){const{x:r,y:i,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:m}=this.options,x=(a+l)/2,v=(u+h+m+d)/2;return{x:r+Math.cos(x)*v,y:i+Math.sin(x)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,u=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Wn?Math.floor(i/Wn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const d=1-Math.sin(Math.min(Tn,i||0)),m=a*d;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,GO(t,this,m,l,u),qO(t,this,m,l,u),t.restore()}}ot(Wh,"id","arc"),ot(Wh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ot(Wh,"defaultRoutes",{backgroundColor:"backgroundColor"}),ot(Wh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function VS(n,e){const{x:t,y:r,base:i,width:a,height:l}=n.getProps(["x","y","base","width","height"],e);let u,h,d,m,x;return n.horizontal?(x=l/2,u=Math.min(t,i),h=Math.max(t,i),d=r-x,m=r+x):(x=a/2,u=t-x,h=t+x,d=Math.min(r,i),m=Math.max(r,i)),{left:u,top:d,right:h,bottom:m}}function Bo(n,e,t,r){return n?0:vi(e,t,r)}function WO(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,a=vS(r);return{t:Bo(i.top,a.top,0,t),r:Bo(i.right,a.right,0,e),b:Bo(i.bottom,a.bottom,0,t),l:Bo(i.left,a.left,0,e)}}function KO(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,a=hu(i),l=Math.min(e,t),u=n.borderSkipped,h=r||jt(i);return{topLeft:Bo(!h||u.top||u.left,a.topLeft,0,l),topRight:Bo(!h||u.top||u.right,a.topRight,0,l),bottomLeft:Bo(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:Bo(!h||u.bottom||u.right,a.bottomRight,0,l)}}function XO(n){const e=VS(n),t=e.right-e.left,r=e.bottom-e.top,i=WO(n,t/2,r/2),a=KO(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function E1(n,e,t,r){const i=e===null,a=t===null,u=n&&!(i&&a)&&VS(n,r);return u&&(i||Kl(e,u.left,u.right))&&(a||Kl(t,u.top,u.bottom))}function YO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function $O(n,e){n.rect(e.x,e.y,e.w,e.h)}function S1(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-r,l=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+a,h:n.h+l,radius:n.radius}}class F0 extends Jo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:l}=XO(this),u=YO(l.radius)?eg:$O;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),u(e,S1(l,t,a)),e.clip(),u(e,S1(a,-t,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,S1(a,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return E1(this,e,t,r)}inXRange(e,t){return E1(this,e,null,t)}inYRange(e,t){return E1(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+i)/2:t,y:a?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ot(F0,"id","bar"),ot(F0,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ot(F0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const vb=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},QO=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class yb extends Jo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=yn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=yi(r.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=vb(r,a);let d,m;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(l,a,u,h)+10):(m=this.maxHeight,d=this._fitCols(l,i,u,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],m=i+u;let x=e;a.textAlign="left",a.textBaseline="middle";let v=-1,T=-m;return this.legendItems.forEach((E,w)=>{const S=r+t/2+a.measureText(E.text).width;(w===0||d[d.length-1]+S+2*u>l)&&(x+=m,d[d.length-(w>0?0:1)]=0,T+=m,v++),h[w]={left:0,top:T,row:v,width:S,height:i},d[d.length-1]+=S+u}),x}_fitCols(e,t,r,i){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],m=l-e;let x=u,v=0,T=0,E=0,w=0;return this.legendItems.forEach((S,F)=>{const{itemWidth:z,itemHeight:H}=ZO(r,t,a,S,i);F>0&&T+H+2*u>m&&(x+=v+u,d.push({width:v,height:T}),E+=v+u,w++,v=T=0),h[F]={left:E,top:T,col:w,width:z,height:H},v=Math.max(v,z),T+=H+u}),x+=v,d.push({width:v,height:T}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:a}}=this,l=fu(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=Fi(r,this.left+i,this.right-this.lineWidths[u]);for(const d of t)u!==d.row&&(u=d.row,h=Fi(r,this.left+i,this.right-this.lineWidths[u])),d.top+=this.top+e+i,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+i}else{let u=0,h=Fi(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const d of t)d.col!==u&&(u=d.col,h=Fi(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),d.top=h,d.left+=this.left+i,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ux(e,this),this._draw(),zx(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:a,labels:l}=e,u=jn.color,h=fu(e.rtl,this.left,this.width),d=yi(l.font),{padding:m}=l,x=d.size,v=x/2;let T;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:E,boxHeight:w,itemHeight:S}=vb(l,x),F=function(he,D,I){if(isNaN(E)||E<=0||isNaN(w)||w<0)return;i.save();const R=Vt(I.lineWidth,1);if(i.fillStyle=Vt(I.fillStyle,u),i.lineCap=Vt(I.lineCap,"butt"),i.lineDashOffset=Vt(I.lineDashOffset,0),i.lineJoin=Vt(I.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=Vt(I.strokeStyle,u),i.setLineDash(Vt(I.lineDash,[])),l.usePointStyle){const L={radius:w*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:R},V=h.xPlus(he,E/2),B=D+v;xS(i,L,V,B,l.pointStyleWidth&&E)}else{const L=D+Math.max((x-w)/2,0),V=h.leftForLtr(he,E),B=hu(I.borderRadius);i.beginPath(),Object.values(B).some(P=>P!==0)?eg(i,{x:V,y:L,w:E,h:w,radius:B}):i.rect(V,L,E,w),i.fill(),R!==0&&i.stroke()}i.restore()},z=function(he,D,I){J0(i,I.text,he,D+S/2,d,{strikethrough:I.hidden,textAlign:h.textAlign(I.textAlign)})},H=this.isHorizontal(),Y=this._computeTitleHeight();H?T={x:Fi(a,this.left+m,this.right-r[0]),y:this.top+m+Y,line:0}:T={x:this.left+m,y:Fi(a,this.top+Y+m,this.bottom-t[0].height),line:0},ES(this.ctx,e.textDirection);const te=S+m;this.legendItems.forEach((he,D)=>{i.strokeStyle=he.fontColor,i.fillStyle=he.fontColor;const I=i.measureText(he.text).width,R=h.textAlign(he.textAlign||(he.textAlign=l.textAlign)),L=E+v+I;let V=T.x,B=T.y;h.setWidth(this.width),H?D>0&&V+L+m>this.right&&(B=T.y+=te,T.line++,V=T.x=Fi(a,this.left+m,this.right-r[T.line])):D>0&&B+te>this.bottom&&(V=T.x=V+t[T.line].width+m,T.line++,B=T.y=Fi(a,this.top+Y+m,this.bottom-t[T.line].height));const P=h.x(V);if(F(P,B,he),V=T3(R,V+E+v,H?V+L:this.right,e.rtl),z(h.x(V),B,he),H)T.x+=L+m;else if(typeof he.text!="string"){const Qe=d.lineHeight;T.y+=jS(he,Qe)+m}else T.y+=te}),SS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=yi(t.font),i=Fs(t.padding);if(!t.display)return;const a=fu(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=r.size/2,d=i.top+h;let m,x=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+d,x=Fi(e.align,x,this.right-v);else{const E=this.columnSizes.reduce((w,S)=>Math.max(w,S.height),0);m=d+Fi(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const T=Fi(u,x,x+v);l.textAlign=a.textAlign(gS(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,J0(l,t.text,T,m,r)}_computeTitleHeight(){const e=this.options.title,t=yi(e.font),r=Fs(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,a;if(Kl(e,this.left,this.right)&&Kl(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],Kl(e,i.left,i.left+i.width)&&Kl(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!tk(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=QO(i,r);i&&!a&&yn(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!a&&yn(t.onHover,[e,r,this],this)}else r&&yn(t.onClick,[e,r,this],this)}}function ZO(n,e,t,r,i){const a=JO(r,n,e,t),l=ek(i,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function JO(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(i).width}function ek(n,e,t){let r=n;return typeof e.text!="string"&&(r=jS(e,t)),r}function jS(n,e){const t=n.text?n.text.length:0;return e*t}function tk(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var nk={id:"legend",_element:yb,start(n,e,t){const r=n.legend=new yb({ctx:n.ctx,options:t,chart:n});jo.configure(n,r,t),jo.addBox(n,r)},stop(n){jo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;jo.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),m=Fs(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Kh={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();r.add(h.x),i+=h.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,h)=>u+h)/r.size,y:i/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),m=m3(e,d);m<i&&(i=m,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,r=h.y}return{x:t,y:r}}};function Js(n,e){return e&&(_r(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Va(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function rk(n,e){const{element:t,datasetIndex:r,index:i}=e,a=n.getDatasetMeta(r).controller,{label:l,value:u}=a.getLabelAndValue(i);return{chart:n,label:l,parsed:a.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Tb(n,e){const t=n.chart.ctx,{body:r,footer:i,title:a}=n,{boxWidth:l,boxHeight:u}=e,h=yi(e.bodyFont),d=yi(e.titleFont),m=yi(e.footerFont),x=a.length,v=i.length,T=r.length,E=Fs(e.padding);let w=E.height,S=0,F=r.reduce((Y,te)=>Y+te.before.length+te.lines.length+te.after.length,0);if(F+=n.beforeBody.length+n.afterBody.length,x&&(w+=x*d.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),F){const Y=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;w+=T*Y+(F-T)*h.lineHeight+(F-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let z=0;const H=function(Y){S=Math.max(S,t.measureText(Y).width+z)};return t.save(),t.font=d.string,tn(n.title,H),t.font=h.string,tn(n.beforeBody.concat(n.afterBody),H),z=e.displayColors?l+2+e.boxPadding:0,tn(r,Y=>{tn(Y.before,H),tn(Y.lines,H),tn(Y.after,H)}),z=0,t.font=m.string,tn(n.footer,H),t.restore(),S+=E.width,{width:S,height:w}}function ik(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function sk(n,e,t,r){const{x:i,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+a+l>e.width||n==="right"&&i-a-l<0)return!0}function ak(n,e,t,r){const{x:i,width:a}=t,{width:l,chartArea:{left:u,right:h}}=n;let d="center";return r==="center"?d=i<=(u+h)/2?"left":"right":i<=a/2?d="left":i>=l-a/2&&(d="right"),sk(d,n,e,t)&&(d="center"),d}function bb(n,e,t){const r=t.yAlign||e.yAlign||ik(n,t);return{xAlign:t.xAlign||e.xAlign||ak(n,e,t,r),yAlign:r}}function ok(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function lk(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function wb(n,e,t,r){const{caretSize:i,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,d=i+a,{topLeft:m,topRight:x,bottomLeft:v,bottomRight:T}=hu(l);let E=ok(e,u);const w=lk(e,h,d);return h==="center"?u==="left"?E+=d:u==="right"&&(E-=d):u==="left"?E-=Math.max(m,v)+i:u==="right"&&(E+=Math.max(x,T)+i),{x:vi(E,0,r.width-e.width),y:vi(w,0,r.height-e.height)}}function p0(n,e,t){const r=Fs(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Eb(n){return Js([],Va(n))}function ck(n,e,t){return Du(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Sb(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const BS={beforeTitle:La,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:La,beforeBody:La,beforeLabel:La,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return mn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:La,afterBody:La,beforeFooter:La,footer:La,afterFooter:La};function mi(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?BS[e].call(t,r):i}class ex extends Jo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,a=new AS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=ck(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=mi(r,"beforeTitle",this,e),a=mi(r,"title",this,e),l=mi(r,"afterTitle",this,e);let u=[];return u=Js(u,Va(i)),u=Js(u,Va(a)),u=Js(u,Va(l)),u}getBeforeBody(e,t){return Eb(mi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return tn(e,a=>{const l={before:[],lines:[],after:[]},u=Sb(r,a);Js(l.before,Va(mi(u,"beforeLabel",this,a))),Js(l.lines,mi(u,"label",this,a)),Js(l.after,Va(mi(u,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(e,t){return Eb(mi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=mi(r,"beforeFooter",this,e),a=mi(r,"footer",this,e),l=mi(r,"afterFooter",this,e);let u=[];return u=Js(u,Va(i)),u=Js(u,Va(a)),u=Js(u,Va(l)),u}_createItems(e){const t=this._active,r=this.chart.data,i=[],a=[],l=[];let u=[],h,d;for(h=0,d=t.length;h<d;++h)u.push(rk(this.chart,t[h]));return e.filter&&(u=u.filter((m,x,v)=>e.filter(m,x,v,r))),e.itemSort&&(u=u.sort((m,x)=>e.itemSort(m,x,r))),tn(u,m=>{const x=Sb(e.callbacks,m);i.push(mi(x,"labelColor",this,m)),a.push(mi(x,"labelPointStyle",this,m)),l.push(mi(x,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=Kh[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=Tb(this,r),d=Object.assign({},u,h),m=bb(this.chart,r,d),x=wb(r,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const a=this.getCaretPosition(e,r,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:h,topRight:d,bottomLeft:m,bottomRight:x}=hu(u),{x:v,y:T}=e,{width:E,height:w}=t;let S,F,z,H,Y,te;return a==="center"?(Y=T+w/2,i==="left"?(S=v,F=S-l,H=Y+l,te=Y-l):(S=v+E,F=S+l,H=Y-l,te=Y+l),z=S):(i==="left"?F=v+Math.max(h,m)+l:i==="right"?F=v+E-Math.max(d,x)-l:F=this.caretX,a==="top"?(H=T,Y=H-l,S=F-l,z=F+l):(H=T+w,Y=H+l,S=F+l,z=F-l),te=H),{x1:S,x2:F,x3:z,y1:H,y2:Y,y3:te}}drawTitle(e,t,r){const i=this.title,a=i.length;let l,u,h;if(a){const d=fu(r.rtl,this.x,this.width);for(e.x=p0(this,r.titleAlign,r),t.textAlign=d.textAlign(r.titleAlign),t.textBaseline="middle",l=yi(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(i[h],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,i,a){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:h,boxWidth:d}=a,m=yi(a.bodyFont),x=p0(this,"left",a),v=i.x(x),T=h<m.lineHeight?(m.lineHeight-h)/2:0,E=t.y+T;if(a.usePointStyle){const w={radius:Math.min(d,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=i.leftForLtr(v,d)+d/2,F=E+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,BT(e,w,S,F),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,BT(e,w,S,F)}else{e.lineWidth=jt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const w=i.leftForLtr(v,d),S=i.leftForLtr(i.xPlus(v,1),d-2),F=hu(l.borderRadius);Object.values(F).some(z=>z!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,eg(e,{x:w,y:E,w:d,h,radius:F}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),eg(e,{x:S,y:E+1,w:d-2,h:h-2,radius:F}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(w,E,d,h),e.strokeRect(w,E,d,h),e.fillStyle=l.backgroundColor,e.fillRect(S,E+1,d-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:d,boxPadding:m}=r,x=yi(r.bodyFont);let v=x.lineHeight,T=0;const E=fu(r.rtl,this.x,this.width),w=function(I){t.fillText(I,E.x(e.x+T),e.y+v/2),e.y+=v+a},S=E.textAlign(l);let F,z,H,Y,te,he,D;for(t.textAlign=l,t.textBaseline="middle",t.font=x.string,e.x=p0(this,S,r),t.fillStyle=r.bodyColor,tn(this.beforeBody,w),T=u&&S!=="right"?l==="center"?d/2+m:d+2+m:0,Y=0,he=i.length;Y<he;++Y){for(F=i[Y],z=this.labelTextColors[Y],t.fillStyle=z,tn(F.before,w),H=F.lines,u&&H.length&&(this._drawColorBox(t,e,Y,E,r),v=Math.max(x.lineHeight,h)),te=0,D=H.length;te<D;++te)w(H[te]),v=x.lineHeight;tn(F.after,w)}T=0,v=x.lineHeight,tn(this.afterBody,w),e.y-=a}drawFooter(e,t,r){const i=this.footer,a=i.length;let l,u;if(a){const h=fu(r.rtl,this.x,this.width);for(e.x=p0(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=h.textAlign(r.footerAlign),t.textBaseline="middle",l=yi(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(i[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:d,height:m}=r,{topLeft:x,topRight:v,bottomLeft:T,bottomRight:E}=hu(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+x,h),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(u+d-v,h),t.quadraticCurveTo(u+d,h,u+d,h+v),l==="center"&&a==="right"&&this.drawCaret(e,t,r,i),t.lineTo(u+d,h+m-E),t.quadraticCurveTo(u+d,h+m,u+d-E,h+m),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(u+T,h+m),t.quadraticCurveTo(u,h+m,u,h+m-T),l==="center"&&a==="left"&&this.drawCaret(e,t,r,i),t.lineTo(u,h+x),t.quadraticCurveTo(u,h,u+x,h),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const l=Kh[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Tb(this,e),h=Object.assign({},l,this._size),d=bb(t,e,h),m=wb(e,h,d,t);(i._to!==m.x||a._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Fs(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,i,t),ES(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),SS(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:u,index:h})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[h],index:h}}),a=!X0(r,i),l=this._positionChanged(i,t);(a||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),u=this._positionChanged(l,e),h=t||!X0(l,a)||u;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,r,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:a}=this,l=Kh[a.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}ot(ex,"positioners",Kh);var uk={id:"tooltip",_element:ex,positioners:Kh,afterInit(n,e,t){t&&(n.tooltip=new ex({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:BS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hk=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function fk(n,e,t,r){const i=n.indexOf(e);if(i===-1)return hk(n,e,t,r);const a=n.lastIndexOf(e);return i!==a?t:i}const dk=(n,e)=>n===null?null:vi(Math.round(n),0,e);function Ab(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class tx extends Ou{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:a}of t)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(mn(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:fk(r,e,Vt(t,e),this._addedLabels),dk(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){return Ab.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ot(tx,"id","category"),ot(tx,"defaults",{ticks:{callback:Ab}});function gk(n,e){const t=[],{bounds:i,step:a,min:l,max:u,precision:h,count:d,maxTicks:m,maxDigits:x,includeBounds:v}=n,T=a||1,E=m-1,{min:w,max:S}=e,F=!mn(l),z=!mn(u),H=!mn(d),Y=(S-w)/(x+1);let te=DT((S-w)/E/T)*T,he,D,I,R;if(te<1e-14&&!F&&!z)return[{value:w},{value:S}];R=Math.ceil(S/te)-Math.floor(w/te),R>E&&(te=DT(R*te/E/T)*T),mn(h)||(he=Math.pow(10,h),te=Math.ceil(te*he)/he),i==="ticks"?(D=Math.floor(w/te)*te,I=Math.ceil(S/te)*te):(D=w,I=S),F&&z&&a&&f3((u-l)/a,te/1e3)?(R=Math.round(Math.min((u-l)/te,m)),te=(u-l)/R,D=l,I=u):H?(D=F?l:D,I=z?u:I,R=d-1,te=(I-D)/R):(R=(I-D)/te,k0(R,Math.round(R),te/1e3)?R=Math.round(R):R=Math.ceil(R));const L=Math.max(OT(te),OT(D));he=Math.pow(10,mn(h)?L:h),D=Math.round(D*he)/he,I=Math.round(I*he)/he;let V=0;for(F&&(v&&D!==l?(t.push({value:l}),D<l&&V++,k0(Math.round((D+V*te)*he)/he,l,Cb(l,Y,n))&&V++):D<l&&V++);V<R;++V){const B=Math.round((D+V*te)*he)/he;if(z&&B>u)break;t.push({value:B})}return z&&v&&I!==u?t.length&&k0(t[t.length-1].value,u,Cb(u,Y,n))?t[t.length-1].value=u:t.push({value:u}):(!z||I===u)&&t.push({value:I}),t}function Cb(n,e,{horizontal:t,minRotation:r}){const i=Ua(r),a=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class mk extends Ou{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return mn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const l=h=>i=t?i:h,u=h=>a=r?a:h;if(e){const h=qo(i),d=qo(a);h<0&&d<0?u(0):h>0&&d>0&&l(0)}if(i===a){let h=a===0?1:Math.abs(a*.05);u(a+h),e||l(i-h)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=gk(i,a);return e.bounds==="ticks"&&d3(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Bx(e,this.chart.options.locale,this.options.ticks.format)}}class nx extends mk{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ds(e)?e:0,this.max=ds(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Ua(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ot(nx,"id","linear"),ot(nx,"defaults",{ticks:{callback:pS.formatters.numeric}});const zg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xi=Object.keys(zg);function Rb(n,e){return n-e}function Nb(n,e){if(mn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),ds(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Q0(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,i)),+l)}function Ib(n,e,t,r){const i=xi.length;for(let a=xi.indexOf(n);a<i-1;++a){const l=zg[xi[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return xi[a]}return xi[i-1]}function pk(n,e,t,r,i){for(let a=xi.length-1;a>=xi.indexOf(t);a--){const l=xi[a];if(zg[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return xi[t?xi.indexOf(t):0]}function xk(n){for(let e=xi.indexOf(n)+1,t=xi.length;e<t;++e)if(zg[xi[e]].common)return xi[e]}function Db(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=jx(t,e),a=t[r]>=e?t[r]:t[i];n[a]=!0}}function _k(n,e,t,r){const i=n._adapter,a=+i.startOf(e[0].value,r),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+i.add(u,1,r))h=t[u],h>=0&&(e[h].major=!0);return e}function Ob(n,e,t){const r=[],i={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],i[u]=l,r.push({value:u,major:!1});return a===0||!t?r:_k(n,r,i,t)}class ig extends Ou{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new DD._date(e.adapters.date);i.init(t),tf(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Nb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!u&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=ds(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),a=ds(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,u=_3(i,a,l);return this._unit=t.unit||(r.autoSkip?Ib(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):pk(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:xk(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),Ob(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=vi(t,0,l),r=vi(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,a=i.time,l=a.unit||Ib(a.minUnit,t,r,this._getLabelCapacity(t)),u=Vt(i.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,d=Q0(h)||h===!0,m={};let x=t,v,T;if(d&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,d?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const E=i.ticks.source==="data"&&this.getDataTimestamps();for(v=x,T=0;v<r;v=+e.add(v,u,l),T++)Db(m,v,E);return(v===r||i.bounds==="ticks"||T===1)&&Db(m,v,E),Object.keys(m).sort(Rb).map(w=>+w)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,a=this._unit,l=t||i[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const a=this.options,l=a.ticks.callback;if(l)return yn(l,[e,t,r],this);const u=a.time.displayFormats,h=this._unit,d=this._majorUnit,m=h&&u[h],x=d&&u[d],v=r[t],T=d&&x&&v&&v.major;return this._adapter.format(e,i||(T?x:m))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Ua(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*l,h:r*l+u*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Ob(this,[e],this._majorUnit),i),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(Nb(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hS(e.sort(Rb))}}ot(ig,"id","time"),ot(ig,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function x0(n,e,t){let r=0,i=n.length-1,a,l,u,h;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Y1(n,"pos",e)),{pos:a,time:u}=n[r],{pos:l,time:h}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Y1(n,"time",e)),{time:a,pos:u}=n[r],{time:l,pos:h}=n[i]);const d=l-a;return d?u+(h-u)*(e-a)/d:u}class kb extends ig{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=x0(t,this.min),this._tableRange=x0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],a=[];let l,u,h,d,m;for(l=0,u=e.length;l<u;++l)d=e[l],d>=t&&d<=r&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=i.length;l<u;++l)m=i[l+1],h=i[l-1],d=i[l],Math.round((m+h)/2)!==d&&a.push({time:d,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(x0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return x0(this._table,r*this._tableRange+this._minPos,!0)}}ot(kb,"id","timeseries"),ot(kb,"defaults",ig.defaults);const US="label";function Mb(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function vk(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function zS(n,e){n.labels=e}function HS(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:US;const r=[];n.datasets=e.map(i=>{const a=n.datasets.find(l=>l[t]===i[t]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function yk(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:US;const t={labels:[],datasets:[]};return zS(t,n.labels),HS(t,n.datasets,e),t}function Tk(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:d=[],fallbackContent:m,updateMode:x,...v}=n,T=Ds.useRef(null),E=Ds.useRef(null),w=()=>{T.current&&(E.current=new Ug(T.current,{type:l,data:yk(u,a),options:h&&{...h},plugins:d}),Mb(e,E.current))},S=()=>{Mb(e,null),E.current&&(E.current.destroy(),E.current=null)};return Ds.useEffect(()=>{!i&&E.current&&h&&vk(E.current,h)},[i,h]),Ds.useEffect(()=>{!i&&E.current&&zS(E.current.config.data,u.labels)},[i,u.labels]),Ds.useEffect(()=>{!i&&E.current&&u.datasets&&HS(E.current.config.data,u.datasets,a)},[i,u.datasets]),Ds.useEffect(()=>{E.current&&(i?(S(),setTimeout(w)):E.current.update(x))},[i,h,u.labels,u.datasets,x]),Ds.useEffect(()=>{E.current&&(S(),setTimeout(w))},[l]),Ds.useEffect(()=>(w(),()=>S()),[]),$e.createElement("canvas",{ref:T,role:"img",height:t,width:r,...v},m)}const bk=Ds.forwardRef(Tk);function GS(n,e){return Ug.register(e),Ds.forwardRef((t,r)=>$e.createElement(bk,{...t,ref:r,type:n}))}const wk=GS("bar",M0),Pb=GS("pie",Q1);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var sg={};sg.version="0.18.5";var qS=1252,Ek=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],WS=function(n){Ek.indexOf(n)!=-1&&(qS=n)};function Sk(){WS(1252)}var Tf=function(n){WS(n)};function Ak(){Tf(1200),Sk()}var _0=function(e){return String.fromCharCode(e)},Lb=function(e){return String.fromCharCode(e)},ag,Uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bf(n){for(var e="",t=0,r=0,i=0,a=0,l=0,u=0,h=0,d=0;d<n.length;)t=n.charCodeAt(d++),a=t>>2,r=n.charCodeAt(d++),l=(t&3)<<4|r>>4,i=n.charCodeAt(d++),u=(r&15)<<2|i>>6,h=i&63,isNaN(r)?u=h=64:isNaN(i)&&(h=64),e+=Uo.charAt(a)+Uo.charAt(l)+Uo.charAt(u)+Uo.charAt(h);return e}function Xa(n){var e="",t=0,r=0,i=0,a=0,l=0,u=0,h=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<n.length;)a=Uo.indexOf(n.charAt(d++)),l=Uo.indexOf(n.charAt(d++)),t=a<<2|l>>4,e+=String.fromCharCode(t),u=Uo.indexOf(n.charAt(d++)),r=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(r)),h=Uo.indexOf(n.charAt(d++)),i=(u&3)<<6|h,h!==64&&(e+=String.fromCharCode(i));return e}var Gt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),eo=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function tc(n){return Gt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function Fb(n){return Gt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Os=function(e){return Gt?eo(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Hg(n){if(typeof ArrayBuffer>"u")return Os(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function jf(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function Ck(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var Pr=Gt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:eo(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Rk(n){for(var e=[],t=0,r=n.length+250,i=tc(n.length+255),a=0;a<n.length;++a){var l=n.charCodeAt(a);if(l<128)i[t++]=l;else if(l<2048)i[t++]=192|l>>6&31,i[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=n.charCodeAt(++a)&1023;i[t++]=240|l>>8&7,i[t++]=128|l>>2&63,i[t++]=128|u>>6&15|(l&3)<<4,i[t++]=128|u&63}else i[t++]=224|l>>12&15,i[t++]=128|l>>6&63,i[t++]=128|l&63;t>r&&(e.push(i.slice(0,t)),t=0,i=tc(65535),r=65530)}return e.push(i.slice(0,t)),Pr(e)}var sf=/\u0000/g,v0=/[\u0001-\u0006]/g;function gu(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function ks(n,e){var t=""+n;return t.length>=e?t:On("0",e-t.length)+t}function $x(n,e){var t=""+n;return t.length>=e?t:On(" ",e-t.length)+t}function og(n,e){var t=""+n;return t.length>=e?t:t+On(" ",e-t.length)}function Nk(n,e){var t=""+Math.round(n);return t.length>=e?t:On("0",e-t.length)+t}function Ik(n,e){var t=""+n;return t.length>=e?t:On("0",e-t.length)+t}var Vb=Math.pow(2,32);function eu(n,e){if(n>Vb||n<-Vb)return Nk(n,e);var t=Math.round(n);return Ik(t,e)}function lg(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var jb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],A1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Dk(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',n}var kn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},Bb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ok={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cg(n,e,t){for(var r=n<0?-1:1,i=n*r,a=0,l=1,u=0,h=1,d=0,m=0,x=Math.floor(i);d<e&&(x=Math.floor(i),u=x*l+a,m=x*d+h,!(i-x<5e-8));)i=1/(i-x),a=l,l=u,h=d,d=m;if(m>e&&(d>e?(m=h,u=a):(m=d,u=l)),!t)return[0,r*u,m];var v=Math.floor(r*u/m);return[v,r*u-v*m,m]}function y0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),a=0,l=[],u={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++r,++u.D)),r===60)l=t?[1317,10,29]:[1900,2,29],a=3;else if(r===0)l=t?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),l=[h.getFullYear(),h.getMonth()+1,h.getDate()],a=h.getDay(),r<60&&(a=(a+6)%7),t&&(a=jk(h,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=a,u}var KS=new Date(1899,11,31,0,0,0),kk=KS.getTime(),Mk=new Date(1900,2,1,0,0,0);function XS(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=Mk&&(t+=1440*60*1e3),(t-(kk+(n.getTimezoneOffset()-KS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Qx(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Pk(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Lk(n){var e=n<0?12:11,t=Qx(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function Fk(n){var e=Qx(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function Vk(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=Lk(n):e===10?t=n.toFixed(10).substr(0,12):t=Fk(n),Qx(Pk(t.toUpperCase()))}function rx(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):Vk(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return el(14,XS(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function jk(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function Bk(n,e,t,r){var i="",a=0,l=0,u=t.y,h,d=0;switch(n){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:h=u%100,d=2;break;default:h=u%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:h=t.m,d=e.length;break;case 3:return A1[t.m-1][1];case 5:return A1[t.m-1][0];default:return A1[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,d=e.length;break;case 3:return jb[t.q][0];default:return jb[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ks(t.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,a=Math.round(l*(t.S+t.u)),a>=60*l&&(a=0),e==="s"?a===0?"0":""+a/l:(i=ks(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:h=u,d=1;break}var m=d>0?ks(h,d):"";return m}function zo(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var YS=/%/g;function Uk(n,e,t){var r=e.replace(YS,""),i=e.length-r.length;return Ga(n,r,t*Math.pow(10,2*i))+On("%",i)}function zk(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ga(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function $S(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+$S(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+a):t+="E+"+(l-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,d,m){return h+d+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var QS=/# (\?+)( ?)\/( ?)(\d+)/;function Hk(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),a=Math.floor(i/r),l=i-a*r,u=r;return t+(a===0?"":""+a)+" "+(l===0?On(" ",n[1].length+1+n[4].length):$x(l,n[1].length)+n[2]+"/"+n[3]+ks(u,n[4].length))}function Gk(n,e,t){return t+(e===0?"":""+e)+On(" ",n[1].length+2+n[4].length)}var ZS=/^#*0*\.([0#]+)/,JS=/\).*[0#]/,eA=/\(###\) ###\\?-####/;function ri(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function Ub(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function zb(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function qk(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function Wk(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function cs(n,e,t){if(n.charCodeAt(0)===40&&!e.match(JS)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?cs("n",r,t):"("+cs("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return zk(n,e,t);if(e.indexOf("%")!==-1)return Uk(n,e,t);if(e.indexOf("E")!==-1)return $S(e,t);if(e.charCodeAt(0)===36)return"$"+cs(n,e.substr(e.charAt(1)==" "?2:1),t);var i,a,l,u,h=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+eu(h,e.length);if(e.match(/^[#?]+$/))return i=eu(t,0),i==="0"&&(i=""),i.length>e.length?i:ri(e.substr(0,e.length-i.length))+i;if(a=e.match(QS))return Hk(a,h,d);if(e.match(/^#+0+$/))return d+eu(h,e.length-e.indexOf("0"));if(a=e.match(ZS))return i=Ub(t,a[1].length).replace(/^([^\.]+)$/,"$1."+ri(a[1])).replace(/\.$/,"."+ri(a[1])).replace(/\.(\d*)$/,function(E,w){return"."+w+On("0",ri(a[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return d+Ub(h,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return d+zo(eu(h,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+cs(n,e,-t):zo(""+(Math.floor(t)+qk(t,a[1].length)))+"."+ks(zb(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return cs(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=gu(cs(n,e.replace(/[\\-]/g,""),t)),l=0,gu(gu(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return l<i.length?i.charAt(l++):E==="0"?"0":""}));if(e.match(eA))return i=cs(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=cg(h,Math.pow(10,l)-1,!1),i=""+d,m=Ga("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=og(u[2],l),m.length<a[4].length&&(m=ri(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=cg(h,Math.pow(10,l)-1,!0),d+(u[0]||(u[1]?"":"0"))+" "+(u[1]?$x(u[1],l)+a[2]+"/"+a[3]+og(u[2],l):On(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=eu(t,0),e.length<=i.length?i:ri(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var x=e.indexOf(".")-l,v=e.length-i.length-x;return ri(e.substr(0,x)+i+e.substr(e.length-v))}if(a=e.match(/^00,000\.([#0]*0)$/))return l=zb(t,a[1].length),t<0?"-"+cs(n,e,-t):zo(Wk(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?ks(0,3-E.length):"")+E})+"."+ks(l,a[1].length);switch(e){case"###,##0.00":return cs(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var T=zo(eu(h,0));return T!=="0"?d+T:"";case"###,###.00":return cs(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return cs(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Kk(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ga(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function Xk(n,e,t){var r=e.replace(YS,""),i=e.length-r.length;return Ga(n,r,t*Math.pow(10,2*i))+On("%",i)}function tA(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+tA(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+a):t+="E+"+(l-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,d,m){return h+d+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ea(n,e,t){if(n.charCodeAt(0)===40&&!e.match(JS)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ea("n",r,t):"("+ea("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Kk(n,e,t);if(e.indexOf("%")!==-1)return Xk(n,e,t);if(e.indexOf("E")!==-1)return tA(e,t);if(e.charCodeAt(0)===36)return"$"+ea(n,e.substr(e.charAt(1)==" "?2:1),t);var i,a,l,u,h=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+ks(h,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:ri(e.substr(0,e.length-i.length))+i;if(a=e.match(QS))return Gk(a,h,d);if(e.match(/^#+0+$/))return d+ks(h,e.length-e.indexOf("0"));if(a=e.match(ZS))return i=(""+t).replace(/^([^\.]+)$/,"$1."+ri(a[1])).replace(/\.$/,"."+ri(a[1])),i=i.replace(/\.(\d*)$/,function(E,w){return"."+w+On("0",ri(a[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return d+zo(""+h);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ea(n,e,-t):zo(""+t)+"."+On("0",a[1].length);if(a=e.match(/^#,#*,#0/))return ea(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=gu(ea(n,e.replace(/[\\-]/g,""),t)),l=0,gu(gu(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return l<i.length?i.charAt(l++):E==="0"?"0":""}));if(e.match(eA))return i=ea(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=cg(h,Math.pow(10,l)-1,!1),i=""+d,m=Ga("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=og(u[2],l),m.length<a[4].length&&(m=ri(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=cg(h,Math.pow(10,l)-1,!0),d+(u[0]||(u[1]?"":"0"))+" "+(u[1]?$x(u[1],l)+a[2]+"/"+a[3]+og(u[2],l):On(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:ri(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var x=e.indexOf(".")-l,v=e.length-i.length-x;return ri(e.substr(0,x)+i+e.substr(e.length-v))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ea(n,e,-t):zo(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?ks(0,3-E.length):"")+E})+"."+ks(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=zo(""+h);return T!=="0"?d+T:"";default:if(e.match(/\.[0#?]*$/))return ea(n,e.slice(0,e.lastIndexOf(".")),t)+ri(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ga(n,e,t){return(t|0)===t?ea(n,e,t):cs(n,e,t)}function Yk(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var nA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rA(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":lg(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(nA))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function $k(n,e,t,r){for(var i=[],a="",l=0,u="",h="t",d,m,x,v="H";l<n.length;)switch(u=n.charAt(l)){case"G":if(!lg(n,l))throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(x=n.charCodeAt(++l))!==34&&l<n.length;)a+=String.fromCharCode(x);i[i.length]={t:"t",v:a},++l;break;case"\\":var T=n.charAt(++l),E=T==="("||T===")"?T:"t";i[i.length]={t:E,v:T},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(n.charAt(l+1)==="1"||n.charAt(l+1)==="2"){if(d==null&&(d=y0(e,t,n.charAt(l+1)==="2"),d==null))return"";i[i.length]={t:"X",v:n.substr(l,2)},h=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=y0(e,t),d==null))return"";for(a=u;++l<n.length&&n.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&h.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=v),i[i.length]={t:u,v:a},h=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(d==null&&(d=y0(e,t)),n.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(w.v=d.H>=12?"P":"A"),w.t="T",v="h",l+=3):n.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(w.v=d.H>=12?"PM":"AM"),w.t="T",l+=5,v="h"):n.substr(l,5).toUpperCase()==="上午/下午"?(d!=null&&(w.v=d.H>=12?"下午":"上午"),w.t="T",l+=5,v="h"):(w.t="t",++l),d==null&&w.t==="T")return"";i[i.length]=w,h=u;break;case"[":for(a=u;n.charAt(l++)!=="]"&&l<n.length;)a+=n.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(nA)){if(d==null&&(d=y0(e,t),d==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},h=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",rA(n)||(i[i.length]={t:"t",v:a}));break;case".":if(d!=null){for(a=u;++l<n.length&&(u=n.charAt(l))==="0";)a+=u;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<n.length&&"0#?.,E+-%".indexOf(u=n.charAt(l))>-1;)a+=u;i[i.length]={t:"n",v:a};break;case"?":for(a=u;n.charAt(++l)===u;)a+=u;i[i.length]={t:u,v:a},h=u;break;case"*":++l,(n.charAt(l)==" "||n.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:r===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<n.length&&"0123456789".indexOf(n.charAt(++l))>-1;)a+=n.charAt(l);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:u,v:u},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"t",v:u},++l;break}var S=0,F=0,z;for(l=i.length-1,h="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=v,h="h",S<1&&(S=1);break;case"s":(z=i[l].v.match(/\.0+$/))&&(F=Math.max(F,z[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":h=i[l].t;break;case"m":h==="s"&&(i[l].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[l].v.match(/[Hh]/)&&(S=1),S<2&&i[l].v.match(/[Mm]/)&&(S=2),S<3&&i[l].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var H="",Y;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=Bk(i[l].t.charCodeAt(0),i[l].v,d,F),i[l].t="t";break;case"n":case"?":for(Y=l+1;i[Y]!=null&&((u=i[Y].t)==="?"||u==="D"||(u===" "||u==="t")&&i[Y+1]!=null&&(i[Y+1].t==="?"||i[Y+1].t==="t"&&i[Y+1].v==="/")||i[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[Y].v==="/"||i[Y].v===" "&&i[Y+1]!=null&&i[Y+1].t=="?"));)i[l].v+=i[Y].v,i[Y]={v:"",t:";"},++Y;H+=i[l].v,l=Y-1;break;case"G":i[l].t="t",i[l].v=rx(e,t);break}var te="",he,D;if(H.length>0){H.charCodeAt(0)==40?(he=e<0&&H.charCodeAt(0)===45?-e:e,D=Ga("n",H,he)):(he=e<0&&r>1?-e:e,D=Ga("n",H,he),he<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),Y=D.length-1;var I=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){I=l;break}var R=i.length;if(I===i.length&&D.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(Y>=i[l].v.length-1?(Y-=i[l].v.length,i[l].v=D.substr(Y+1,i[l].v.length)):Y<0?i[l].v="":(i[l].v=D.substr(0,Y+1),Y=-1),i[l].t="t",R=l);Y>=0&&R<i.length&&(i[R].v=D.substr(0,Y+1)+i[R].v)}else if(I!==i.length&&D.indexOf("E")===-1){for(Y=D.indexOf(".")-1,l=I;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(m=i[l].v.indexOf(".")>-1&&l===I?i[l].v.indexOf(".")-1:i[l].v.length-1,te=i[l].v.substr(m+1);m>=0;--m)Y>=0&&(i[l].v.charAt(m)==="0"||i[l].v.charAt(m)==="#")&&(te=D.charAt(Y--)+te);i[l].v=te,i[l].t="t",R=l}for(Y>=0&&R<i.length&&(i[R].v=D.substr(0,Y+1)+i[R].v),Y=D.indexOf(".")+1,l=I;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==I)){for(m=i[l].v.indexOf(".")>-1&&l===I?i[l].v.indexOf(".")+1:0,te=i[l].v.substr(0,m);m<i[l].v.length;++m)Y<D.length&&(te+=D.charAt(Y++));i[l].v=te,i[l].t="t",R=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(he=r>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=Ga(i[l].t,i[l].v,he),i[l].t="t");var L="";for(l=0;l!==i.length;++l)i[l]!=null&&(L+=i[l].v);return L}var Hb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Gb(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function Qk(n,e){var t=Yk(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(Hb),u=t[1].match(Hb);return Gb(e,l)?[r,t[0]]:Gb(e,u)?[r,t[1]]:[r,t[l!=null&&u!=null?2:1]]}return[r,a]}function el(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:kn)[n],r==null&&(r=t.table&&t.table[Bb[n]]||kn[Bb[n]]),r==null&&(r=Ok[n]||"General");break}if(lg(r,0))return rx(e,t);e instanceof Date&&(e=XS(e,t.date1904));var i=Qk(r,e);if(lg(i[1]))return rx(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return $k(i[1],e,t,i[0])}function iA(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(kn[t]==null){e<0&&(e=t);continue}if(kn[t]==n){e=t;break}}e<0&&(e=391)}return kn[e]=n,e}function Gg(n){for(var e=0;e!=392;++e)n[e]!==void 0&&iA(n[e],e)}function qg(){kn=Dk()}var sA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Zk(n){var e=typeof n=="number"?kn[n]:n;return e=e.replace(sA,"(\\d+)"),new RegExp("^"+e+"$")}function Jk(n,e,t){var r=-1,i=-1,a=-1,l=-1,u=-1,h=-1;(e.match(sA)||[]).forEach(function(x,v){var T=parseInt(t[v+1],10);switch(x.toLowerCase().charAt(0)){case"y":r=T;break;case"d":a=T;break;case"h":l=T;break;case"s":h=T;break;case"m":l>=0?u=T:i=T;break}}),h>=0&&u==-1&&i>=0&&(u=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return l==-1&&u==-1&&h==-1?d:r==-1&&i==-1&&a==-1?m:d+"T"+m}var eM=function(){var n={};n.version="1.2.0";function e(){for(var D=0,I=new Array(256),R=0;R!=256;++R)D=R,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,I[R]=D;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function r(D){var I=0,R=0,L=0,V=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)V[L]=D[L];for(L=0;L!=256;++L)for(R=D[L],I=256+L;I<4096;I+=256)R=V[I]=R>>>8^D[R&255];var B=[];for(L=1;L!=16;++L)B[L-1]=typeof Int32Array<"u"?V.subarray(L*256,L*256+256):V.slice(L*256,L*256+256);return B}var i=r(t),a=i[0],l=i[1],u=i[2],h=i[3],d=i[4],m=i[5],x=i[6],v=i[7],T=i[8],E=i[9],w=i[10],S=i[11],F=i[12],z=i[13],H=i[14];function Y(D,I){for(var R=I^-1,L=0,V=D.length;L<V;)R=R>>>8^t[(R^D.charCodeAt(L++))&255];return~R}function te(D,I){for(var R=I^-1,L=D.length-15,V=0;V<L;)R=H[D[V++]^R&255]^z[D[V++]^R>>8&255]^F[D[V++]^R>>16&255]^S[D[V++]^R>>>24]^w[D[V++]]^E[D[V++]]^T[D[V++]]^v[D[V++]]^x[D[V++]]^m[D[V++]]^d[D[V++]]^h[D[V++]]^u[D[V++]]^l[D[V++]]^a[D[V++]]^t[D[V++]];for(L+=15;V<L;)R=R>>>8^t[(R^D[V++])&255];return~R}function he(D,I){for(var R=I^-1,L=0,V=D.length,B=0,P=0;L<V;)B=D.charCodeAt(L++),B<128?R=R>>>8^t[(R^B)&255]:B<2048?(R=R>>>8^t[(R^(192|B>>6&31))&255],R=R>>>8^t[(R^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,P=D.charCodeAt(L++)&1023,R=R>>>8^t[(R^(240|B>>8&7))&255],R=R>>>8^t[(R^(128|B>>2&63))&255],R=R>>>8^t[(R^(128|P>>6&15|(B&3)<<4))&255],R=R>>>8^t[(R^(128|P&63))&255]):(R=R>>>8^t[(R^(224|B>>12&15))&255],R=R>>>8^t[(R^(128|B>>6&63))&255],R=R>>>8^t[(R^(128|B&63))&255]);return~R}return n.table=t,n.bstr=Y,n.buf=te,n.str=he,n}(),un=function(){var e={};e.version="1.2.1";function t(O,G){for(var j=O.split("/"),U=G.split("/"),q=0,W=0,ie=Math.min(j.length,U.length);q<ie;++q){if(W=j[q].length-U[q].length)return W;if(j[q]!=U[q])return j[q]<U[q]?-1:1}return j.length-U.length}function r(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:r(O.slice(0,-1));var G=O.lastIndexOf("/");return G===-1?O:O.slice(0,G+1)}function i(O){if(O.charAt(O.length-1)=="/")return i(O.slice(0,-1));var G=O.lastIndexOf("/");return G===-1?O:O.slice(G+1)}function a(O,G){typeof G=="string"&&(G=new Date(G));var j=G.getHours();j=j<<6|G.getMinutes(),j=j<<5|G.getSeconds()>>>1,O.write_shift(2,j);var U=G.getFullYear()-1980;U=U<<4|G.getMonth()+1,U=U<<5|G.getDate(),O.write_shift(2,U)}function l(O){var G=O.read_shift(2)&65535,j=O.read_shift(2)&65535,U=new Date,q=j&31;j>>>=5;var W=j&15;j>>>=4,U.setMilliseconds(0),U.setFullYear(j+1980),U.setMonth(W-1),U.setDate(q);var ie=G&31;G>>>=5;var ge=G&63;return G>>>=6,U.setHours(G),U.setMinutes(ge),U.setSeconds(ie<<1),U}function u(O){ji(O,0);for(var G={},j=0;O.l<=O.length-4;){var U=O.read_shift(2),q=O.read_shift(2),W=O.l+q,ie={};switch(U){case 21589:j=O.read_shift(1),j&1&&(ie.mtime=O.read_shift(4)),q>5&&(j&2&&(ie.atime=O.read_shift(4)),j&4&&(ie.ctime=O.read_shift(4))),ie.mtime&&(ie.mt=new Date(ie.mtime*1e3));break}O.l=W,G[U]=ie}return G}var h;function d(){return h||(h={})}function m(O,G){if(O[0]==80&&O[1]==75)return Ai(O,G);if((O[0]|32)==109&&(O[1]|32)==105)return ro(O,G);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var j=3,U=512,q=0,W=0,ie=0,ge=0,ne=0,le=[],ue=O.slice(0,512);ji(ue,0);var Se=x(ue);switch(j=Se[0],j){case 3:U=512;break;case 4:U=4096;break;case 0:if(Se[1]==0)return Ai(O,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+j)}U!==512&&(ue=O.slice(0,U),ji(ue,28));var Oe=O.slice(0,U);v(ue,j);var Be=ue.read_shift(4,"i");if(j===3&&Be!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Be);ue.l+=4,ie=ue.read_shift(4,"i"),ue.l+=4,ue.chk("00100000","Mini Stream Cutoff Size: "),ge=ue.read_shift(4,"i"),q=ue.read_shift(4,"i"),ne=ue.read_shift(4,"i"),W=ue.read_shift(4,"i");for(var Re=-1,Fe=0;Fe<109&&(Re=ue.read_shift(4,"i"),!(Re<0));++Fe)le[Fe]=Re;var et=T(O,U);S(ne,W,et,U,le);var St=z(et,ie,le,U);St[ie].name="!Directory",q>0&&ge!==P&&(St[ge].name="!MiniFAT"),St[le[0]].name="!FAT",St.fat_addrs=le,St.ssz=U;var vt={},Tt=[],lr=[],Yi=[];H(ie,St,et,Tt,q,vt,lr,ge),E(lr,Yi,Tt),Tt.shift();var Ar={FileIndex:lr,FullPaths:Yi};return G&&G.raw&&(Ar.raw={header:Oe,sectors:et}),Ar}function x(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(Qe,"Header Signature: "),O.l+=16;var G=O.read_shift(2,"u");return[O.read_shift(2,"u"),G]}function v(O,G){var j=9;switch(O.l+=2,j=O.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+j);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+j);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+j)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function T(O,G){for(var j=Math.ceil(O.length/G)-1,U=[],q=1;q<j;++q)U[q-1]=O.slice(q*G,(q+1)*G);return U[j-1]=O.slice(j*G),U}function E(O,G,j){for(var U=0,q=0,W=0,ie=0,ge=0,ne=j.length,le=[],ue=[];U<ne;++U)le[U]=ue[U]=U,G[U]=j[U];for(;ge<ue.length;++ge)U=ue[ge],q=O[U].L,W=O[U].R,ie=O[U].C,le[U]===U&&(q!==-1&&le[q]!==q&&(le[U]=le[q]),W!==-1&&le[W]!==W&&(le[U]=le[W])),ie!==-1&&(le[ie]=U),q!==-1&&U!=le[U]&&(le[q]=le[U],ue.lastIndexOf(q)<ge&&ue.push(q)),W!==-1&&U!=le[U]&&(le[W]=le[U],ue.lastIndexOf(W)<ge&&ue.push(W));for(U=1;U<ne;++U)le[U]===U&&(W!==-1&&le[W]!==W?le[U]=le[W]:q!==-1&&le[q]!==q&&(le[U]=le[q]));for(U=1;U<ne;++U)if(O[U].type!==0){if(ge=U,ge!=le[ge])do ge=le[ge],G[U]=G[ge]+"/"+G[U];while(ge!==0&&le[ge]!==-1&&ge!=le[ge]);le[U]=-1}for(G[0]+="/",U=1;U<ne;++U)O[U].type!==2&&(G[U]+="/")}function w(O,G,j){for(var U=O.start,q=O.size,W=[],ie=U;j&&q>0&&ie>=0;)W.push(G.slice(ie*B,ie*B+B)),q-=B,ie=Wl(j,ie*4);return W.length===0?_e(0):Pr(W).slice(0,O.size)}function S(O,G,j,U,q){var W=P;if(O===P){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var ie=j[O],ge=(U>>>2)-1;if(!ie)return;for(var ne=0;ne<ge&&(W=Wl(ie,ne*4))!==P;++ne)q.push(W);S(Wl(ie,U-4),G-1,j,U,q)}}function F(O,G,j,U,q){var W=[],ie=[];q||(q=[]);var ge=U-1,ne=0,le=0;for(ne=G;ne>=0;){q[ne]=!0,W[W.length]=ne,ie.push(O[ne]);var ue=j[Math.floor(ne*4/U)];if(le=ne*4&ge,U<4+le)throw new Error("FAT boundary crossed: "+ne+" 4 "+U);if(!O[ue])break;ne=Wl(O[ue],le)}return{nodes:W,data:Zb([ie])}}function z(O,G,j,U){var q=O.length,W=[],ie=[],ge=[],ne=[],le=U-1,ue=0,Se=0,Oe=0,Be=0;for(ue=0;ue<q;++ue)if(ge=[],Oe=ue+G,Oe>=q&&(Oe-=q),!ie[Oe]){ne=[];var Re=[];for(Se=Oe;Se>=0;){Re[Se]=!0,ie[Se]=!0,ge[ge.length]=Se,ne.push(O[Se]);var Fe=j[Math.floor(Se*4/U)];if(Be=Se*4&le,U<4+Be)throw new Error("FAT boundary crossed: "+Se+" 4 "+U);if(!O[Fe]||(Se=Wl(O[Fe],Be),Re[Se]))break}W[Oe]={nodes:ge,data:Zb([ne])}}return W}function H(O,G,j,U,q,W,ie,ge){for(var ne=0,le=U.length?2:0,ue=G[O].data,Se=0,Oe=0,Be;Se<ue.length;Se+=128){var Re=ue.slice(Se,Se+128);ji(Re,64),Oe=Re.read_shift(2),Be=n_(Re,0,Oe-le),U.push(Be);var Fe={name:Be,type:Re.read_shift(1),color:Re.read_shift(1),L:Re.read_shift(4,"i"),R:Re.read_shift(4,"i"),C:Re.read_shift(4,"i"),clsid:Re.read_shift(16),state:Re.read_shift(4,"i"),start:0,size:0},et=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);et!==0&&(Fe.ct=Y(Re,Re.l-8));var St=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);St!==0&&(Fe.mt=Y(Re,Re.l-8)),Fe.start=Re.read_shift(4,"i"),Fe.size=Re.read_shift(4,"i"),Fe.size<0&&Fe.start<0&&(Fe.size=Fe.type=0,Fe.start=P,Fe.name=""),Fe.type===5?(ne=Fe.start,q>0&&ne!==P&&(G[ne].name="!StreamData")):Fe.size>=4096?(Fe.storage="fat",G[Fe.start]===void 0&&(G[Fe.start]=F(j,Fe.start,G.fat_addrs,G.ssz)),G[Fe.start].name=Fe.name,Fe.content=G[Fe.start].data.slice(0,Fe.size)):(Fe.storage="minifat",Fe.size<0?Fe.size=0:ne!==P&&Fe.start!==P&&G[ne]&&(Fe.content=w(Fe,G[ne].data,(G[ge]||{}).data))),Fe.content&&ji(Fe.content,0),W[Be]=Fe,ie.push(Fe)}}function Y(O,G){return new Date((Ui(O,G+4)/1e7*Math.pow(2,32)+Ui(O,G)/1e7-11644473600)*1e3)}function te(O,G){return d(),m(h.readFileSync(O),G)}function he(O,G){var j=G&&G.type;switch(j||Gt&&Buffer.isBuffer(O)&&(j="buffer"),j||"base64"){case"file":return te(O,G);case"base64":return m(Os(Xa(O)),G);case"binary":return m(Os(O),G)}return m(O,G)}function D(O,G){var j=G||{},U=j.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=U+"/",O.FileIndex[0]={name:U,type:5}),j.CLSID&&(O.FileIndex[0].clsid=j.CLSID),I(O)}function I(O){var G="Sh33tJ5";if(!un.find(O,"/"+G)){var j=_e(4);j[0]=55,j[1]=j[3]=50,j[2]=54,O.FileIndex.push({name:G,type:2,content:j,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+G),R(O)}}function R(O,G){D(O);for(var j=!1,U=!1,q=O.FullPaths.length-1;q>=0;--q){var W=O.FileIndex[q];switch(W.type){case 0:U?j=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:U=!0,isNaN(W.R*W.L*W.C)&&(j=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(j=!0);break;default:j=!0;break}}if(!(!j&&!G)){var ie=new Date(1987,1,19),ge=0,ne=Object.create?Object.create(null):{},le=[];for(q=0;q<O.FullPaths.length;++q)ne[O.FullPaths[q]]=!0,O.FileIndex[q].type!==0&&le.push([O.FullPaths[q],O.FileIndex[q]]);for(q=0;q<le.length;++q){var ue=r(le[q][0]);U=ne[ue],U||(le.push([ue,{name:i(ue).replace("/",""),type:1,clsid:oe,ct:ie,mt:ie,content:null}]),ne[ue]=!0)}for(le.sort(function(Be,Re){return t(Be[0],Re[0])}),O.FullPaths=[],O.FileIndex=[],q=0;q<le.length;++q)O.FullPaths[q]=le[q][0],O.FileIndex[q]=le[q][1];for(q=0;q<le.length;++q){var Se=O.FileIndex[q],Oe=O.FullPaths[q];if(Se.name=i(Oe).replace("/",""),Se.L=Se.R=Se.C=-(Se.color=1),Se.size=Se.content?Se.content.length:0,Se.start=0,Se.clsid=Se.clsid||oe,q===0)Se.C=le.length>1?1:-1,Se.size=0,Se.type=5;else if(Oe.slice(-1)=="/"){for(ge=q+1;ge<le.length&&r(O.FullPaths[ge])!=Oe;++ge);for(Se.C=ge>=le.length?-1:ge,ge=q+1;ge<le.length&&r(O.FullPaths[ge])!=r(Oe);++ge);Se.R=ge>=le.length?-1:ge,Se.type=1}else r(O.FullPaths[q+1]||"")==r(Oe)&&(Se.R=q+1),Se.type=2}}}function L(O,G){var j=G||{};if(j.fileType=="mad")return Wt(O,j);switch(R(O),j.fileType){case"zip":return Ci(O,j)}var U=function(Be){for(var Re=0,Fe=0,et=0;et<Be.FileIndex.length;++et){var St=Be.FileIndex[et];if(St.content){var vt=St.content.length;vt>0&&(vt<4096?Re+=vt+63>>6:Fe+=vt+511>>9)}}for(var Tt=Be.FullPaths.length+3>>2,lr=Re+7>>3,Yi=Re+127>>7,Ar=lr+Fe+Tt+Yi,cr=Ar+127>>7,ur=cr<=109?0:Math.ceil((cr-109)/127);Ar+cr+ur+127>>7>cr;)ur=++cr<=109?0:Math.ceil((cr-109)/127);var hr=[1,ur,cr,Yi,Tt,Fe,Re,0];return Be.FileIndex[0].size=Re<<6,hr[7]=(Be.FileIndex[0].start=hr[0]+hr[1]+hr[2]+hr[3]+hr[4]+hr[5])+(hr[6]+7>>3),hr}(O),q=_e(U[7]<<9),W=0,ie=0;{for(W=0;W<8;++W)q.write_shift(1,Ie[W]);for(W=0;W<8;++W)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),W=0;W<3;++W)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,U[2]),q.write_shift(4,U[0]+U[1]+U[2]+U[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,U[3]?U[0]+U[1]+U[2]-1:P),q.write_shift(4,U[3]),q.write_shift(-4,U[1]?U[0]-1:P),q.write_shift(4,U[1]),W=0;W<109;++W)q.write_shift(-4,W<U[2]?U[1]+W:-1)}if(U[1])for(ie=0;ie<U[1];++ie){for(;W<236+ie*127;++W)q.write_shift(-4,W<U[2]?U[1]+W:-1);q.write_shift(-4,ie===U[1]-1?P:ie+1)}var ge=function(Be){for(ie+=Be;W<ie-1;++W)q.write_shift(-4,W+1);Be&&(++W,q.write_shift(-4,P))};for(ie=W=0,ie+=U[1];W<ie;++W)q.write_shift(-4,pe.DIFSECT);for(ie+=U[2];W<ie;++W)q.write_shift(-4,pe.FATSECT);ge(U[3]),ge(U[4]);for(var ne=0,le=0,ue=O.FileIndex[0];ne<O.FileIndex.length;++ne)ue=O.FileIndex[ne],ue.content&&(le=ue.content.length,!(le<4096)&&(ue.start=ie,ge(le+511>>9)));for(ge(U[6]+7>>3);q.l&511;)q.write_shift(-4,pe.ENDOFCHAIN);for(ie=W=0,ne=0;ne<O.FileIndex.length;++ne)ue=O.FileIndex[ne],ue.content&&(le=ue.content.length,!(!le||le>=4096)&&(ue.start=ie,ge(le+63>>6)));for(;q.l&511;)q.write_shift(-4,pe.ENDOFCHAIN);for(W=0;W<U[4]<<2;++W){var Se=O.FullPaths[W];if(!Se||Se.length===0){for(ne=0;ne<17;++ne)q.write_shift(4,0);for(ne=0;ne<3;++ne)q.write_shift(4,-1);for(ne=0;ne<12;++ne)q.write_shift(4,0);continue}ue=O.FileIndex[W],W===0&&(ue.start=ue.size?ue.start-1:P);var Oe=W===0&&j.root||ue.name;if(le=2*(Oe.length+1),q.write_shift(64,Oe,"utf16le"),q.write_shift(2,le),q.write_shift(1,ue.type),q.write_shift(1,ue.color),q.write_shift(-4,ue.L),q.write_shift(-4,ue.R),q.write_shift(-4,ue.C),ue.clsid)q.write_shift(16,ue.clsid,"hex");else for(ne=0;ne<4;++ne)q.write_shift(4,0);q.write_shift(4,ue.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,ue.start),q.write_shift(4,ue.size),q.write_shift(4,0)}for(W=1;W<O.FileIndex.length;++W)if(ue=O.FileIndex[W],ue.size>=4096)if(q.l=ue.start+1<<9,Gt&&Buffer.isBuffer(ue.content))ue.content.copy(q,q.l,0,ue.size),q.l+=ue.size+511&-512;else{for(ne=0;ne<ue.size;++ne)q.write_shift(1,ue.content[ne]);for(;ne&511;++ne)q.write_shift(1,0)}for(W=1;W<O.FileIndex.length;++W)if(ue=O.FileIndex[W],ue.size>0&&ue.size<4096)if(Gt&&Buffer.isBuffer(ue.content))ue.content.copy(q,q.l,0,ue.size),q.l+=ue.size+63&-64;else{for(ne=0;ne<ue.size;++ne)q.write_shift(1,ue.content[ne]);for(;ne&63;++ne)q.write_shift(1,0)}if(Gt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function V(O,G){var j=O.FullPaths.map(function(ne){return ne.toUpperCase()}),U=j.map(function(ne){var le=ne.split("/");return le[le.length-(ne.slice(-1)=="/"?2:1)]}),q=!1;G.charCodeAt(0)===47?(q=!0,G=j[0].slice(0,-1)+G):q=G.indexOf("/")!==-1;var W=G.toUpperCase(),ie=q===!0?j.indexOf(W):U.indexOf(W);if(ie!==-1)return O.FileIndex[ie];var ge=!W.match(v0);for(W=W.replace(sf,""),ge&&(W=W.replace(v0,"!")),ie=0;ie<j.length;++ie)if((ge?j[ie].replace(v0,"!"):j[ie]).replace(sf,"")==W||(ge?U[ie].replace(v0,"!"):U[ie]).replace(sf,"")==W)return O.FileIndex[ie];return null}var B=64,P=-2,Qe="d0cf11e0a1b11ae1",Ie=[208,207,17,224,161,177,26,225],oe="00000000000000000000000000000000",pe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:Qe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:oe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function je(O,G,j){d();var U=L(O,j);h.writeFileSync(G,U)}function qe(O){for(var G=new Array(O.length),j=0;j<O.length;++j)G[j]=String.fromCharCode(O[j]);return G.join("")}function st(O,G){var j=L(O,G);switch(G&&G.type||"buffer"){case"file":return d(),h.writeFileSync(G.filename,j),j;case"binary":return typeof j=="string"?j:qe(j);case"base64":return bf(typeof j=="string"?j:qe(j));case"buffer":if(Gt)return Buffer.isBuffer(j)?j:eo(j);case"array":return typeof j=="string"?Os(j):j}return j}var dt;function K(O){try{var G=O.InflateRaw,j=new G;if(j._processChunk(new Uint8Array([3,0]),j._finishFlushFlag),j.bytesRead)dt=O;else throw new Error("zlib does not expose bytesRead")}catch(U){console.error("cannot use native zlib: "+(U.message||U))}}function ee(O,G){if(!dt)return Ki(O,G);var j=dt.InflateRaw,U=new j,q=U._processChunk(O.slice(O.l),U._finishFlushFlag);return O.l+=U.bytesRead,q}function Z(O){return dt?dt.deflateRawSync(O):Zr(O)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ze=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ke(O){var G=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(G>>16|G>>8|G)&255}for(var Ue=typeof Uint8Array<"u",Me=Ue?new Uint8Array(256):[],xt=0;xt<256;++xt)Me[xt]=Ke(xt);function ht(O,G){var j=Me[O&255];return G<=8?j>>>8-G:(j=j<<8|Me[O>>8&255],G<=16?j>>>16-G:(j=j<<8|Me[O>>16&255],j>>>24-G))}function sn(O,G){var j=G&7,U=G>>>3;return(O[U]|(j<=6?0:O[U+1]<<8))>>>j&3}function Je(O,G){var j=G&7,U=G>>>3;return(O[U]|(j<=5?0:O[U+1]<<8))>>>j&7}function hn(O,G){var j=G&7,U=G>>>3;return(O[U]|(j<=4?0:O[U+1]<<8))>>>j&15}function Ot(O,G){var j=G&7,U=G>>>3;return(O[U]|(j<=3?0:O[U+1]<<8))>>>j&31}function Ve(O,G){var j=G&7,U=G>>>3;return(O[U]|(j<=1?0:O[U+1]<<8))>>>j&127}function qt(O,G,j){var U=G&7,q=G>>>3,W=(1<<j)-1,ie=O[q]>>>U;return j<8-U||(ie|=O[q+1]<<8-U,j<16-U)||(ie|=O[q+2]<<16-U,j<24-U)||(ie|=O[q+3]<<24-U),ie&W}function Bn(O,G,j){var U=G&7,q=G>>>3;return U<=5?O[q]|=(j&7)<<U:(O[q]|=j<<U&255,O[q+1]=(j&7)>>8-U),G+3}function br(O,G,j){var U=G&7,q=G>>>3;return j=(j&1)<<U,O[q]|=j,G+1}function or(O,G,j){var U=G&7,q=G>>>3;return j<<=U,O[q]|=j&255,j>>>=8,O[q+1]=j,G+8}function Gi(O,G,j){var U=G&7,q=G>>>3;return j<<=U,O[q]|=j&255,j>>>=8,O[q+1]=j&255,O[q+2]=j>>>8,G+16}function ai(O,G){var j=O.length,U=2*j>G?2*j:G+5,q=0;if(j>=G)return O;if(Gt){var W=Fb(U);if(O.copy)O.copy(W);else for(;q<O.length;++q)W[q]=O[q];return W}else if(Ue){var ie=new Uint8Array(U);if(ie.set)ie.set(O);else for(;q<j;++q)ie[q]=O[q];return ie}return O.length=U,O}function En(O){for(var G=new Array(O),j=0;j<O;++j)G[j]=0;return G}function Si(O,G,j){var U=1,q=0,W=0,ie=0,ge=0,ne=O.length,le=Ue?new Uint16Array(32):En(32);for(W=0;W<32;++W)le[W]=0;for(W=ne;W<j;++W)O[W]=0;ne=O.length;var ue=Ue?new Uint16Array(ne):En(ne);for(W=0;W<ne;++W)le[q=O[W]]++,U<q&&(U=q),ue[W]=0;for(le[0]=0,W=1;W<=U;++W)le[W+16]=ge=ge+le[W-1]<<1;for(W=0;W<ne;++W)ge=O[W],ge!=0&&(ue[W]=le[ge+16]++);var Se=0;for(W=0;W<ne;++W)if(Se=O[W],Se!=0)for(ge=ht(ue[W],U)>>U-Se,ie=(1<<U+4-Se)-1;ie>=0;--ie)G[ge|ie<<Se]=Se&15|W<<4;return U}var Bt=Ue?new Uint16Array(512):En(512),Et=Ue?new Uint16Array(32):En(32);if(!Ue){for(var fn=0;fn<512;++fn)Bt[fn]=0;for(fn=0;fn<32;++fn)Et[fn]=0}(function(){for(var O=[],G=0;G<32;G++)O.push(5);Si(O,Et,32);var j=[];for(G=0;G<=143;G++)j.push(8);for(;G<=255;G++)j.push(9);for(;G<=279;G++)j.push(7);for(;G<=287;G++)j.push(8);Si(j,Bt,288)})();var Mn=function(){for(var G=Ue?new Uint8Array(32768):[],j=0,U=0;j<ze.length-1;++j)for(;U<ze[j+1];++U)G[U]=j;for(;U<32768;++U)G[U]=29;var q=Ue?new Uint8Array(259):[];for(j=0,U=0;j<ve.length-1;++j)for(;U<ve[j+1];++U)q[U]=j;function W(ge,ne){for(var le=0;le<ge.length;){var ue=Math.min(65535,ge.length-le),Se=le+ue==ge.length;for(ne.write_shift(1,+Se),ne.write_shift(2,ue),ne.write_shift(2,~ue&65535);ue-- >0;)ne[ne.l++]=ge[le++]}return ne.l}function ie(ge,ne){for(var le=0,ue=0,Se=Ue?new Uint16Array(32768):[];ue<ge.length;){var Oe=Math.min(65535,ge.length-ue);if(Oe<10){for(le=Bn(ne,le,+(ue+Oe==ge.length)),le&7&&(le+=8-(le&7)),ne.l=le/8|0,ne.write_shift(2,Oe),ne.write_shift(2,~Oe&65535);Oe-- >0;)ne[ne.l++]=ge[ue++];le=ne.l*8;continue}le=Bn(ne,le,+(ue+Oe==ge.length)+2);for(var Be=0;Oe-- >0;){var Re=ge[ue];Be=(Be<<5^Re)&32767;var Fe=-1,et=0;if((Fe=Se[Be])&&(Fe|=ue&-32768,Fe>ue&&(Fe-=32768),Fe<ue))for(;ge[Fe+et]==ge[ue+et]&&et<250;)++et;if(et>2){Re=q[et],Re<=22?le=or(ne,le,Me[Re+1]>>1)-1:(or(ne,le,3),le+=5,or(ne,le,Me[Re-23]>>5),le+=3);var St=Re<8?0:Re-4>>2;St>0&&(Gi(ne,le,et-ve[Re]),le+=St),Re=G[ue-Fe],le=or(ne,le,Me[Re]>>3),le-=3;var vt=Re<4?0:Re-2>>1;vt>0&&(Gi(ne,le,ue-Fe-ze[Re]),le+=vt);for(var Tt=0;Tt<et;++Tt)Se[Be]=ue&32767,Be=(Be<<5^ge[ue])&32767,++ue;Oe-=et-1}else Re<=143?Re=Re+48:le=br(ne,le,1),le=or(ne,le,Me[Re]),Se[Be]=ue&32767,++ue}le=or(ne,le,0)-1}return ne.l=(le+7)/8|0,ne.l}return function(ne,le){return ne.length<8?W(ne,le):ie(ne,le)}}();function Zr(O){var G=_e(50+Math.floor(O.length*1.1)),j=Mn(O,G);return G.slice(0,j)}var no=Ue?new Uint16Array(32768):En(32768),wr=Ue?new Uint16Array(32768):En(32768),qi=Ue?new Uint16Array(128):En(128),oi=1,Ur=1;function Wi(O,G){var j=Ot(O,G)+257;G+=5;var U=Ot(O,G)+1;G+=5;var q=hn(O,G)+4;G+=4;for(var W=0,ie=Ue?new Uint8Array(19):En(19),ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=1,le=Ue?new Uint8Array(8):En(8),ue=Ue?new Uint8Array(8):En(8),Se=ie.length,Oe=0;Oe<q;++Oe)ie[Q[Oe]]=W=Je(O,G),ne<W&&(ne=W),le[W]++,G+=3;var Be=0;for(le[0]=0,Oe=1;Oe<=ne;++Oe)ue[Oe]=Be=Be+le[Oe-1]<<1;for(Oe=0;Oe<Se;++Oe)(Be=ie[Oe])!=0&&(ge[Oe]=ue[Be]++);var Re=0;for(Oe=0;Oe<Se;++Oe)if(Re=ie[Oe],Re!=0){Be=Me[ge[Oe]]>>8-Re;for(var Fe=(1<<7-Re)-1;Fe>=0;--Fe)qi[Be|Fe<<Re]=Re&7|Oe<<3}var et=[];for(ne=1;et.length<j+U;)switch(Be=qi[Ve(O,G)],G+=Be&7,Be>>>=3){case 16:for(W=3+sn(O,G),G+=2,Be=et[et.length-1];W-- >0;)et.push(Be);break;case 17:for(W=3+Je(O,G),G+=3;W-- >0;)et.push(0);break;case 18:for(W=11+Ve(O,G),G+=7;W-- >0;)et.push(0);break;default:et.push(Be),ne<Be&&(ne=Be);break}var St=et.slice(0,j),vt=et.slice(j);for(Oe=j;Oe<286;++Oe)St[Oe]=0;for(Oe=U;Oe<30;++Oe)vt[Oe]=0;return oi=Si(St,no,286),Ur=Si(vt,wr,30),G}function ms(O,G){if(O[0]==3&&!(O[1]&3))return[tc(G),2];for(var j=0,U=0,q=Fb(G||1<<18),W=0,ie=q.length>>>0,ge=0,ne=0;(U&1)==0;){if(U=Je(O,j),j+=3,U>>>1)U>>1==1?(ge=9,ne=5):(j=Wi(O,j),ge=oi,ne=Ur);else{j&7&&(j+=8-(j&7));var le=O[j>>>3]|O[(j>>>3)+1]<<8;if(j+=32,le>0)for(!G&&ie<W+le&&(q=ai(q,W+le),ie=q.length);le-- >0;)q[W++]=O[j>>>3],j+=8;continue}for(;;){!G&&ie<W+32767&&(q=ai(q,W+32767),ie=q.length);var ue=qt(O,j,ge),Se=U>>>1==1?Bt[ue]:no[ue];if(j+=Se&15,Se>>>=4,(Se>>>8&255)===0)q[W++]=Se;else{if(Se==256)break;Se-=257;var Oe=Se<8?0:Se-4>>2;Oe>5&&(Oe=0);var Be=W+ve[Se];Oe>0&&(Be+=qt(O,j,Oe),j+=Oe),ue=qt(O,j,ne),Se=U>>>1==1?Et[ue]:wr[ue],j+=Se&15,Se>>>=4;var Re=Se<4?0:Se-2>>1,Fe=ze[Se];for(Re>0&&(Fe+=qt(O,j,Re),j+=Re),!G&&ie<Be&&(q=ai(q,Be+100),ie=q.length);W<Be;)q[W]=q[W-Fe],++W}}}return G?[q,j+7>>>3]:[q.slice(0,W),j+7>>>3]}function Ki(O,G){var j=O.slice(O.l||0),U=ms(j,G);return O.l+=U[1],U[0]}function Bs(O,G){if(O)typeof console<"u"&&console.error(G);else throw new Error(G)}function Ai(O,G){var j=O;ji(j,0);var U=[],q=[],W={FileIndex:U,FullPaths:q};D(W,{root:G.root});for(var ie=j.length-4;(j[ie]!=80||j[ie+1]!=75||j[ie+2]!=5||j[ie+3]!=6)&&ie>=0;)--ie;j.l=ie+4,j.l+=4;var ge=j.read_shift(2);j.l+=6;var ne=j.read_shift(4);for(j.l=ne,ie=0;ie<ge;++ie){j.l+=20;var le=j.read_shift(4),ue=j.read_shift(4),Se=j.read_shift(2),Oe=j.read_shift(2),Be=j.read_shift(2);j.l+=8;var Re=j.read_shift(4),Fe=u(j.slice(j.l+Se,j.l+Se+Oe));j.l+=Se+Oe+Be;var et=j.l;j.l=Re+4,li(j,le,ue,W,Fe),j.l=et}return W}function li(O,G,j,U,q){O.l+=2;var W=O.read_shift(2),ie=O.read_shift(2),ge=l(O);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var ne=O.read_shift(4),le=O.read_shift(4),ue=O.read_shift(4),Se=O.read_shift(2),Oe=O.read_shift(2),Be="",Re=0;Re<Se;++Re)Be+=String.fromCharCode(O[O.l++]);if(Oe){var Fe=u(O.slice(O.l,O.l+Oe));(Fe[21589]||{}).mt&&(ge=Fe[21589].mt),((q||{})[21589]||{}).mt&&(ge=q[21589].mt)}O.l+=Oe;var et=O.slice(O.l,O.l+le);switch(ie){case 8:et=ee(O,ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ie)}var St=!1;W&8&&(ne=O.read_shift(4),ne==134695760&&(ne=O.read_shift(4),St=!0),le=O.read_shift(4),ue=O.read_shift(4)),le!=G&&Bs(St,"Bad compressed size: "+G+" != "+le),ue!=j&&Bs(St,"Bad uncompressed size: "+j+" != "+ue),pn(U,Be,et,{unsafe:!0,mt:ge})}function Ci(O,G){var j=G||{},U=[],q=[],W=_e(1),ie=j.compression?8:0,ge=0,ne=0,le=0,ue=0,Se=0,Oe=O.FullPaths[0],Be=Oe,Re=O.FileIndex[0],Fe=[],et=0;for(ne=1;ne<O.FullPaths.length;++ne)if(Be=O.FullPaths[ne].slice(Oe.length),Re=O.FileIndex[ne],!(!Re.size||!Re.content||Be=="Sh33tJ5")){var St=ue,vt=_e(Be.length);for(le=0;le<Be.length;++le)vt.write_shift(1,Be.charCodeAt(le)&127);vt=vt.slice(0,vt.l),Fe[Se]=eM.buf(Re.content,0);var Tt=Re.content;ie==8&&(Tt=Z(Tt)),W=_e(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,ge),W.write_shift(2,ie),Re.mt?a(W,Re.mt):W.write_shift(4,0),W.write_shift(-4,Fe[Se]),W.write_shift(4,Tt.length),W.write_shift(4,Re.content.length),W.write_shift(2,vt.length),W.write_shift(2,0),ue+=W.length,U.push(W),ue+=vt.length,U.push(vt),ue+=Tt.length,U.push(Tt),W=_e(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,ge),W.write_shift(2,ie),W.write_shift(4,0),W.write_shift(-4,Fe[Se]),W.write_shift(4,Tt.length),W.write_shift(4,Re.content.length),W.write_shift(2,vt.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,St),et+=W.l,q.push(W),et+=vt.length,q.push(vt),++Se}return W=_e(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,Se),W.write_shift(2,Se),W.write_shift(4,et),W.write_shift(4,ue),W.write_shift(2,0),Pr([Pr(U),Pr(q),W])}var Jr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Er(O,G){if(O.ctype)return O.ctype;var j=O.name||"",U=j.match(/\.([^\.]+)$/);return U&&Jr[U[1]]||G&&(U=(j=G).match(/[\.\\]([^\.\\])+$/),U&&Jr[U[1]])?Jr[U[1]]:"application/octet-stream"}function ps(O){for(var G=bf(O),j=[],U=0;U<G.length;U+=76)j.push(G.slice(U,U+76));return j.join(`\r
`)+`\r
`}function vn(O){var G=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(le){var ue=le.charCodeAt(0).toString(16).toUpperCase();return"="+(ue.length==1?"0"+ue:ue)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var j=[],U=G.split(`\r
`),q=0;q<U.length;++q){var W=U[q];if(W.length==0){j.push("");continue}for(var ie=0;ie<W.length;){var ge=76,ne=W.slice(ie,ie+ge);ne.charAt(ge-1)=="="?ge--:ne.charAt(ge-2)=="="?ge-=2:ne.charAt(ge-3)=="="&&(ge-=3),ne=W.slice(ie,ie+ge),ie+=ge,ie<W.length&&(ne+="="),j.push(ne)}}return j.join(`\r
`)}function Sr(O){for(var G=[],j=0;j<O.length;++j){for(var U=O[j];j<=O.length&&U.charAt(U.length-1)=="=";)U=U.slice(0,U.length-1)+O[++j];G.push(U)}for(var q=0;q<G.length;++q)G[q]=G[q].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return Os(G.join(`\r
`))}function zr(O,G,j){for(var U="",q="",W="",ie,ge=0;ge<10;++ge){var ne=G[ge];if(!ne||ne.match(/^\s*$/))break;var le=ne.match(/^(.*?):\s*([^\s].*)$/);if(le)switch(le[1].toLowerCase()){case"content-location":U=le[2].trim();break;case"content-type":W=le[2].trim();break;case"content-transfer-encoding":q=le[2].trim();break}}switch(++ge,q.toLowerCase()){case"base64":ie=Os(Xa(G.slice(ge).join("")));break;case"quoted-printable":ie=Sr(G.slice(ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var ue=pn(O,U.slice(j.length),ie,{unsafe:!0});W&&(ue.ctype=W)}function ro(O,G){if(qe(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var j=G&&G.root||"",U=(Gt&&Buffer.isBuffer(O)?O.toString("binary"):qe(O)).split(`\r
`),q=0,W="";for(q=0;q<U.length;++q)if(W=U[q],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),j||(j=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,j.length)!=j))for(;j.length>0&&(j=j.slice(0,j.length-1),j=j.slice(0,j.lastIndexOf("/")+1),W.slice(0,j.length)!=j););var ie=(U[1]||"").match(/boundary="(.*?)"/);if(!ie)throw new Error("MAD cannot find boundary");var ge="--"+(ie[1]||""),ne=[],le=[],ue={FileIndex:ne,FullPaths:le};D(ue);var Se,Oe=0;for(q=0;q<U.length;++q){var Be=U[q];Be!==ge&&Be!==ge+"--"||(Oe++&&zr(ue,U.slice(Se,q),j),Se=q)}return ue}function Wt(O,G){var j=G||{},U=j.boundary||"SheetJS";U="------="+U;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+U.slice(2)+'"',"","",""],W=O.FullPaths[0],ie=W,ge=O.FileIndex[0],ne=1;ne<O.FullPaths.length;++ne)if(ie=O.FullPaths[ne].slice(W.length),ge=O.FileIndex[ne],!(!ge.size||!ge.content||ie=="Sh33tJ5")){ie=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(et){return"_x"+et.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(et){return"_u"+et.charCodeAt(0).toString(16)+"_"});for(var le=ge.content,ue=Gt&&Buffer.isBuffer(le)?le.toString("binary"):qe(le),Se=0,Oe=Math.min(1024,ue.length),Be=0,Re=0;Re<=Oe;++Re)(Be=ue.charCodeAt(Re))>=32&&Be<128&&++Se;var Fe=Se>=Oe*4/5;q.push(U),q.push("Content-Location: "+(j.root||"file:///C:/SheetJS/")+ie),q.push("Content-Transfer-Encoding: "+(Fe?"quoted-printable":"base64")),q.push("Content-Type: "+Er(ge,ie)),q.push(""),q.push(Fe?vn(ue):ps(ue))}return q.push(U+`--\r
`),q.join(`\r
`)}function An(O){var G={};return D(G,O),G}function pn(O,G,j,U){var q=U&&U.unsafe;q||D(O);var W=!q&&un.find(O,G);if(!W){var ie=O.FullPaths[0];G.slice(0,ie.length)==ie?ie=G:(ie.slice(-1)!="/"&&(ie+="/"),ie=(ie+G).replace("//","/")),W={name:i(G),type:2},O.FileIndex.push(W),O.FullPaths.push(ie),q||un.utils.cfb_gc(O)}return W.content=j,W.size=j?j.length:0,U&&(U.CLSID&&(W.clsid=U.CLSID),U.mt&&(W.mt=U.mt),U.ct&&(W.ct=U.ct)),W}function Zn(O,G){D(O);var j=un.find(O,G);if(j){for(var U=0;U<O.FileIndex.length;++U)if(O.FileIndex[U]==j)return O.FileIndex.splice(U,1),O.FullPaths.splice(U,1),!0}return!1}function Xi(O,G,j){D(O);var U=un.find(O,G);if(U){for(var q=0;q<O.FileIndex.length;++q)if(O.FileIndex[q]==U)return O.FileIndex[q].name=i(j),O.FullPaths[q]=j,!0}return!1}function da(O){R(O,!0)}return e.find=V,e.read=he,e.parse=m,e.write=st,e.writeFile=je,e.utils={cfb_new:An,cfb_add:pn,cfb_del:Zn,cfb_mov:Xi,cfb_gc:da,ReadShift:of,CheckField:wA,prep_blob:ji,bconcat:Pr,use_zlib:K,_deflateRaw:Zr,_inflateRaw:Ki,consts:pe},e}();function tM(n){return typeof n=="string"?Hg(n):Array.isArray(n)?Ck(n):n}function Bf(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Hg(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?Ef(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([tM(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:n,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=n,l.href=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(n);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=jf(e)),u.write(e),u.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+n)}function jr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function qb(n,e){for(var t=[],r=jr(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function Zx(n){for(var e=[],t=jr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function Wg(n){for(var e=[],t=jr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function nM(n){for(var e=[],t=jr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var ug=new Date(1899,11,30,0,0,0);function wi(n,e){var t=n.getTime(),r=ug.getTime()+(n.getTimezoneOffset()-ug.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var aA=new Date,rM=ug.getTime()+(aA.getTimezoneOffset()-ug.getTimezoneOffset())*6e4,Wb=aA.getTimezoneOffset();function oA(n){var e=new Date;return e.setTime(n*24*60*60*1e3+rM),e.getTimezoneOffset()!==Wb&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Wb)*6e4),e}var Kb=new Date("2017-02-19T19:06:09.000Z"),lA=isNaN(Kb.getFullYear())?new Date("2/19/17"):Kb,iM=lA.getFullYear()==2017;function si(n,e){var t=new Date(n);if(iM)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(lA.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Kg(n,e){if(Gt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return t[a]||a})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function Ei(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Ei(n[t]));return e}function On(n,e){for(var t="";t.length<e;)t+=n;return t}function qa(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(r)))?e/t:e}var sM=["january","february","march","april","may","june","july","august","september","october","november","december"];function wf(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var l=n.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&sM.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||a>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function _t(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Gt?r=eo(t):r=Rk(t),un.utils.cfb_add(n,e,r)}un.utils.cfb_add(n,e,t)}else n.file(e,t)}function Jx(){return un.utils.cfb_new()}var Qn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,aM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},e_=Zx(aM),t_=/[&<>'"]/g,oM=/[\u0000-\u0008\u000b-\u001f]/g;function nn(n){var e=n+"";return e.replace(t_,function(t){return e_[t]}).replace(oM,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Xb(n){return nn(n).replace(/ /g,"_x0020_")}var cA=/[\u0000-\u001f]/g;function lM(n){var e=n+"";return e.replace(t_,function(t){return e_[t]}).replace(/\n/g,"<br/>").replace(cA,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function cM(n){var e=n+"";return e.replace(t_,function(t){return e_[t]}).replace(cA,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function uM(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function hM(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function C1(n){for(var e="",t=0,r=0,i=0,a=0,l=0,u=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){l=(r&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(a=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}l=n.charCodeAt(t++),u=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function Yb(n){var e=tc(2*n.length),t,r,i=1,a=0,l=0,u;for(r=0;r<n.length;r+=i)i=1,(u=n.charCodeAt(r))<128?t=u:u<224?(t=(u&31)*64+(n.charCodeAt(r+1)&63),i=2):u<240?(t=(u&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(u&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[a++]=l&255,e[a++]=l>>>8,l=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function $b(n){return eo(n,"binary").toString("utf8")}var T0="foo bar bazâð£",af=Gt&&($b(T0)==C1(T0)&&$b||Yb(T0)==C1(T0)&&Yb)||C1,Ef=Gt?function(n){return eo(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},fM=function(){var n=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),uA=/(^\s|\s$|\n)/;function Lr(n,e){return"<"+n+(e.match(uA)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Sf(n){return jr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function ke(n,e,t){return"<"+n+(t!=null?Sf(t):"")+(e!=null?(e.match(uA)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function ix(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function dM(n,e){switch(typeof n){case"string":var t=ke("vt:lpwstr",nn(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ke((n|0)==n?"vt:i4":"vt:r8",nn(String(n)));case"boolean":return ke("vt:bool",n?"true":"false")}if(n instanceof Date)return ke("vt:filetime",ix(n));throw new Error("Unable to serialize "+n)}var vr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ku=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Bi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function gM(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,a=5;a>=0;--a)i=i*256+n[e+a];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function mM(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,l=r?-e:e;isFinite(l)?l==0?i=a=0:(i=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var u=0;u<=5;++u,a/=256)n[t+u]=a&255;n[t+6]=(i&15)<<4|a&15,n[t+7]=i>>4|r}var Qb=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,a=n[0][r].length;i<a;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},Zb=Gt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:eo(e)})):Qb(n)}:Qb,Jb=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(Xh(n,i)));return r.join("").replace(sf,"")},n_=Gt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(sf,""):Jb(n,e,t)}:Jb,ew=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},hA=Gt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):ew(n,e,t)}:ew,tw=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(iu(n,i)));return r.join("")},Uf=Gt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):tw(e,t,r)}:tw,fA=function(n,e){var t=Ui(n,e);return t>0?Uf(n,e+4,e+4+t-1):""},dA=fA,gA=function(n,e){var t=Ui(n,e);return t>0?Uf(n,e+4,e+4+t-1):""},mA=gA,pA=function(n,e){var t=2*Ui(n,e);return t>0?Uf(n,e+4,e+4+t-1):""},xA=pA,_A=function(e,t){var r=Ui(e,t);return r>0?n_(e,t+4,t+4+r):""},vA=_A,yA=function(n,e){var t=Ui(n,e);return t>0?Uf(n,e+4,e+4+t):""},TA=yA,bA=function(n,e){return gM(n,e)},hg=bA,r_=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Gt&&(dA=function(e,t){if(!Buffer.isBuffer(e))return fA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},mA=function(e,t){if(!Buffer.isBuffer(e))return gA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},xA=function(e,t){if(!Buffer.isBuffer(e))return pA(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},vA=function(e,t){if(!Buffer.isBuffer(e))return _A(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},TA=function(e,t){if(!Buffer.isBuffer(e))return yA(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},hg=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):bA(e,t)},r_=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var iu=function(n,e){return n[e]},Xh=function(n,e){return n[e+1]*256+n[e]},pM=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},Ui=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Wl=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},xM=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function of(n,e){var t="",r,i,a=[],l,u,h,d;switch(e){case"dbcs":if(d=this.l,Gt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(h=0;h<n;++h)t+=String.fromCharCode(Xh(this,d)),d+=2;n*=2;break;case"utf8":t=Uf(this,this.l,this.l+n);break;case"utf16le":n*=2,t=n_(this,this.l,this.l+n);break;case"wstr":return of.call(this,n,"dbcs");case"lpstr-ansi":t=dA(this,this.l),n=4+Ui(this,this.l);break;case"lpstr-cp":t=mA(this,this.l),n=4+Ui(this,this.l);break;case"lpwstr":t=xA(this,this.l),n=4+2*Ui(this,this.l);break;case"lpp4":n=4+Ui(this,this.l),t=vA(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+Ui(this,this.l),t=TA(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(l=iu(this,this.l+n++))!==0;)a.push(_0(l));t=a.join("");break;case"_wstr":for(n=0,t="";(l=Xh(this,this.l+n))!==0;)a.push(_0(l)),n+=2;n+=2,t=a.join("");break;case"dbcs-cont":for(t="",d=this.l,h=0;h<n;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return l=iu(this,d),this.l=d+1,u=of.call(this,n-h,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(_0(Xh(this,d))),d+=2}t=a.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,h=0;h!=n;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return l=iu(this,d),this.l=d+1,u=of.call(this,n-h,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(_0(iu(this,d))),d+=1}t=a.join("");break;default:switch(n){case 1:return r=iu(this,this.l),this.l++,r;case 2:return r=(e==="i"?pM:Xh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Wl:xM)(this,this.l),this.l+=4,r):(i=Ui(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=hg(this,this.l):i=hg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=hA(this,this.l,n);break}}return this.l+=n,t}var _M=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},vM=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},yM=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function TM(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)yM(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,_M(this,e,this.l);break;case 8:if(r=8,t==="f"){mM(this,e,this.l);break}case 16:break;case-4:r=4,vM(this,e,this.l);break}return this.l+=r,this}function wA(n,e){var t=hA(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function ji(n,e){n.l=e,n.read_shift=of,n.chk=wA,n.write_shift=TM}function ha(n,e){n.l+=e}function _e(n){var e=tc(n);return ji(e,0),e}function Ti(){var n=[],e=Gt?256:2048,t=function(d){var m=_e(d);return ji(m,0),m},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},a=function(d){return r&&d<r.length-r.l?r:(i(),r=t(Math.max(d+1,e)))},l=function(){return i(),Pr(n)},u=function(d){i(),r=d,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:u,end:l,_bufs:n}}function Ae(n,e,t,r){var i=+e,a;if(!isNaN(i)){r||(r=gF[i].p||(t||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var l=n.next(a);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var u=0;u!=4;++u)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&r_(t)&&n.push(t)}}function lf(n,e,t){var r=Ei(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function nw(n,e,t){var r=Ei(n);return r.s=lf(r.s,e.s,t),r.e=lf(r.e,e.s,t),r}function cf(n,e){if(n.cRel&&n.c<0)for(n=Ei(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Ei(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=rn(n);return!n.cRel&&n.cRel!=null&&(t=EM(t)),!n.rRel&&n.rRel!=null&&(t=bM(t)),t}function R1(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Yr(n.s.c)+":"+(n.e.cRel?"":"$")+Yr(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Vr(n.s.r)+":"+(n.e.rRel?"":"$")+Vr(n.e.r):cf(n.s,e.biff)+":"+cf(n.e,e.biff)}function i_(n){return parseInt(wM(n),10)-1}function Vr(n){return""+(n+1)}function bM(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function wM(n){return n.replace(/\$(\d+)$/,"$1")}function s_(n){for(var e=SM(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Yr(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function EM(n){return n.replace(/^([A-Z])/,"$$$1")}function SM(n){return n.replace(/^\$([A-Z])/,"$1")}function AM(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function yr(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function rn(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Hi(n){var e=n.indexOf(":");return e==-1?{s:yr(n),e:yr(n)}:{s:yr(n.slice(0,e)),e:yr(n.slice(e+1))}}function Yn(n,e){return typeof e>"u"||typeof e=="number"?Yn(n.s,n.e):(typeof n!="string"&&(n=rn(n)),typeof e!="string"&&(e=rn(e)),n==e?n:n+":"+e)}function wn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,a=n.length;for(t=0;r<a&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<a&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=a&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=a&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function rw(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=el(n.z,t?wi(e):e)}catch{}try{return n.w=el((n.XF||{}).numFmtId||(t?14:0),t?wi(e):e)}catch{return""+e}}function Ya(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?zf[n.v]||n.v:e==null?rw(n,n.v):rw(n,e))}function uc(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function EA(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,a=n||(i?[]:{}),l=0,u=0;if(a&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var h=typeof r.origin=="string"?yr(r.origin):r.origin;l=h.r,u=h.c}a["!ref"]||(a["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var m=wn(a["!ref"]);d.s.c=m.s.c,d.s.r=m.s.r,d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(d.e.r=l=m.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[x].length;++v)if(!(typeof e[x][v]>"u")){var T={v:e[x][v]},E=l+x,w=u+v;if(d.s.r>E&&(d.s.r=E),d.s.c>w&&(d.s.c=w),d.e.r<E&&(d.e.r=E),d.e.c<w&&(d.e.c=w),e[x][v]&&typeof e[x][v]=="object"&&!Array.isArray(e[x][v])&&!(e[x][v]instanceof Date))T=e[x][v];else if(Array.isArray(T.v)&&(T.f=e[x][v][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(r.nullError)T.t="e",T.v=0;else if(r.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=r.dateNF||kn[14],r.cellDates?(T.t="d",T.w=el(T.z,wi(T.v))):(T.t="n",T.v=wi(T.v),T.w=el(T.z,T.v))):T.t="s";if(i)a[E]||(a[E]=[]),a[E][w]&&a[E][w].z&&(T.z=a[E][w].z),a[E][w]=T;else{var S=rn({c:w,r:E});a[S]&&a[S].z&&(T.z=a[S].z),a[S]=T}}}return d.s.c<1e7&&(a["!ref"]=Yn(d)),a}function Mu(n,e){return EA(null,n,e)}function CM(n){return n.read_shift(4,"i")}function Ps(n,e){return e||(e=_e(4)),e.write_shift(4,n),e}function $r(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Tr(n,e){var t=!1;return e==null&&(t=!0,e=_e(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function RM(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function NM(n,e){return e||(e=_e(4)),e.write_shift(2,0),e.write_shift(2,0),e}function a_(n,e){var t=n.l,r=n.read_shift(1),i=$r(n),a=[],l={t:i,h:i};if((r&1)!==0){for(var u=n.read_shift(4),h=0;h!=u;++h)a.push(RM(n));l.r=a}else l.r=[{ich:0,ifnt:0}];return n.l=t+e,l}function IM(n,e){var t=!1;return e==null&&(t=!0,e=_e(15+4*n.t.length)),e.write_shift(1,0),Tr(n.t,e),t?e.slice(0,e.l):e}var DM=a_;function OM(n,e){var t=!1;return e==null&&(t=!0,e=_e(23+4*n.t.length)),e.write_shift(1,1),Tr(n.t,e),e.write_shift(4,1),NM({},e),t?e.slice(0,e.l):e}function gs(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function hc(n,e){return e==null&&(e=_e(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function fc(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function dc(n,e){return e==null&&(e=_e(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var kM=$r,SA=Tr;function o_(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function fg(n,e){var t=!1;return e==null&&(t=!0,e=_e(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var MM=$r,sx=o_,l_=fg;function AA(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?hg([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Wl(e,0)>>2;return t?i/100:i}function CA(n,e){e==null&&(e=_e(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function RA(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function PM(n,e){return e||(e=_e(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var gc=RA,Pu=PM;function Lu(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function nc(n,e){return(e||_e(8)).write_shift(8,n,"f")}function LM(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),a=n.read_shift(2,"i"),l=n.read_shift(1),u=n.read_shift(1),h=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=qM[i];d&&(e.rgb=gw(d));break;case 2:e.rgb=gw([l,u,h]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function dg(n,e){if(e||(e=_e(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function FM(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function VM(n,e){e||(e=_e(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var NA=2,Vi=3,b0=11,gg=19,w0=64,jM=65,BM=71,UM=4108,zM=4126,kr=80,iw={1:{n:"CodePage",t:NA},2:{n:"Category",t:kr},3:{n:"PresentationFormat",t:kr},4:{n:"ByteCount",t:Vi},5:{n:"LineCount",t:Vi},6:{n:"ParagraphCount",t:Vi},7:{n:"SlideCount",t:Vi},8:{n:"NoteCount",t:Vi},9:{n:"HiddenCount",t:Vi},10:{n:"MultimediaClipCount",t:Vi},11:{n:"ScaleCrop",t:b0},12:{n:"HeadingPairs",t:UM},13:{n:"TitlesOfParts",t:zM},14:{n:"Manager",t:kr},15:{n:"Company",t:kr},16:{n:"LinksUpToDate",t:b0},17:{n:"CharacterCount",t:Vi},19:{n:"SharedDoc",t:b0},22:{n:"HyperlinksChanged",t:b0},23:{n:"AppVersion",t:Vi,p:"version"},24:{n:"DigSig",t:jM},26:{n:"ContentType",t:kr},27:{n:"ContentStatus",t:kr},28:{n:"Language",t:kr},29:{n:"Version",t:kr},255:{},2147483648:{n:"Locale",t:gg},2147483651:{n:"Behavior",t:gg},1919054434:{}},sw={1:{n:"CodePage",t:NA},2:{n:"Title",t:kr},3:{n:"Subject",t:kr},4:{n:"Author",t:kr},5:{n:"Keywords",t:kr},6:{n:"Comments",t:kr},7:{n:"Template",t:kr},8:{n:"LastAuthor",t:kr},9:{n:"RevNumber",t:kr},10:{n:"EditTime",t:w0},11:{n:"LastPrinted",t:w0},12:{n:"CreatedDate",t:w0},13:{n:"ModifiedDate",t:w0},14:{n:"PageCount",t:Vi},15:{n:"WordCount",t:Vi},16:{n:"CharCount",t:Vi},17:{n:"Thumbnail",t:BM},18:{n:"Application",t:kr},19:{n:"DocSecurity",t:Vi},255:{},2147483648:{n:"Locale",t:gg},2147483651:{n:"Behavior",t:gg},1919054434:{}};function HM(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var GM=HM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qM=Ei(GM),zf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},WM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},E0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function IA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function DA(n,e){var t=nM(WM),r=[],i;r[r.length]=Qn,r[r.length]=ke("Types",null,{xmlns:vr.CT,"xmlns:xsd":vr.xsd,"xmlns:xsi":vr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return ke("Default",null,{Extension:h[0],ContentType:h[1]})}));var a=function(h){n[h]&&n[h].length>0&&(i=n[h][0],r[r.length]=ke("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:E0[h][e.bookType]||E0[h].xlsx}))},l=function(h){(n[h]||[]).forEach(function(d){r[r.length]=ke("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:E0[h][e.bookType]||E0[h].xlsx})})},u=function(h){(n[h]||[]).forEach(function(d){r[r.length]=ke("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[h][0]})})};return a("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var zt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function OA(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function mu(n){var e=[Qn,ke("Relationships",null,{xmlns:vr.RELS})];return jr(n["!id"]).forEach(function(t){e[e.length]=ke("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function en(n,e,t,r,i,a){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[zt.HLINK,zt.XPATH,zt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function KM(n){var e=[Qn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function aw(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function XM(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function YM(n){var e=[Qn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(aw(n[t][0],n[t][1])),e.push(XM("",n[t][0]));return e.push(aw("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function kA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+sg.version+"</meta:generator></office:meta></office:document-meta>"}var $l=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function N1(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=nn(e),r[r.length]=t?ke(n,e,t):Lr(n,e))}function MA(n,e){var t=e||{},r=[Qn,ke("cp:coreProperties",null,{"xmlns:cp":vr.CORE_PROPS,"xmlns:dc":vr.dc,"xmlns:dcterms":vr.dcterms,"xmlns:dcmitype":vr.dcmitype,"xmlns:xsi":vr.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&N1("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:ix(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&N1("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:ix(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=$l.length;++a){var l=$l[a],u=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:n?n[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&N1(l[0],u,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var pu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function LA(n){var e=[],t=ke;return n||(n={}),n.Application="SheetJS",e[e.length]=Qn,e[e.length]=ke("Properties",null,{xmlns:vr.EXT_PROPS,"xmlns:vt":vr.vt}),pu.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=nn(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+nn(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function FA(n){var e=[Qn,ke("Properties",null,{xmlns:vr.CUST_PROPS,"xmlns:vt":vr.vt})];if(!n)return e.join("");var t=1;return jr(n).forEach(function(i){++t,e[e.length]=ke("property",dM(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:nn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var ow={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function $M(n,e){var t=[];return jr(ow).map(function(r){for(var i=0;i<$l.length;++i)if($l[i][1]==r)return $l[i];for(i=0;i<pu.length;++i)if(pu[i][1]==r)return pu[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Lr(ow[r[1]]||r[1],i))}}),ke("DocumentProperties",t.join(""),{xmlns:Bi.o})}function QM(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&jr(n).forEach(function(a){if(Object.prototype.hasOwnProperty.call(n,a)){for(var l=0;l<$l.length;++l)if(a==$l[l][1])return;for(l=0;l<pu.length;++l)if(a==pu[l][1])return;for(l=0;l<t.length;++l)if(a==t[l])return;var u=n[a],h="string";typeof u=="number"?(h="float",u=String(u)):u===!0||u===!1?(h="boolean",u=u?"1":"0"):u=String(u),i.push(ke(Xb(a),u,{"dt:dt":h}))}}),e&&jr(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(n&&Object.prototype.hasOwnProperty.call(n,a))){var l=e[a],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),i.push(ke(Xb(a),l,{"dt:dt":u}))}}),"<"+r+' xmlns="'+Bi.o+'">'+i.join("")+"</"+r+">"}function ZM(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var l=_e(8);return l.write_shift(4,r),l.write_shift(4,i),l}function lw(n,e){var t=_e(4),r=_e(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=_e(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=ZM(e);break;case 31:case 80:for(r=_e(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return Pr([t,r])}var VA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function JM(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function cw(n,e,t){var r=_e(8),i=[],a=[],l=8,u=0,h=_e(8),d=_e(8);if(h.write_shift(4,2),h.write_shift(4,1200),d.write_shift(4,1),a.push(h),i.push(d),l+=8+h.length,!e){d=_e(8),d.write_shift(4,0),i.unshift(d);var m=[_e(4)];for(m[0].write_shift(4,n.length),u=0;u<n.length;++u){var x=n[u][0];for(h=_e(8+2*(x.length+1)+(x.length%2?0:2)),h.write_shift(4,u+2),h.write_shift(4,x.length+1),h.write_shift(0,x,"dbcs");h.l!=h.length;)h.write_shift(1,0);m.push(h)}h=Pr(m),a.unshift(h),l+=8+h.length}for(u=0;u<n.length;++u)if(!(e&&!e[n[u][0]])&&!(VA.indexOf(n[u][0])>-1||PA.indexOf(n[u][0])>-1)&&n[u][1]!=null){var v=n[u][1],T=0;if(e){T=+e[n[u][0]];var E=t[T];if(E.p=="version"&&typeof v=="string"){var w=v.split(".");v=(+w[0]<<16)+(+w[1]||0)}h=lw(E.t,v)}else{var S=JM(v);S==-1&&(S=31,v=String(v)),h=lw(S,v)}a.push(h),d=_e(8),d.write_shift(4,e?T:2+u),i.push(d),l+=8+h.length}var F=8*(a.length+1);for(u=0;u<a.length;++u)i[u].write_shift(4,F),F+=a[u].length;return r.write_shift(4,l),r.write_shift(4,a.length),Pr([r].concat(i).concat(a))}function uw(n,e,t,r,i,a){var l=_e(i?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,un.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var h=cw(n,t,r);if(u.push(h),i){var d=cw(i,null,null);l.write_shift(16,a,"hex"),l.write_shift(4,68+h.length),u.push(d)}return Pr(u)}function e6(n,e){e||(e=_e(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function t6(n,e){return n.read_shift(e)===1}function ii(n,e){return e||(e=_e(2)),e.write_shift(2,+!!n),e}function jA(n){return n.read_shift(2,"u")}function us(n,e){return e||(e=_e(2)),e.write_shift(2,n),e}function BA(n,e,t){return t||(t=_e(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function UA(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=n.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var l=r?n.read_shift(r,i):"";return l}function n6(n){var e=n.t||"",t=_e(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=_e(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return Pr(i)}function r6(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function i6(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):r6(n,r,t)}function s6(n,e,t){if(t.biff>5)return i6(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function zA(n,e,t){return t||(t=_e(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function hw(n,e){e||(e=_e(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function a6(n){var e=_e(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(a==28)r=r.slice(1),hw(r,e);else if(a&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var u=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),a&8&&hw(i>-1?r.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var h=0;r.slice(h*3,h*3+3)=="../"||r.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,r.length-3*h+1),t=0;t<r.length-3*h;++t)e.write_shift(1,r.charCodeAt(t+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function rc(n,e,t,r){return r||(r=_e(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function o6(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),a=n.read_shift(r,"i"),l=n.read_shift(r,"i");return[i,a,l]}function l6(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function HA(n,e){return e||(e=_e(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function c_(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=_e(i);return a.write_shift(2,r),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function c6(n,e){var t=!e||e.biff==8,r=_e(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function u6(n,e){var t=!e||e.biff>=8?2:1,r=_e(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function h6(n,e){var t=_e(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=n6(n[i]);var a=Pr([t].concat(r));return a.parts=[t.length].concat(r.map(function(l){return l.length})),a}function f6(){var n=_e(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function d6(n){var e=_e(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function g6(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,a=_e(i);return a.write_shift(2,n.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,t.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),a}function m6(n,e,t,r){var i=_e(10);return rc(n,e,r,i),i.write_shift(4,t),i}function p6(n,e,t,r,i){var a=!i||i.biff==8,l=_e(8+ +a+(1+a)*t.length);return rc(n,e,r,l),l.write_shift(2,t.length),a&&l.write_shift(1,1),l.write_shift((1+a)*t.length,t,a?"utf16le":"sbcs"),l}function x6(n,e,t,r){var i=t&&t.biff==5;r||(r=_e(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function _6(n,e){var t=e.biff==8||!e.biff?4:2,r=_e(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function fw(n,e,t,r){var i=t&&t.biff==5;r||(r=_e(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var a=0;return n.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function v6(n){var e=_e(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function y6(n,e,t,r,i,a){var l=_e(8);return rc(n,e,r,l),BA(t,a,l),l}function T6(n,e,t,r){var i=_e(14);return rc(n,e,r,i),nc(t,i),i}function b6(n,e,t){if(t.biff<8)return w6(n,e,t);for(var r=[],i=n.l+e,a=n.read_shift(t.biff>8?4:2);a--!==0;)r.push(o6(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function w6(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=UA(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function E6(n){var e=_e(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)HA(n[t],e);return e}function S6(n){var e=_e(24),t=yr(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Pr([e,a6(n[1])])}function A6(n){var e=n[1].Tooltip,t=_e(10+2*(e.length+1));t.write_shift(2,2048);var r=yr(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function C6(n){return n||(n=_e(4)),n.write_shift(2,1),n.write_shift(2,1),n}function R6(n,e,t){if(!t.cellStyles)return ha(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),a=n.read_shift(r),l=n.read_shift(r),u=n.read_shift(r),h=n.read_shift(2);r==2&&(n.l+=2);var d={s:i,e:a,w:l,ixfe:u,flags:h};return(t.biff>=5||!t.biff)&&(d.level=h>>8&7),d}function N6(n,e){var t=_e(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function I6(n){for(var e=_e(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function D6(n,e,t){var r=_e(15);return Gf(r,n,e),r.write_shift(8,t,"f"),r}function O6(n,e,t){var r=_e(9);return Gf(r,n,e),r.write_shift(2,t),r}var k6=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Zx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,h){var d=[],m=tc(1);switch(h.type){case"base64":m=Os(Xa(u));break;case"binary":m=Os(u);break;case"buffer":case"array":m=u;break}ji(m,0);var x=m.read_shift(1),v=!!(x&136),T=!1,E=!1;switch(x){case 2:break;case 3:break;case 48:T=!0,v=!0;break;case 49:T=!0,v=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var w=0,S=521;x==2&&(w=m.read_shift(2)),m.l+=3,x!=2&&(w=m.read_shift(4)),w>1048576&&(w=1e6),x!=2&&(S=m.read_shift(2));var F=m.read_shift(2),z=h.codepage||1252;x!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(z=n[m[m.l]]),m.l+=1,m.l+=2),E&&(m.l+=36);for(var H=[],Y={},te=Math.min(m.length,x==2?521:S-10-(T?264:0)),he=E?32:11;m.l<te&&m[m.l]!=13;)switch(Y={},Y.name=ag.utils.decode(z,m.slice(m.l,m.l+he)).replace(/[\u0000\r\n].*$/g,""),m.l+=he,Y.type=String.fromCharCode(m.read_shift(1)),x!=2&&!E&&(Y.offset=m.read_shift(4)),Y.len=m.read_shift(1),x==2&&(Y.offset=m.read_shift(2)),Y.dec=m.read_shift(1),Y.name.length&&H.push(Y),x!=2&&(m.l+=E?13:14),Y.type){case"B":(!T||Y.len!=8)&&h.WTF&&console.log("Skipping "+Y.name+":"+Y.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+Y.name+":"+Y.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Y.type)}if(m[m.l]!==13&&(m.l=S-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=S;var D=0,I=0;for(d[0]=[],I=0;I!=H.length;++I)d[0][I]=H[I].name;for(;w-- >0;){if(m[m.l]===42){m.l+=F;continue}for(++m.l,d[++D]=[],I=0,I=0;I!=H.length;++I){var R=m.slice(m.l,m.l+H[I].len);m.l+=H[I].len,ji(R,0);var L=ag.utils.decode(z,R);switch(H[I].type){case"C":L.trim().length&&(d[D][I]=L.replace(/\s+$/,""));break;case"D":L.length===8?d[D][I]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):d[D][I]=L;break;case"F":d[D][I]=parseFloat(L.trim());break;case"+":case"I":d[D][I]=E?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":d[D][I]=!0;break;case"N":case"F":d[D][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));d[D][I]="##MEMO##"+(E?parseInt(L.trim(),10):R.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(d[D][I]=+L||0);break;case"@":d[D][I]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":d[D][I]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":d[D][I]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[D][I]=-R.read_shift(-8,"f");break;case"B":if(T&&H[I].len==8){d[D][I]=R.read_shift(8,"f");break}case"G":case"P":R.l+=H[I].len;break;case"0":if(H[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+H[I].type)}}}if(x!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=H,d}function r(u,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var m=Mu(t(u,d),d);return m["!cols"]=d.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete d.DBF,m}function i(u,h){try{return uc(r(u,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,h){var d=h||{};if(+d.codepage>=0&&Tf(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var m=Ti(),x=vg(u,{header:1,raw:!0,cellDates:!0}),v=x[0],T=x.slice(1),E=u["!cols"]||[],w=0,S=0,F=0,z=1;for(w=0;w<v.length;++w){if(((E[w]||{}).DBF||{}).name){v[w]=E[w].DBF.name,++F;continue}if(v[w]!=null){if(++F,typeof v[w]=="number"&&(v[w]=v[w].toString(10)),typeof v[w]!="string")throw new Error("DBF Invalid column name "+v[w]+" |"+typeof v[w]+"|");if(v.indexOf(v[w])!==w){for(S=0;S<1024;++S)if(v.indexOf(v[w]+"_"+S)==-1){v[w]+="_"+S;break}}}}var H=wn(u["!ref"]),Y=[],te=[],he=[];for(w=0;w<=H.e.c-H.s.c;++w){var D="",I="",R=0,L=[];for(S=0;S<T.length;++S)T[S][w]!=null&&L.push(T[S][w]);if(L.length==0||v[w]==null){Y[w]="?";continue}for(S=0;S<L.length;++S){switch(typeof L[S]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=L[S]instanceof Date?"D":"C";break;default:I="C"}R=Math.max(R,String(L[S]).length),D=D&&D!=I?"C":I}R>250&&(R=250),I=((E[w]||{}).DBF||{}).type,I=="C"&&E[w].DBF.len>R&&(R=E[w].DBF.len),D=="B"&&I=="N"&&(D="N",he[w]=E[w].DBF.dec,R=E[w].DBF.len),te[w]=D=="C"||I=="N"?R:a[D]||0,z+=te[w],Y[w]=D}var V=m.next(32);for(V.write_shift(4,318902576),V.write_shift(4,T.length),V.write_shift(2,296+32*F),V.write_shift(2,z),w=0;w<4;++w)V.write_shift(4,0);for(V.write_shift(4,0|(+e[qS]||3)<<8),w=0,S=0;w<v.length;++w)if(v[w]!=null){var B=m.next(32),P=(v[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,P,"sbcs"),B.write_shift(1,Y[w]=="?"?"C":Y[w],"sbcs"),B.write_shift(4,S),B.write_shift(1,te[w]||a[Y[w]]||0),B.write_shift(1,he[w]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),S+=te[w]||a[Y[w]]||0}var Qe=m.next(264);for(Qe.write_shift(4,13),w=0;w<65;++w)Qe.write_shift(4,0);for(w=0;w<T.length;++w){var Ie=m.next(z);for(Ie.write_shift(1,0),S=0;S<v.length;++S)if(v[S]!=null)switch(Y[S]){case"L":Ie.write_shift(1,T[w][S]==null?63:T[w][S]?84:70);break;case"B":Ie.write_shift(8,T[w][S]||0,"f");break;case"N":var oe="0";for(typeof T[w][S]=="number"&&(oe=T[w][S].toFixed(he[S]||0)),F=0;F<te[S]-oe.length;++F)Ie.write_shift(1,32);Ie.write_shift(1,oe,"sbcs");break;case"D":T[w][S]?(Ie.write_shift(4,("0000"+T[w][S].getFullYear()).slice(-4),"sbcs"),Ie.write_shift(2,("00"+(T[w][S].getMonth()+1)).slice(-2),"sbcs"),Ie.write_shift(2,("00"+T[w][S].getDate()).slice(-2),"sbcs")):Ie.write_shift(8,"00000000","sbcs");break;case"C":var pe=String(T[w][S]!=null?T[w][S]:"").slice(0,te[S]);for(Ie.write_shift(1,pe,"sbcs"),F=0;F<te[S]-pe.length;++F)Ie.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:r,from_sheet:l}}(),M6=function(){var n={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+jr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(v,T){var E=n[T];return typeof E=="number"?Lb(E):E},r=function(v,T,E){var w=T.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return w==59?v:Lb(w)};n["|"]=254;function i(v,T){switch(T.type){case"base64":return a(Xa(v),T);case"binary":return a(v,T);case"buffer":return a(Gt&&Buffer.isBuffer(v)?v.toString("binary"):jf(v),T);case"array":return a(Kg(v),T)}throw new Error("Unrecognized type "+T.type)}function a(v,T){var E=v.split(/[\n\r]+/),w=-1,S=-1,F=0,z=0,H=[],Y=[],te=null,he={},D=[],I=[],R=[],L=0,V;for(+T.codepage>=0&&Tf(+T.codepage);F!==E.length;++F){L=0;var B=E[F].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),P=B.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),Qe=P[0],Ie;if(B.length>0)switch(Qe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&Y.push(B.slice(3).replace(/;;/g,";"));break;case"C":var oe=!1,pe=!1,je=!1,qe=!1,st=-1,dt=-1;for(z=1;z<P.length;++z)switch(P[z].charAt(0)){case"A":break;case"X":S=parseInt(P[z].slice(1))-1,pe=!0;break;case"Y":for(w=parseInt(P[z].slice(1))-1,pe||(S=0),V=H.length;V<=w;++V)H[V]=[];break;case"K":Ie=P[z].slice(1),Ie.charAt(0)==='"'?Ie=Ie.slice(1,Ie.length-1):Ie==="TRUE"?Ie=!0:Ie==="FALSE"?Ie=!1:isNaN(qa(Ie))?isNaN(wf(Ie).getDate())||(Ie=si(Ie)):(Ie=qa(Ie),te!==null&&rA(te)&&(Ie=oA(Ie))),oe=!0;break;case"E":qe=!0;var K=O5(P[z].slice(1),{r:w,c:S});H[w][S]=[H[w][S],K];break;case"S":je=!0,H[w][S]=[H[w][S],"S5S"];break;case"G":break;case"R":st=parseInt(P[z].slice(1))-1;break;case"C":dt=parseInt(P[z].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+B)}if(oe&&(H[w][S]&&H[w][S].length==2?H[w][S][0]=Ie:H[w][S]=Ie,te=null),je){if(qe)throw new Error("SYLK shared formula cannot have own formula");var ee=st>-1&&H[st][dt];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");H[w][S][1]=k5(ee[1],{r:w-st,c:S-dt})}break;case"F":var Z=0;for(z=1;z<P.length;++z)switch(P[z].charAt(0)){case"X":S=parseInt(P[z].slice(1))-1,++Z;break;case"Y":for(w=parseInt(P[z].slice(1))-1,V=H.length;V<=w;++V)H[V]=[];break;case"M":L=parseInt(P[z].slice(1))/20;break;case"F":break;case"G":break;case"P":te=Y[parseInt(P[z].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=P[z].slice(1).split(" "),V=parseInt(R[0],10);V<=parseInt(R[1],10);++V)L=parseInt(R[2],10),I[V-1]=L===0?{hidden:!0}:{wch:L},u_(I[V-1]);break;case"C":S=parseInt(P[z].slice(1))-1,I[S]||(I[S]={});break;case"R":w=parseInt(P[z].slice(1))-1,D[w]||(D[w]={}),L>0?(D[w].hpt=L,D[w].hpx=XA(L)):L===0&&(D[w].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+B)}Z<1&&(te=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+B)}}return D.length>0&&(he["!rows"]=D),I.length>0&&(he["!cols"]=I),T&&T.sheetRows&&(H=H.slice(0,T.sheetRows)),[H,he]}function l(v,T){var E=i(v,T),w=E[0],S=E[1],F=Mu(w,T);return jr(S).forEach(function(z){F[z]=S[z]}),F}function u(v,T){return uc(l(v,T),T)}function h(v,T,E,w){var S="C;Y"+(E+1)+";X"+(w+1)+";K";switch(v.t){case"n":S+=v.v||0,v.f&&!v.F&&(S+=";E"+f_(v.f,{r:E,c:w}));break;case"b":S+=v.v?"TRUE":"FALSE";break;case"e":S+=v.w||v.v;break;case"d":S+='"'+(v.w||v.v)+'"';break;case"s":S+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function d(v,T){T.forEach(function(E,w){var S="F;W"+(w+1)+" "+(w+1)+" ";E.hidden?S+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=mg(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=pg(E.wpx)),typeof E.wch=="number"&&(S+=Math.round(E.wch))),S.charAt(S.length-1)!=" "&&v.push(S)})}function m(v,T){T.forEach(function(E,w){var S="F;";E.hidden?S+="M0;":E.hpt?S+="M"+20*E.hpt+";":E.hpx&&(S+="M"+20*xg(E.hpx)+";"),S.length>2&&v.push(S+"R"+(w+1))})}function x(v,T){var E=["ID;PWXL;N;E"],w=[],S=wn(v["!ref"]),F,z=Array.isArray(v),H=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),v["!cols"]&&d(E,v["!cols"]),v["!rows"]&&m(E,v["!rows"]),E.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var Y=S.s.r;Y<=S.e.r;++Y)for(var te=S.s.c;te<=S.e.c;++te){var he=rn({r:Y,c:te});F=z?(v[Y]||[])[te]:v[he],!(!F||F.v==null&&(!F.f||F.F))&&w.push(h(F,v,Y,te))}return E.join(H)+H+w.join(H)+H+"E"+H}return{to_workbook:u,to_sheet:l,from_sheet:x}}(),P6=function(){function n(a,l){switch(l.type){case"base64":return e(Xa(a),l);case"binary":return e(a,l);case"buffer":return e(Gt&&Buffer.isBuffer(a)?a.toString("binary"):jf(a),l);case"array":return e(Kg(a),l)}throw new Error("Unrecognized type "+l.type)}function e(a,l){for(var u=a.split(`
`),h=-1,d=-1,m=0,x=[];m!==u.length;++m){if(u[m].trim()==="BOT"){x[++h]=[],d=0;continue}if(!(h<0)){var v=u[m].trim().split(","),T=v[0],E=v[1];++m;for(var w=u[m]||"";(w.match(/["]/g)||[]).length&1&&m<u.length-1;)w+=`
`+u[++m];switch(w=w.trim(),+T){case-1:if(w==="BOT"){x[++h]=[],d=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?x[h][d]=!0:w==="FALSE"?x[h][d]=!1:isNaN(qa(E))?isNaN(wf(E).getDate())?x[h][d]=E:x[h][d]=si(E):x[h][d]=qa(E),++d;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),x[h][d++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function t(a,l){return Mu(n(a,l),l)}function r(a,l){return uc(t(a,l),l)}var i=function(){var a=function(h,d,m,x,v){h.push(d),h.push(m+","+x),h.push('"'+v.replace(/"/g,'""')+'"')},l=function(h,d,m,x){h.push(d+","+m),h.push(d==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(h){var d=[],m=wn(h["!ref"]),x,v=Array.isArray(h);a(d,"TABLE",0,1,"sheetjs"),a(d,"VECTORS",0,m.e.r-m.s.r+1,""),a(d,"TUPLES",0,m.e.c-m.s.c+1,""),a(d,"DATA",0,0,"");for(var T=m.s.r;T<=m.e.r;++T){l(d,-1,0,"BOT");for(var E=m.s.c;E<=m.e.c;++E){var w=rn({r:T,c:E});if(x=v?(h[T]||[])[E]:h[w],!x){l(d,1,0,"");continue}switch(x.t){case"n":var S=x.w;!S&&x.v!=null&&(S=x.v),S==null?x.f&&!x.F?l(d,1,0,"="+x.f):l(d,1,0,""):l(d,0,S,"V");break;case"b":l(d,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=el(x.z||kn[14],wi(si(x.v)))),l(d,0,x.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var F=`\r
`,z=d.join(F);return z}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),GA=function(){function n(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(x,v){for(var T=x.split(`
`),E=-1,w=-1,S=0,F=[];S!==T.length;++S){var z=T[S].trim().split(":");if(z[0]==="cell"){var H=yr(z[1]);if(F.length<=H.r)for(E=F.length;E<=H.r;++E)F[E]||(F[E]=[]);switch(E=H.r,w=H.c,z[2]){case"t":F[E][w]=n(z[3]);break;case"v":F[E][w]=+z[3];break;case"vtf":var Y=z[z.length-1];case"vtc":switch(z[3]){case"nl":F[E][w]=!!+z[4];break;default:F[E][w]=+z[4];break}z[2]=="vtf"&&(F[E][w]=[F[E][w],Y])}}}return v&&v.sheetRows&&(F=F.slice(0,v.sheetRows)),F}function r(x,v){return Mu(t(x,v),v)}function i(x,v){return uc(r(x,v),v)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(x){if(!x||!x["!ref"])return"";for(var v=[],T=[],E,w="",S=Hi(x["!ref"]),F=Array.isArray(x),z=S.s.r;z<=S.e.r;++z)for(var H=S.s.c;H<=S.e.c;++H)if(w=rn({r:z,c:H}),E=F?(x[z]||[])[H]:x[w],!(!E||E.v==null||E.t==="z")){switch(T=["cell",w,"t"],E.t){case"s":case"str":T.push(e(E.v));break;case"n":E.f?(T[2]="vtf",T[3]="n",T[4]=E.v,T[5]=e(E.f)):(T[2]="v",T[3]=E.v);break;case"b":T[2]="vt"+(E.f?"f":"c"),T[3]="nl",T[4]=E.v?"1":"0",T[5]=e(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var Y=wi(si(E.v));T[2]="vtc",T[3]="nd",T[4]=""+Y,T[5]=E.w||el(E.z||kn[14],Y);break;case"e":continue}v.push(T.join(":"))}return v.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function m(x){return[a,l,u,l,d(x),h].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:m}}(),L6=function(){function n(m,x,v,T,E){E.raw?x[v][T]=m:m===""||(m==="TRUE"?x[v][T]=!0:m==="FALSE"?x[v][T]=!1:isNaN(qa(m))?isNaN(wf(m).getDate())?x[v][T]=m:x[v][T]=si(m):x[v][T]=qa(m))}function e(m,x){var v=x||{},T=[];if(!m||m.length===0)return T;for(var E=m.split(/[\r\n]/),w=E.length-1;w>=0&&E[w].length===0;)--w;for(var S=10,F=0,z=0;z<=w;++z)F=E[z].indexOf(" "),F==-1?F=E[z].length:F++,S=Math.max(S,F);for(z=0;z<=w;++z){T[z]=[];var H=0;for(n(E[z].slice(0,S).trim(),T,z,H,v),H=1;H<=(E[z].length-S)/10+1;++H)n(E[z].slice(S+(H-1)*10,S+H*10).trim(),T,z,H,v)}return v.sheetRows&&(T=T.slice(0,v.sheetRows)),T}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(m){for(var x={},v=!1,T=0,E=0;T<m.length;++T)(E=m.charCodeAt(T))==34?v=!v:!v&&E in t&&(x[E]=(x[E]||0)+1);E=[];for(T in x)Object.prototype.hasOwnProperty.call(x,T)&&E.push([x[T],T]);if(!E.length){x=r;for(T in x)Object.prototype.hasOwnProperty.call(x,T)&&E.push([x[T],T])}return E.sort(function(w,S){return w[0]-S[0]||r[w[1]]-r[S[1]]}),t[E.pop()[1]]||44}function a(m,x){var v=x||{},T="",E=v.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(T=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(T=m.charAt(4),m=m.slice(6)):T=i(m.slice(0,1024)):v&&v.FS?T=v.FS:T=i(m.slice(0,1024));var S=0,F=0,z=0,H=0,Y=0,te=T.charCodeAt(0),he=!1,D=0,I=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var R=v.dateNF!=null?Zk(v.dateNF):null;function L(){var V=m.slice(H,Y),B={};if(V.charAt(0)=='"'&&V.charAt(V.length-1)=='"'&&(V=V.slice(1,-1).replace(/""/g,'"')),V.length===0)B.t="z";else if(v.raw)B.t="s",B.v=V;else if(V.trim().length===0)B.t="s",B.v=V;else if(V.charCodeAt(0)==61)V.charCodeAt(1)==34&&V.charCodeAt(V.length-1)==34?(B.t="s",B.v=V.slice(2,-1).replace(/""/g,'"')):M5(V)?(B.t="n",B.f=V.slice(1)):(B.t="s",B.v=V);else if(V=="TRUE")B.t="b",B.v=!0;else if(V=="FALSE")B.t="b",B.v=!1;else if(!isNaN(z=qa(V)))B.t="n",v.cellText!==!1&&(B.w=V),B.v=z;else if(!isNaN(wf(V).getDate())||R&&V.match(R)){B.z=v.dateNF||kn[14];var P=0;R&&V.match(R)&&(V=Jk(V,v.dateNF,V.match(R)||[]),P=1),v.cellDates?(B.t="d",B.v=si(V,P)):(B.t="n",B.v=wi(si(V,P))),v.cellText!==!1&&(B.w=el(B.z,B.v instanceof Date?wi(B.v):B.v)),v.cellNF||delete B.z}else B.t="s",B.v=V;if(B.t=="z"||(v.dense?(E[S]||(E[S]=[]),E[S][F]=B):E[rn({c:F,r:S})]=B),H=Y+1,I=m.charCodeAt(H),w.e.c<F&&(w.e.c=F),w.e.r<S&&(w.e.r=S),D==te)++F;else if(F=0,++S,v.sheetRows&&v.sheetRows<=S)return!0}e:for(;Y<m.length;++Y)switch(D=m.charCodeAt(Y)){case 34:I===34&&(he=!he);break;case te:case 10:case 13:if(!he&&L())break e;break}return Y-H>0&&L(),E["!ref"]=Yn(w),E}function l(m,x){return!(x&&x.PRN)||x.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?a(m,x):Mu(e(m,x),x)}function u(m,x){var v="",T=x.type=="string"?[0,0,0,0]:XF(m,x);switch(x.type){case"base64":v=Xa(m);break;case"binary":v=m;break;case"buffer":x.codepage==65001?v=m.toString("utf8"):x.codepage&&typeof ag<"u"||(v=Gt&&Buffer.isBuffer(m)?m.toString("binary"):jf(m));break;case"array":v=Kg(m);break;case"string":v=m;break;default:throw new Error("Unrecognized type "+x.type)}return T[0]==239&&T[1]==187&&T[2]==191?v=af(v.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?v=af(v):x.type=="binary"&&typeof ag<"u",v.slice(0,19)=="socialcalc:version:"?GA.to_sheet(x.type=="string"?v:af(v),x):l(v,x)}function h(m,x){return uc(u(m,x),x)}function d(m){for(var x=[],v=wn(m["!ref"]),T,E=Array.isArray(m),w=v.s.r;w<=v.e.r;++w){for(var S=[],F=v.s.c;F<=v.e.c;++F){var z=rn({r:w,c:F});if(T=E?(m[w]||[])[F]:m[z],!T||T.v==null){S.push("          ");continue}for(var H=(T.w||(Ya(T),T.w)||"").slice(0,10);H.length<10;)H+=" ";S.push(H+(F===0?" ":""))}x.push(S.join(""))}return x.join(`
`)}return{to_workbook:h,to_sheet:u,from_sheet:d}}(),dw=function(){function n(K,ee,Z){if(K){ji(K,K.l||0);for(var Q=Z.Enum||st;K.l<K.length;){var ve=K.read_shift(2),ze=Q[ve]||Q[65535],Ke=K.read_shift(2),Ue=K.l+Ke,Me=ze.f&&ze.f(K,Ke,Z);if(K.l=Ue,ee(Me,ze,ve))return}}}function e(K,ee){switch(ee.type){case"base64":return t(Os(Xa(K)),ee);case"binary":return t(Os(K),ee);case"buffer":case"array":return t(K,ee)}throw"Unsupported type "+ee.type}function t(K,ee){if(!K)return K;var Z=ee||{},Q=Z.dense?[]:{},ve="Sheet1",ze="",Ke=0,Ue={},Me=[],xt=[],ht={s:{r:0,c:0},e:{r:0,c:0}},sn=Z.sheetRows||0;if(K[2]==0&&(K[3]==8||K[3]==9)&&K.length>=16&&K[14]==5&&K[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(K[2]==2)Z.Enum=st,n(K,function(Ve,qt,Bn){switch(Bn){case 0:Z.vers=Ve,Ve>=4096&&(Z.qpro=!0);break;case 6:ht=Ve;break;case 204:Ve&&(ze=Ve);break;case 222:ze=Ve;break;case 15:case 51:Z.qpro||(Ve[1].v=Ve[1].v.slice(1));case 13:case 14:case 16:Bn==14&&(Ve[2]&112)==112&&(Ve[2]&15)>1&&(Ve[2]&15)<15&&(Ve[1].z=Z.dateNF||kn[14],Z.cellDates&&(Ve[1].t="d",Ve[1].v=oA(Ve[1].v))),Z.qpro&&Ve[3]>Ke&&(Q["!ref"]=Yn(ht),Ue[ve]=Q,Me.push(ve),Q=Z.dense?[]:{},ht={s:{r:0,c:0},e:{r:0,c:0}},Ke=Ve[3],ve=ze||"Sheet"+(Ke+1),ze="");var br=Z.dense?(Q[Ve[0].r]||[])[Ve[0].c]:Q[rn(Ve[0])];if(br){br.t=Ve[1].t,br.v=Ve[1].v,Ve[1].z!=null&&(br.z=Ve[1].z),Ve[1].f!=null&&(br.f=Ve[1].f);break}Z.dense?(Q[Ve[0].r]||(Q[Ve[0].r]=[]),Q[Ve[0].r][Ve[0].c]=Ve[1]):Q[rn(Ve[0])]=Ve[1];break}},Z);else if(K[2]==26||K[2]==14)Z.Enum=dt,K[2]==14&&(Z.qpro=!0,K.l=0),n(K,function(Ve,qt,Bn){switch(Bn){case 204:ve=Ve;break;case 22:Ve[1].v=Ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ve[3]>Ke&&(Q["!ref"]=Yn(ht),Ue[ve]=Q,Me.push(ve),Q=Z.dense?[]:{},ht={s:{r:0,c:0},e:{r:0,c:0}},Ke=Ve[3],ve="Sheet"+(Ke+1)),sn>0&&Ve[0].r>=sn)break;Z.dense?(Q[Ve[0].r]||(Q[Ve[0].r]=[]),Q[Ve[0].r][Ve[0].c]=Ve[1]):Q[rn(Ve[0])]=Ve[1],ht.e.c<Ve[0].c&&(ht.e.c=Ve[0].c),ht.e.r<Ve[0].r&&(ht.e.r=Ve[0].r);break;case 27:Ve[14e3]&&(xt[Ve[14e3][0]]=Ve[14e3][1]);break;case 1537:xt[Ve[0]]=Ve[1],Ve[0]==Ke&&(ve=Ve[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+K[2]);if(Q["!ref"]=Yn(ht),Ue[ze||ve]=Q,Me.push(ze||ve),!xt.length)return{SheetNames:Me,Sheets:Ue};for(var Je={},hn=[],Ot=0;Ot<xt.length;++Ot)Ue[Me[Ot]]?(hn.push(xt[Ot]||Me[Ot]),Je[xt[Ot]]=Ue[xt[Ot]]||Ue[Me[Ot]]):(hn.push(xt[Ot]),Je[xt[Ot]]={"!ref":"A1"});return{SheetNames:hn,Sheets:Je}}function r(K,ee){var Z=ee||{};if(+Z.codepage>=0&&Tf(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Ti(),ve=wn(K["!ref"]),ze=Array.isArray(K),Ke=[];Le(Q,0,a(1030)),Le(Q,6,h(ve));for(var Ue=Math.min(ve.e.r,8191),Me=ve.s.r;Me<=Ue;++Me)for(var xt=Vr(Me),ht=ve.s.c;ht<=ve.e.c;++ht){Me===ve.s.r&&(Ke[ht]=Yr(ht));var sn=Ke[ht]+xt,Je=ze?(K[Me]||[])[ht]:K[sn];if(!(!Je||Je.t=="z"))if(Je.t=="n")(Je.v|0)==Je.v&&Je.v>=-32768&&Je.v<=32767?Le(Q,13,T(Me,ht,Je.v)):Le(Q,14,w(Me,ht,Je.v));else{var hn=Ya(Je);Le(Q,15,x(Me,ht,hn.slice(0,239)))}}return Le(Q,1),Q.end()}function i(K,ee){var Z=ee||{};if(+Z.codepage>=0&&Tf(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Ti();Le(Q,0,l(K));for(var ve=0,ze=0;ve<K.SheetNames.length;++ve)(K.Sheets[K.SheetNames[ve]]||{})["!ref"]&&Le(Q,27,qe(K.SheetNames[ve],ze++));var Ke=0;for(ve=0;ve<K.SheetNames.length;++ve){var Ue=K.Sheets[K.SheetNames[ve]];if(!(!Ue||!Ue["!ref"])){for(var Me=wn(Ue["!ref"]),xt=Array.isArray(Ue),ht=[],sn=Math.min(Me.e.r,8191),Je=Me.s.r;Je<=sn;++Je)for(var hn=Vr(Je),Ot=Me.s.c;Ot<=Me.e.c;++Ot){Je===Me.s.r&&(ht[Ot]=Yr(Ot));var Ve=ht[Ot]+hn,qt=xt?(Ue[Je]||[])[Ot]:Ue[Ve];if(!(!qt||qt.t=="z"))if(qt.t=="n")Le(Q,23,L(Je,Ot,Ke,qt.v));else{var Bn=Ya(qt);Le(Q,22,D(Je,Ot,Ke,Bn.slice(0,239)))}}++Ke}}return Le(Q,1),Q.end()}function a(K){var ee=_e(2);return ee.write_shift(2,K),ee}function l(K){var ee=_e(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var Z=0,Q=0,ve=0,ze=0;ze<K.SheetNames.length;++ze){var Ke=K.SheetNames[ze],Ue=K.Sheets[Ke];if(!(!Ue||!Ue["!ref"])){++ve;var Me=Hi(Ue["!ref"]);Z<Me.e.r&&(Z=Me.e.r),Q<Me.e.c&&(Q=Me.e.c)}}return Z>8191&&(Z=8191),ee.write_shift(2,Z),ee.write_shift(1,ve),ee.write_shift(1,Q),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function u(K,ee,Z){var Q={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&Z.qpro?(Q.s.c=K.read_shift(1),K.l++,Q.s.r=K.read_shift(2),Q.e.c=K.read_shift(1),K.l++,Q.e.r=K.read_shift(2),Q):(Q.s.c=K.read_shift(2),Q.s.r=K.read_shift(2),ee==12&&Z.qpro&&(K.l+=2),Q.e.c=K.read_shift(2),Q.e.r=K.read_shift(2),ee==12&&Z.qpro&&(K.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function h(K){var ee=_e(8);return ee.write_shift(2,K.s.c),ee.write_shift(2,K.s.r),ee.write_shift(2,K.e.c),ee.write_shift(2,K.e.r),ee}function d(K,ee,Z){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(Q[0].c=K.read_shift(1),Q[3]=K.read_shift(1),Q[0].r=K.read_shift(2),K.l+=2):(Q[2]=K.read_shift(1),Q[0].c=K.read_shift(2),Q[0].r=K.read_shift(2)),Q}function m(K,ee,Z){var Q=K.l+ee,ve=d(K,ee,Z);if(ve[1].t="s",Z.vers==20768){K.l++;var ze=K.read_shift(1);return ve[1].v=K.read_shift(ze,"utf8"),ve}return Z.qpro&&K.l++,ve[1].v=K.read_shift(Q-K.l,"cstr"),ve}function x(K,ee,Z){var Q=_e(7+Z.length);Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,K),Q.write_shift(1,39);for(var ve=0;ve<Q.length;++ve){var ze=Z.charCodeAt(ve);Q.write_shift(1,ze>=128?95:ze)}return Q.write_shift(1,0),Q}function v(K,ee,Z){var Q=d(K,ee,Z);return Q[1].v=K.read_shift(2,"i"),Q}function T(K,ee,Z){var Q=_e(7);return Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,K),Q.write_shift(2,Z,"i"),Q}function E(K,ee,Z){var Q=d(K,ee,Z);return Q[1].v=K.read_shift(8,"f"),Q}function w(K,ee,Z){var Q=_e(13);return Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,K),Q.write_shift(8,Z,"f"),Q}function S(K,ee,Z){var Q=K.l+ee,ve=d(K,ee,Z);if(ve[1].v=K.read_shift(8,"f"),Z.qpro)K.l=Q;else{var ze=K.read_shift(2);Y(K.slice(K.l,K.l+ze),ve),K.l+=ze}return ve}function F(K,ee,Z){var Q=ee&32768;return ee&=-32769,ee=(Q?K:0)+(ee>=8192?ee-16384:ee),(Q?"":"$")+(Z?Yr(ee):Vr(ee))}var z={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},H=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Y(K,ee){ji(K,0);for(var Z=[],Q=0,ve="",ze="",Ke="",Ue="";K.l<K.length;){var Me=K[K.l++];switch(Me){case 0:Z.push(K.read_shift(8,"f"));break;case 1:ze=F(ee[0].c,K.read_shift(2),!0),ve=F(ee[0].r,K.read_shift(2),!1),Z.push(ze+ve);break;case 2:{var xt=F(ee[0].c,K.read_shift(2),!0),ht=F(ee[0].r,K.read_shift(2),!1);ze=F(ee[0].c,K.read_shift(2),!0),ve=F(ee[0].r,K.read_shift(2),!1),Z.push(xt+ht+":"+ze+ve)}break;case 3:if(K.l<K.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(K.read_shift(2));break;case 6:{for(var sn="";Me=K[K.l++];)sn+=String.fromCharCode(Me);Z.push('"'+sn.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:Ue=Z.pop(),Ke=Z.pop(),Z.push(["AND","OR"][Me-20]+"("+Ke+","+Ue+")");break;default:if(Me<32&&H[Me])Ue=Z.pop(),Ke=Z.pop(),Z.push(Ke+H[Me]+Ue);else if(z[Me]){if(Q=z[Me][1],Q==69&&(Q=K[K.l++]),Q>Z.length){console.error("WK1 bad formula parse 0x"+Me.toString(16)+":|"+Z.join("|")+"|");return}var Je=Z.slice(-Q);Z.length-=Q,Z.push(z[Me][0]+"("+Je.join(",")+")")}else return Me<=7?console.error("WK1 invalid opcode "+Me.toString(16)):Me<=24?console.error("WK1 unsupported op "+Me.toString(16)):Me<=30?console.error("WK1 invalid opcode "+Me.toString(16)):Me<=115?console.error("WK1 unsupported function opcode "+Me.toString(16)):console.error("WK1 unrecognized opcode "+Me.toString(16))}}Z.length==1?ee[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function te(K){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=K.read_shift(2),ee[3]=K[K.l++],ee[0].c=K[K.l++],ee}function he(K,ee){var Z=te(K);return Z[1].t="s",Z[1].v=K.read_shift(ee-4,"cstr"),Z}function D(K,ee,Z,Q){var ve=_e(6+Q.length);ve.write_shift(2,K),ve.write_shift(1,Z),ve.write_shift(1,ee),ve.write_shift(1,39);for(var ze=0;ze<Q.length;++ze){var Ke=Q.charCodeAt(ze);ve.write_shift(1,Ke>=128?95:Ke)}return ve.write_shift(1,0),ve}function I(K,ee){var Z=te(K);Z[1].v=K.read_shift(2);var Q=Z[1].v>>1;if(Z[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return Z[1].v=Q,Z}function R(K,ee){var Z=te(K),Q=K.read_shift(4),ve=K.read_shift(4),ze=K.read_shift(2);if(ze==65535)return Q===0&&ve===3221225472?(Z[1].t="e",Z[1].v=15):Q===0&&ve===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var Ke=ze&32768;return ze=(ze&32767)-16446,Z[1].v=(1-Ke*2)*(ve*Math.pow(2,ze+32)+Q*Math.pow(2,ze)),Z}function L(K,ee,Z,Q){var ve=_e(14);if(ve.write_shift(2,K),ve.write_shift(1,Z),ve.write_shift(1,ee),Q==0)return ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(2,65535),ve;var ze=0,Ke=0,Ue=0,Me=0;return Q<0&&(ze=1,Q=-Q),Ke=Math.log2(Q)|0,Q/=Math.pow(2,Ke-31),Me=Q>>>0,(Me&2147483648)==0&&(Q/=2,++Ke,Me=Q>>>0),Q-=Me,Me|=2147483648,Me>>>=0,Q*=Math.pow(2,32),Ue=Q>>>0,ve.write_shift(4,Ue),ve.write_shift(4,Me),Ke+=16383+(ze?32768:0),ve.write_shift(2,Ke),ve}function V(K,ee){var Z=R(K);return K.l+=ee-14,Z}function B(K,ee){var Z=te(K),Q=K.read_shift(4);return Z[1].v=Q>>6,Z}function P(K,ee){var Z=te(K),Q=K.read_shift(8,"f");return Z[1].v=Q,Z}function Qe(K,ee){var Z=P(K);return K.l+=ee-10,Z}function Ie(K,ee){return K[K.l+ee-1]==0?K.read_shift(ee,"cstr"):""}function oe(K,ee){var Z=K[K.l++];Z>ee-1&&(Z=ee-1);for(var Q="";Q.length<Z;)Q+=String.fromCharCode(K[K.l++]);return Q}function pe(K,ee,Z){if(!(!Z.qpro||ee<21)){var Q=K.read_shift(1);K.l+=17,K.l+=1,K.l+=2;var ve=K.read_shift(ee-21,"cstr");return[Q,ve]}}function je(K,ee){for(var Z={},Q=K.l+ee;K.l<Q;){var ve=K.read_shift(2);if(ve==14e3){for(Z[ve]=[0,""],Z[ve][0]=K.read_shift(2);K[K.l];)Z[ve][1]+=String.fromCharCode(K[K.l]),K.l++;K.l++}}return Z}function qe(K,ee){var Z=_e(5+K.length);Z.write_shift(2,14e3),Z.write_shift(2,ee);for(var Q=0;Q<K.length;++Q){var ve=K.charCodeAt(Q);Z[Z.l++]=ve>127?95:ve}return Z[Z.l++]=0,Z}var st={0:{n:"BOF",f:jA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ie},222:{n:"SHEETNAMELP",f:oe},65535:{n:""}},dt={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:he},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:V},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:je},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:Qe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:pe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),F6=/^\s|\s$|[\t\n\r]/;function qA(n,e){if(!e.bookSST)return"";var t=[Qn];t[t.length]=ke("sst",null,{xmlns:ku[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(F6)&&(a+=' xml:space="preserve"'),a+=">"+nn(i.t)+"</t>"),a+="</si>",t[t.length]=a}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function V6(n){return[n.read_shift(4),n.read_shift(4)]}function j6(n,e){return e||(e=_e(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var B6=IM;function U6(n){var e=Ti();Ae(e,159,j6(n));for(var t=0;t<n.length;++t)Ae(e,19,B6(n[t]));return Ae(e,160),e.end()}function z6(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function WA(n){var e=0,t,r=z6(n),i=r.length+1,a,l,u,h,d;for(t=tc(i),t[0]=r.length,a=1;a!=i;++a)t[a]=r[a-1];for(a=i-1;a>=0;--a)l=t[a],u=(e&16384)===0?0:1,h=e<<1&32767,d=u|h,e=d^l;return e^52811}var H6=function(){function n(i,a){switch(a.type){case"base64":return e(Xa(i),a);case"binary":return e(i,a);case"buffer":return e(Gt&&Buffer.isBuffer(i)?i.toString("binary"):jf(i),a);case"array":return e(Kg(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var l=a||{},u=l.dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(m,x){Array.isArray(u)&&(u[x]=[]);for(var v=/\\\w+\b/g,T=0,E,w=-1;E=v.exec(m);){switch(E[0]){case"\\cell":var S=m.slice(T,v.lastIndex-E[0].length);if(S[0]==" "&&(S=S.slice(1)),++w,S.length){var F={v:S,t:"s"};Array.isArray(u)?u[x][w]=F:u[rn({r:x,c:w})]=F}break}T=v.lastIndex}w>d.e.c&&(d.e.c=w)}),u["!ref"]=Yn(d),u}function t(i,a){return uc(n(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],l=wn(i["!ref"]),u,h=Array.isArray(i),d=l.s.r;d<=l.e.r;++d){a.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)a.push("\\cellx"+(m+1));for(a.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var x=rn({r:d,c:m});u=h?(i[d]||[])[m]:i[x],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||(Ya(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function gw(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var G6=6,Wa=G6;function mg(n){return Math.floor((n+Math.round(128/Wa)/256)*Wa)}function pg(n){return Math.floor((n-5)/Wa*100+.5)/100}function ax(n){return Math.round((n*Wa+5)/Wa*256)/256}function u_(n){n.width?(n.wpx=mg(n.width),n.wch=pg(n.wpx),n.MDW=Wa):n.wpx?(n.wch=pg(n.wpx),n.width=ax(n.wch),n.MDW=Wa):typeof n.wch=="number"&&(n.width=ax(n.wch),n.wpx=mg(n.width),n.MDW=Wa),n.customWidth&&delete n.customWidth}var q6=96,KA=q6;function xg(n){return n*96/KA}function XA(n){return n*KA/96}function W6(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=ke("numFmt",null,{numFmtId:r,formatCode:nn(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ke("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function K6(n){var e=[];return e[e.length]=ke("cellXfs",null),n.forEach(function(t){e[e.length]=ke("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ke("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function YA(n,e){var t=[Qn,ke("styleSheet",null,{xmlns:ku[0],"xmlns:vt":vr.vt})],r;return n.SSF&&(r=W6(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=K6(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function X6(n,e){var t=n.read_shift(2),r=$r(n);return[t,r]}function Y6(n,e,t){t||(t=_e(6+4*e.length)),t.write_shift(2,n),Tr(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function $6(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=FM(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=n.read_shift(2);switch(a===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=n.read_shift(1);l!=0&&(r.underline=l);var u=n.read_shift(1);u>0&&(r.family=u);var h=n.read_shift(1);switch(h>0&&(r.charset=h),n.l++,r.color=LM(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=$r(n),r}function Q6(n,e){e||(e=_e(153)),e.write_shift(2,n.sz*20),VM(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),dg(n.color,e);var r=0;return r=2,e.write_shift(1,r),Tr(n.name,e),e.length>e.l?e.slice(0,e.l):e}var Z6=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],I1,J6=ha;function mw(n,e){e||(e=_e(84)),I1||(I1=Zx(Z6));var t=I1[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(dg({auto:1},e),dg({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function e5(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function $A(n,e,t){t||(t=_e(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Bh(n,e){return e||(e=_e(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var t5=ha;function n5(n,e){return e||(e=_e(51)),e.write_shift(1,0),Bh(null,e),Bh(null,e),Bh(null,e),Bh(null,e),Bh(null,e),e.length>e.l?e.slice(0,e.l):e}function r5(n,e){return e||(e=_e(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),fg(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function i5(n,e,t){var r=_e(2052);return r.write_shift(4,n),fg(e,r),fg(t,r),r.length>r.l?r.slice(0,r.l):r}function s5(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Ae(n,615,Ps(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ae(n,44,Y6(i,e[i]))}),Ae(n,616))}}function a5(n){var e=1;Ae(n,611,Ps(e)),Ae(n,43,Q6({sz:12,color:{theme:1},name:"Calibri",family:2})),Ae(n,612)}function o5(n){var e=2;Ae(n,603,Ps(e)),Ae(n,45,mw({patternType:"none"})),Ae(n,45,mw({patternType:"gray125"})),Ae(n,604)}function l5(n){var e=1;Ae(n,613,Ps(e)),Ae(n,46,n5()),Ae(n,614)}function c5(n){var e=1;Ae(n,626,Ps(e)),Ae(n,47,$A({numFmtId:0},65535)),Ae(n,627)}function u5(n,e){Ae(n,617,Ps(e.length)),e.forEach(function(t){Ae(n,47,$A(t,0))}),Ae(n,618)}function h5(n){var e=1;Ae(n,619,Ps(e)),Ae(n,48,r5({xfId:0,name:"Normal"})),Ae(n,620)}function f5(n){var e=0;Ae(n,505,Ps(e)),Ae(n,506)}function d5(n){var e=0;Ae(n,508,i5(e,"TableStyleMedium9","PivotStyleMedium4")),Ae(n,509)}function g5(n,e){var t=Ti();return Ae(t,278),s5(t,n.SSF),a5(t),o5(t),l5(t),c5(t),u5(t,e.cellXfs),h5(t),f5(t),d5(t),Ae(t,279),t.end()}function QA(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Qn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function m5(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:$r(n)}}function p5(n){var e=_e(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Tr(n.name,e),e.slice(0,e.l)}function x5(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function _5(n){var e=_e(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function v5(n,e){var t=_e(8+2*e.length);return t.write_shift(4,n),Tr(e,t),t.slice(0,t.l)}function y5(n){return n.l+=4,n.read_shift(4)!=0}function T5(n,e){var t=_e(8);return t.write_shift(4,n),t.write_shift(4,1),t}function b5(){var n=Ti();return Ae(n,332),Ae(n,334,Ps(1)),Ae(n,335,p5({name:"XLDAPR",version:12e4,flags:3496657072})),Ae(n,336),Ae(n,339,v5(1,"XLDAPR")),Ae(n,52),Ae(n,35,Ps(514)),Ae(n,4096,Ps(0)),Ae(n,4097,us(1)),Ae(n,36),Ae(n,53),Ae(n,340),Ae(n,337,T5(1)),Ae(n,51,_5([[1,0]])),Ae(n,338),Ae(n,333),n.end()}function ZA(){var n=[Qn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function w5(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=rn(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var cu=1024;function JA(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ke("xml",null,{"xmlns:v":Bi.v,"xmlns:o":Bi.o,"xmlns:x":Bi.x,"xmlns:mv":Bi.mv}).replace(/\/>/,">"),ke("o:shapelayout",ke("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),ke("v:shapetype",[ke("v:stroke",null,{joinstyle:"miter"}),ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];cu<n*1e3;)cu+=1e3;return e.forEach(function(a){var l=yr(a[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var h=u.type=="gradient"?ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=ke("v:fill",h,u),m={on:"t",obscured:"t"};++cu,i=i.concat(["<v:shape"+Sf({id:"_x0000_s"+cu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,ke("v:shadow",null,m),ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Lr("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Lr("x:AutoFill","False"),Lr("x:Row",String(l.r)),Lr("x:Column",String(l.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function e4(n){var e=[Qn,ke("comments",null,{xmlns:ku[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var a=nn(i.a);t.indexOf(a)==-1&&(t.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(i=t.indexOf(nn(h.a))),a.push(h.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(Lr("t",nn(a[0]||"")));else{for(var l=`Comment:
    `+a[0]+`
`,u=1;u<a.length;++u)l+=`Reply:
    `+a[u]+`
`;e.push(Lr("t",nn(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function E5(n,e,t){var r=[Qn,ke("ThreadedComments",null,{xmlns:vr.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var a="";(i[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var h={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?a=h.id:h.parentId=a,l.ID=h.id,l.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(ke("threadedComment",Lr("text",l.t||""),h))})}),r.push("</ThreadedComments>"),r.join("")}function S5(n){var e=[Qn,ke("personList",null,{xmlns:vr.TCMNT,"xmlns:x":ku[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(ke("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function A5(n){var e={};e.iauthor=n.read_shift(4);var t=gc(n);return e.rfx=t.s,e.ref=rn(t.s),n.l+=16,e}function C5(n,e){return e==null&&(e=_e(36)),e.write_shift(4,n[1].iauthor),Pu(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var R5=$r;function N5(n){return Tr(n.slice(0,54))}function I5(n){var e=Ti(),t=[];return Ae(e,628),Ae(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Ae(e,632,N5(i.a)))})}),Ae(e,631),Ae(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var a={s:yr(r[0]),e:yr(r[0])};Ae(e,635,C5([a,i])),i.t&&i.t.length>0&&Ae(e,637,OM(i)),Ae(e,636),delete i.iauthor})}),Ae(e,634),Ae(e,629),e.end()}function D5(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&un.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var t4=["xlsb","xlsm","xlam","biff8","xla"],O5=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,a,l){var u=!1,h=!1;a.length==0?h=!0:a.charAt(0)=="["&&(h=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var d=a.length>0?parseInt(a,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return u?m+=e.c:--m,h?d+=e.r:--d,i+(u?"":"$")+Yr(m)+(h?"":"$")+Vr(d)}return function(i,a){return e=a,i.replace(n,t)}}(),h_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,f_=function(){return function(e,t){return e.replace(h_,function(r,i,a,l,u,h){var d=s_(l)-(a?0:t.c),m=i_(h)-(u?0:t.r),x=m==0?"":u?m+1:"["+m+"]",v=d==0?"":a?d+1:"["+d+"]";return i+"R"+x+"C"+v})}}();function k5(n,e){return n.replace(h_,function(t,r,i,a,l,u){return r+(i=="$"?i+a:Yr(s_(a)+e.c))+(l=="$"?l+u:Vr(i_(u)+e.r))})}function M5(n){return n.length!=1}function Hn(n){n.l+=1}function tl(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function n4(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return r4(n);t.biff==12&&(r=4)}var i=n.read_shift(r),a=n.read_shift(r),l=tl(n),u=tl(n);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function r4(n){var e=tl(n),t=tl(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function P5(n,e,t){if(t.biff<8)return r4(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),a=tl(n),l=tl(n);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function i4(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return L5(n);var r=n.read_shift(t&&t.biff==12?4:2),i=tl(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function L5(n){var e=tl(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function F5(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function V5(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return j5(n);var i=n.read_shift(r>=12?4:2),a=n.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;i>524287;)i-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:l,rRel:u}}function j5(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function B5(n,e,t){var r=(n[n.l++]&96)>>5,i=n4(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function U5(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}var l=n4(n,a,t);return[r,i,l]}function z5(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function H5(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}return n.l+=a,[r,i]}function G5(n,e,t){var r=(n[n.l++]&96)>>5,i=P5(n,e-1,t);return[r,i]}function q5(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function pw(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function W5(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function K5(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function X5(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Y5(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function $5(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function s4(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Q5(n){return n.read_shift(2),s4(n)}function Z5(n){return n.read_shift(2),s4(n)}function J5(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=i4(n,0,t);return[r,i]}function eP(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=V5(n,0,t);return[r,i]}function tP(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var a=i4(n,0,t);return[r,i,a]}function nP(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[nL[i],l4[i],r]}function rP(n,e,t){var r=n[n.l++],i=n.read_shift(1),a=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:iP(n);return[i,(a[0]===0?l4:tL)[a[1]]]}function iP(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function sP(n,e,t){n.l+=t&&t.biff==2?3:4}function aP(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function oP(n){return n.l++,zf[n.read_shift(1)]}function lP(n){return n.l++,n.read_shift(2)}function cP(n){return n.l++,n.read_shift(1)!==0}function uP(n){return n.l++,Lu(n)}function hP(n,e,t){return n.l++,UA(n,e-1,t)}function fP(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=t6(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=zf[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Lu(n);break;case 2:t[1]=s6(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function dP(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((t.biff==12?gc:l6)(n));return i}function gP(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var a=0,l=[];a!=r&&(l[a]=[]);++a)for(var u=0;u!=i;++u)l[a][u]=fP(n,t.biff);return l}function mP(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,a]}function pP(n,e,t){if(t.biff==5)return xP(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),a=n.read_shift(4);return[r,i,a]}function xP(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function _P(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function vP(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function yP(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function TP(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return n.l+=a,[r,i]}var bP=ha,wP=ha,EP=ha;function Hf(n,e,t){return n.l+=2,[F5(n)]}function d_(n){return n.l+=6,[]}var SP=Hf,AP=d_,CP=d_,RP=Hf;function a4(n){return n.l+=2,[jA(n),n.read_shift(2)&1]}var NP=Hf,IP=a4,DP=d_,OP=Hf,kP=Hf,MP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function PP(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),a=n.read_shift(2),l=MP[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:r,c:i,C:a}}function LP(n){return n.l+=2,[n.read_shift(4)]}function FP(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function VP(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function jP(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function BP(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function UP(n){return n.l+=4,[0,0]}var xw={1:{n:"PtgExp",f:aP},2:{n:"PtgTbl",f:EP},3:{n:"PtgAdd",f:Hn},4:{n:"PtgSub",f:Hn},5:{n:"PtgMul",f:Hn},6:{n:"PtgDiv",f:Hn},7:{n:"PtgPower",f:Hn},8:{n:"PtgConcat",f:Hn},9:{n:"PtgLt",f:Hn},10:{n:"PtgLe",f:Hn},11:{n:"PtgEq",f:Hn},12:{n:"PtgGe",f:Hn},13:{n:"PtgGt",f:Hn},14:{n:"PtgNe",f:Hn},15:{n:"PtgIsect",f:Hn},16:{n:"PtgUnion",f:Hn},17:{n:"PtgRange",f:Hn},18:{n:"PtgUplus",f:Hn},19:{n:"PtgUminus",f:Hn},20:{n:"PtgPercent",f:Hn},21:{n:"PtgParen",f:Hn},22:{n:"PtgMissArg",f:Hn},23:{n:"PtgStr",f:hP},26:{n:"PtgSheet",f:FP},27:{n:"PtgEndSheet",f:VP},28:{n:"PtgErr",f:oP},29:{n:"PtgBool",f:cP},30:{n:"PtgInt",f:lP},31:{n:"PtgNum",f:uP},32:{n:"PtgArray",f:q5},33:{n:"PtgFunc",f:nP},34:{n:"PtgFuncVar",f:rP},35:{n:"PtgName",f:mP},36:{n:"PtgRef",f:J5},37:{n:"PtgArea",f:B5},38:{n:"PtgMemArea",f:_P},39:{n:"PtgMemErr",f:bP},40:{n:"PtgMemNoMem",f:wP},41:{n:"PtgMemFunc",f:vP},42:{n:"PtgRefErr",f:yP},43:{n:"PtgAreaErr",f:z5},44:{n:"PtgRefN",f:eP},45:{n:"PtgAreaN",f:G5},46:{n:"PtgMemAreaN",f:jP},47:{n:"PtgMemNoMemN",f:BP},57:{n:"PtgNameX",f:pP},58:{n:"PtgRef3d",f:tP},59:{n:"PtgArea3d",f:U5},60:{n:"PtgRefErr3d",f:TP},61:{n:"PtgAreaErr3d",f:H5},255:{}},zP={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},HP={1:{n:"PtgElfLel",f:a4},2:{n:"PtgElfRw",f:OP},3:{n:"PtgElfCol",f:SP},6:{n:"PtgElfRwV",f:kP},7:{n:"PtgElfColV",f:RP},10:{n:"PtgElfRadical",f:NP},11:{n:"PtgElfRadicalS",f:DP},13:{n:"PtgElfColS",f:AP},15:{n:"PtgElfColSV",f:CP},16:{n:"PtgElfRadicalLel",f:IP},25:{n:"PtgList",f:PP},29:{n:"PtgSxName",f:LP},255:{}},GP={0:{n:"PtgAttrNoop",f:UP},1:{n:"PtgAttrSemi",f:$5},2:{n:"PtgAttrIf",f:X5},4:{n:"PtgAttrChoose",f:W5},8:{n:"PtgAttrGoto",f:K5},16:{n:"PtgAttrSum",f:sP},32:{n:"PtgAttrBaxcel",f:pw},33:{n:"PtgAttrBaxcel",f:pw},64:{n:"PtgAttrSpace",f:Q5},65:{n:"PtgAttrSpaceSemi",f:Z5},128:{n:"PtgAttrIfError",f:Y5},255:{}};function qP(n,e,t,r){if(r.biff<8)return ha(n,e);for(var i=n.l+e,a=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=gP(n,0,r),a.push(t[l][1]);break;case"PtgMemArea":t[l][2]=dP(n,t[l][1],r),a.push(t[l][2]);break;case"PtgExp":r&&r.biff==12&&(t[l][1][1]=n.read_shift(4),a.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=i-n.l,e!==0&&a.push(ha(n,e)),a}function WP(n,e,t){for(var r=n.l+e,i,a,l=[];r!=n.l;)e=r-n.l,a=n[n.l],i=xw[a]||xw[zP[a]],(a===24||a===25)&&(i=(a===24?HP:GP)[n[n.l+1]]),!i||!i.f?ha(n,e):l.push([i.n,i.f(n,e,t)]);return l}function KP(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],a=0;a<r.length;++a){var l=r[a];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var XP={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function YP(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function o4(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function _w(n,e,t){var r=o4(n,e,t);return r=="#REF"?r:YP(r,t)}function wu(n,e,t,r,i){var a=i&&i.biff||8,l={s:{c:0,r:0}},u=[],h,d,m,x=0,v=0,T,E="";if(!n[0]||!n[0][0])return"";for(var w=-1,S="",F=0,z=n[0].length;F<z;++F){var H=n[0][F];switch(H[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),d=u.pop(),w>=0){switch(n[0][w][1][0]){case 0:S=On(" ",n[0][w][1][1]);break;case 1:S=On("\r",n[0][w][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}d=d+S,w=-1}u.push(d+XP[H[0]]+h);break;case"PtgIsect":h=u.pop(),d=u.pop(),u.push(d+" "+h);break;case"PtgUnion":h=u.pop(),d=u.pop(),u.push(d+","+h);break;case"PtgRange":h=u.pop(),d=u.pop(),u.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=lf(H[1][1],l,i),u.push(cf(m,a));break;case"PtgRefN":m=t?lf(H[1][1],t,i):H[1][1],u.push(cf(m,a));break;case"PtgRef3d":x=H[1][1],m=lf(H[1][2],l,i),E=_w(r,x,i),u.push(E+"!"+cf(m,a));break;case"PtgFunc":case"PtgFuncVar":var Y=H[1][0],te=H[1][1];Y||(Y=0),Y&=127;var he=Y==0?[]:u.slice(-Y);u.length-=Y,te==="User"&&(te=he.shift()),u.push(te+"("+he.join(",")+")");break;case"PtgBool":u.push(H[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(H[1]);break;case"PtgNum":u.push(String(H[1]));break;case"PtgStr":u.push('"'+H[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(H[1]);break;case"PtgAreaN":T=nw(H[1][1],t?{s:t}:l,i),u.push(R1(T,i));break;case"PtgArea":T=nw(H[1][1],l,i),u.push(R1(T,i));break;case"PtgArea3d":x=H[1][1],T=H[1][2],E=_w(r,x,i),u.push(E+"!"+R1(T,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=H[1][2];var D=(r.names||[])[v-1]||(r[0]||[])[v],I=D?D.Name:"SH33TJSNAME"+String(v);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),u.push(I);break;case"PtgNameX":var R=H[1][1];v=H[1][2];var L;if(i.biff<=5)R<0&&(R=-R),r[R]&&(L=r[R][v]);else{var V="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][v]&&r[R][v].itab>0&&(V=r.SheetNames[r[R][v].itab-1]+"!"):V=r.SheetNames[v-1]+"!"),r[R]&&r[R][v])V+=r[R][v].Name;else if(r[0]&&r[0][v])V+=r[0][v].Name;else{var B=(o4(r,R,i)||"").split(";;");B[v-1]?V=B[v-1]:V+="SH33TJSERRX"}u.push(V);break}L||(L={Name:"SH33TJSERRY"}),u.push(L.Name);break;case"PtgParen":var P="(",Qe=")";if(w>=0){switch(S="",n[0][w][1][0]){case 2:P=On(" ",n[0][w][1][1])+P;break;case 3:P=On("\r",n[0][w][1][1])+P;break;case 4:Qe=On(" ",n[0][w][1][1])+Qe;break;case 5:Qe=On("\r",n[0][w][1][1])+Qe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}w=-1}u.push(P+u.pop()+Qe);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:H[1][1],r:H[1][0]};var Ie={c:t.c,r:t.r};if(r.sharedf[rn(m)]){var oe=r.sharedf[rn(m)];u.push(wu(oe,l,Ie,r,i))}else{var pe=!1;for(h=0;h!=r.arrayf.length;++h)if(d=r.arrayf[h],!(m.c<d[0].s.c||m.c>d[0].e.c)&&!(m.r<d[0].s.r||m.r>d[0].e.r)){u.push(wu(d[1],l,Ie,r,i)),pe=!0;break}pe||u.push(H[1])}break;case"PtgArray":u.push("{"+KP(H[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=F;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+H[1].idx+"[#"+H[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(H));default:throw new Error("Unrecognized Formula Token: "+String(H))}var je=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&je.indexOf(n[0][F][0])==-1){H=n[0][w];var qe=!0;switch(H[1][0]){case 4:qe=!1;case 0:S=On(" ",H[1][1]);break;case 5:qe=!1;case 1:S=On("\r",H[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+H[1][0])}u.push((qe?S:"")+u.pop()+(qe?"":S)),w=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function $P(n){if(n==null){var e=_e(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return nc(n);return nc(0)}function QP(n,e,t,r,i){var a=rc(e,t,i),l=$P(n.v),u=_e(6),h=33;u.write_shift(2,h),u.write_shift(4,0);for(var d=_e(n.bf.length),m=0;m<n.bf.length;++m)d[m]=n.bf[m];var x=Pr([a,l,u,d]);return x}function Xg(n,e,t){var r=n.read_shift(4),i=WP(n,r,t),a=n.read_shift(4),l=a>0?qP(n,a,i,t):null;return[i,l]}var ZP=Xg,Yg=Xg,JP=Xg,eL=Xg,tL={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},l4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},nL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rL(n){var e="of:="+n.replace(h_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function iL(n){return n.replace(/\./,"!")}var uf=typeof Map<"u";function g_(n,e,t){var r=0,i=n.length;if(t){if(uf?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var a=uf?t.get(e):t[e];r<a.length;++r)if(n[a[r]].t===e)return n.Count++,a[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(uf?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function $g(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Wa=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=pg(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=ax(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function c4(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function ul(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,a=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){iA(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=a;++i)if(n[i].numFmtId===r)return i;return n[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function sL(n,e,t){if(n&&n["!ref"]){var r=wn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function aL(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Yn(n[t])+'"/>';return e+"</mergeCells>"}function oL(n,e,t,r,i){var a=!1,l={},u=null;if(r.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch{}a=!0,l.codeName=Ef(nn(h))}if(n&&n["!outline"]){var d={summaryBelow:1,summaryRight:1};n["!outline"].above&&(d.summaryBelow=0),n["!outline"].left&&(d.summaryRight=0),u=(u||"")+ke("outlinePr",null,d)}!a&&!u||(i[i.length]=ke("sheetPr",u,l))}var lL=["objects","scenarios","selectLockedCells","selectUnlockedCells"],cL=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function uL(n){var e={sheet:1};return lL.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),cL.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=WA(n.password).toString(16).toUpperCase()),ke("sheetProtection",null,e)}function hL(n){return c4(n),ke("pageMargins",null,n)}function fL(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=ke("col",null,$g(i,r)));return t[t.length]="</cols>",t.join("")}function dL(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Yn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,l=Hi(i);l.s.r==l.e.r&&(l.e.r=Hi(e["!ref"]).e.r,i=Yn(l));for(var u=0;u<a.length;++u){var h=a[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),ke("autoFilter",null,{ref:i})}function gL(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ke("sheetViews",ke("sheetView",null,i),{})}function mL(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",a=n.t,l=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=zf[n.v];break;case"d":r&&r.cellDates?i=si(n.v,-1).toISOString():(n=Ei(n),n.t="n",i=""+(n.v=wi(si(n.v)))),typeof n.z>"u"&&(n.z=kn[14]);break;default:i=n.v;break}var u=Lr("v",nn(i)),h={r:e},d=ul(r.cellXfs,n,r);switch(d!==0&&(h.s=d),n.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=Lr("v",""+g_(r.Strings,n.v,r.revStrings)),h.t="s";break}h.t="str";break}if(n.t!=a&&(n.t=a,n.v=l),typeof n.f=="string"&&n.f){var m=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;u=ke("f",nn(n.f),m)+(n.v!=null?u:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(h.cm=1),ke("c",u,h)}function pL(n,e,t,r){var i=[],a=[],l=wn(n["!ref"]),u="",h,d="",m=[],x=0,v=0,T=n["!rows"],E=Array.isArray(n),w={r:d},S,F=-1;for(v=l.s.c;v<=l.e.c;++v)m[v]=Yr(v);for(x=l.s.r;x<=l.e.r;++x){for(a=[],d=Vr(x),v=l.s.c;v<=l.e.c;++v){h=m[v]+d;var z=E?(n[x]||[])[v]:n[h];z!==void 0&&(u=mL(z,h,n,e))!=null&&a.push(u)}(a.length>0||T&&T[x])&&(w={r:d},T&&T[x]&&(S=T[x],S.hidden&&(w.hidden=1),F=-1,S.hpx?F=xg(S.hpx):S.hpt&&(F=S.hpt),F>-1&&(w.ht=F,w.customHeight=1),S.level&&(w.outlineLevel=S.level)),i[i.length]=ke("row",a.join(""),w))}if(T)for(;x<T.length;++x)T&&T[x]&&(w={r:x+1},S=T[x],S.hidden&&(w.hidden=1),F=-1,S.hpx?F=xg(S.hpx):S.hpt&&(F=S.hpt),F>-1&&(w.ht=F,w.customHeight=1),S.level&&(w.outlineLevel=S.level),i[i.length]=ke("row","",w));return i.join("")}function u4(n,e,t,r){var i=[Qn,ke("worksheet",null,{xmlns:ku[0],"xmlns:r":vr.r})],a=t.SheetNames[n],l=0,u="",h=t.Sheets[a];h==null&&(h={});var d=h["!ref"]||"A1",m=wn(d);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),d=Yn(m)}r||(r={}),h["!comments"]=[];var x=[];oL(h,t,n,e,i),i[i.length]=ke("dimension",null,{ref:d}),i[i.length]=gL(h,e,n,t),e.sheetFormat&&(i[i.length]=ke("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(i[i.length]=fL(h,h["!cols"])),i[l=i.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(u=pL(h,e),u.length>0&&(i[i.length]=u)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),h["!protect"]&&(i[i.length]=uL(h["!protect"])),h["!autofilter"]!=null&&(i[i.length]=dL(h["!autofilter"],h,t,n)),h["!merges"]!=null&&h["!merges"].length>0&&(i[i.length]=aL(h["!merges"]));var v=-1,T,E=-1;return h["!links"].length>0&&(i[i.length]="<hyperlinks>",h["!links"].forEach(function(w){w[1].Target&&(T={ref:w[0]},w[1].Target.charAt(0)!="#"&&(E=en(r,-1,nn(w[1].Target).replace(/#.*$/,""),zt.HLINK),T["r:id"]="rId"+E),(v=w[1].Target.indexOf("#"))>-1&&(T.location=nn(w[1].Target.slice(v+1))),w[1].Tooltip&&(T.tooltip=nn(w[1].Tooltip)),i[i.length]=ke("hyperlink",null,T))}),i[i.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(i[i.length]=hL(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Lr("ignoredErrors",ke("ignoredError",null,{numberStoredAsText:1,sqref:d}))),x.length>0&&(E=en(r,-1,"../drawings/drawing"+(n+1)+".xml",zt.DRAW),i[i.length]=ke("drawing",null,{"r:id":"rId"+E}),h["!drawing"]=x),h["!comments"].length>0&&(E=en(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",zt.VML),i[i.length]=ke("legacyDrawing",null,{"r:id":"rId"+E}),h["!legacy"]=E),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function xL(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var a=n.read_shift(1);return n.l=r,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}function _L(n,e,t){var r=_e(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var a=320;i.hpx?a=xg(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var u=0,h=r.l;r.l+=4;for(var d={r:n,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var x=-1,v=-1,T=m<<10;T<m+1<<10;++T){d.c=T;var E=Array.isArray(t)?(t[d.r]||[])[d.c]:t[rn(d)];E&&(x<0&&(x=T),v=T)}x<0||(++u,r.write_shift(4,x),r.write_shift(4,v))}var w=r.l;return r.l=h,r.write_shift(4,u),r.l=w,r.length>r.l?r.slice(0,r.l):r}function vL(n,e,t,r){var i=_L(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Ae(n,0,i)}var yL=gc,TL=Pu;function bL(){}function wL(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=kM(n),t}function EL(n,e,t){t==null&&(t=_e(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return dg({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),SA(n,t),t.slice(0,t.l)}function SL(n){var e=gs(n);return[e]}function AL(n,e,t){return t==null&&(t=_e(8)),hc(e,t)}function CL(n){var e=fc(n);return[e]}function RL(n,e,t){return t==null&&(t=_e(4)),dc(e,t)}function NL(n){var e=gs(n),t=n.read_shift(1);return[e,t,"b"]}function IL(n,e,t){return t==null&&(t=_e(9)),hc(e,t),t.write_shift(1,n.v?1:0),t}function DL(n){var e=fc(n),t=n.read_shift(1);return[e,t,"b"]}function OL(n,e,t){return t==null&&(t=_e(5)),dc(e,t),t.write_shift(1,n.v?1:0),t}function kL(n){var e=gs(n),t=n.read_shift(1);return[e,t,"e"]}function ML(n,e,t){return t==null&&(t=_e(9)),hc(e,t),t.write_shift(1,n.v),t}function PL(n){var e=fc(n),t=n.read_shift(1);return[e,t,"e"]}function LL(n,e,t){return t==null&&(t=_e(8)),dc(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function FL(n){var e=gs(n),t=n.read_shift(4);return[e,t,"s"]}function VL(n,e,t){return t==null&&(t=_e(12)),hc(e,t),t.write_shift(4,e.v),t}function jL(n){var e=fc(n),t=n.read_shift(4);return[e,t,"s"]}function BL(n,e,t){return t==null&&(t=_e(8)),dc(e,t),t.write_shift(4,e.v),t}function UL(n){var e=gs(n),t=Lu(n);return[e,t,"n"]}function zL(n,e,t){return t==null&&(t=_e(16)),hc(e,t),nc(n.v,t),t}function HL(n){var e=fc(n),t=Lu(n);return[e,t,"n"]}function GL(n,e,t){return t==null&&(t=_e(12)),dc(e,t),nc(n.v,t),t}function qL(n){var e=gs(n),t=AA(n);return[e,t,"n"]}function WL(n,e,t){return t==null&&(t=_e(12)),hc(e,t),CA(n.v,t),t}function KL(n){var e=fc(n),t=AA(n);return[e,t,"n"]}function XL(n,e,t){return t==null&&(t=_e(8)),dc(e,t),CA(n.v,t),t}function YL(n){var e=gs(n),t=a_(n);return[e,t,"is"]}function $L(n){var e=gs(n),t=$r(n);return[e,t,"str"]}function QL(n,e,t){return t==null&&(t=_e(12+4*n.v.length)),hc(e,t),Tr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function ZL(n){var e=fc(n),t=$r(n);return[e,t,"str"]}function JL(n,e,t){return t==null&&(t=_e(8+4*n.v.length)),dc(e,t),Tr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function e8(n,e,t){var r=n.l+e,i=gs(n);i.r=t["!row"];var a=n.read_shift(1),l=[i,a,"b"];if(t.cellFormula){n.l+=2;var u=Yg(n,r-n.l,t);l[3]=wu(u,null,i,t.supbooks,t)}else n.l=r;return l}function t8(n,e,t){var r=n.l+e,i=gs(n);i.r=t["!row"];var a=n.read_shift(1),l=[i,a,"e"];if(t.cellFormula){n.l+=2;var u=Yg(n,r-n.l,t);l[3]=wu(u,null,i,t.supbooks,t)}else n.l=r;return l}function n8(n,e,t){var r=n.l+e,i=gs(n);i.r=t["!row"];var a=Lu(n),l=[i,a,"n"];if(t.cellFormula){n.l+=2;var u=Yg(n,r-n.l,t);l[3]=wu(u,null,i,t.supbooks,t)}else n.l=r;return l}function r8(n,e,t){var r=n.l+e,i=gs(n);i.r=t["!row"];var a=$r(n),l=[i,a,"str"];if(t.cellFormula){n.l+=2;var u=Yg(n,r-n.l,t);l[3]=wu(u,null,i,t.supbooks,t)}else n.l=r;return l}var i8=gc,s8=Pu;function a8(n,e){return e==null&&(e=_e(4)),e.write_shift(4,n),e}function o8(n,e){var t=n.l+e,r=gc(n),i=o_(n),a=$r(n),l=$r(n),u=$r(n);n.l=t;var h={rfx:r,relId:i,loc:a,display:u};return l&&(h.Tooltip=l),h}function l8(n,e){var t=_e(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Pu({s:yr(n[0]),e:yr(n[0])},t),l_("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Tr(i||"",t),Tr(n[1].Tooltip||"",t),Tr("",t),t.slice(0,t.l)}function c8(){}function u8(n,e,t){var r=n.l+e,i=RA(n),a=n.read_shift(1),l=[i];if(l[2]=a,t.cellFormula){var u=ZP(n,r-n.l,t);l[1]=u}else n.l=r;return l}function h8(n,e,t){var r=n.l+e,i=gc(n),a=[i];if(t.cellFormula){var l=eL(n,r-n.l,t);a[1]=l,n.l=r}else n.l=r;return a}function f8(n,e,t){t==null&&(t=_e(18));var r=$g(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var h4=["left","right","top","bottom","header","footer"];function d8(n){var e={};return h4.forEach(function(t){e[t]=Lu(n)}),e}function g8(n,e){return e==null&&(e=_e(48)),c4(n),h4.forEach(function(t){nc(n[t],e)}),e}function m8(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function p8(n,e,t){t==null&&(t=_e(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function x8(n){var e=_e(24);return e.write_shift(4,4),e.write_shift(4,1),Pu(n,e),e}function _8(n,e){return e==null&&(e=_e(66)),e.write_shift(2,n.password?WA(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function v8(){}function y8(){}function T8(n,e,t,r,i,a,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=Ei(e),e.z=e.z||kn[14],e.v=wi(si(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var h={r:t,c:r};switch(h.s=ul(i.cellXfs,e,i),e.l&&a["!links"].push([rn(h),e.l]),e.c&&a["!comments"].push([rn(h),e.c]),e.t){case"s":case"str":return i.bookSST?(u=g_(i.Strings,e.v,i.revStrings),h.t="s",h.v=u,l?Ae(n,18,BL(e,h)):Ae(n,7,VL(e,h))):(h.t="str",l?Ae(n,17,JL(e,h)):Ae(n,6,QL(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Ae(n,13,XL(e,h)):Ae(n,2,WL(e,h)):l?Ae(n,16,GL(e,h)):Ae(n,5,zL(e,h)),!0;case"b":return h.t="b",l?Ae(n,15,OL(e,h)):Ae(n,4,IL(e,h)),!0;case"e":return h.t="e",l?Ae(n,14,LL(e,h)):Ae(n,3,ML(e,h)),!0}return l?Ae(n,12,RL(e,h)):Ae(n,1,AL(e,h)),!0}function b8(n,e,t,r){var i=wn(e["!ref"]||"A1"),a,l="",u=[];Ae(n,145);var h=Array.isArray(e),d=i.e.r;e["!rows"]&&(d=Math.max(i.e.r,e["!rows"].length-1));for(var m=i.s.r;m<=d;++m){l=Vr(m),vL(n,e,i,m);var x=!1;if(m<=i.e.r)for(var v=i.s.c;v<=i.e.c;++v){m===i.s.r&&(u[v]=Yr(v)),a=u[v]+l;var T=h?(e[m]||[])[v]:e[a];if(!T){x=!1;continue}x=T8(n,T,m,v,r,e,x)}}Ae(n,146)}function w8(n,e){!e||!e["!merges"]||(Ae(n,177,a8(e["!merges"].length)),e["!merges"].forEach(function(t){Ae(n,176,s8(t))}),Ae(n,178))}function E8(n,e){!e||!e["!cols"]||(Ae(n,390),e["!cols"].forEach(function(t,r){t&&Ae(n,60,f8(r,t))}),Ae(n,391))}function S8(n,e){!e||!e["!ref"]||(Ae(n,648),Ae(n,649,x8(wn(e["!ref"]))),Ae(n,650))}function A8(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=en(t,-1,r[1].Target.replace(/#.*$/,""),zt.HLINK);Ae(n,494,l8(r,i))}}),delete e["!links"]}function C8(n,e,t,r){if(e["!comments"].length>0){var i=en(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",zt.VML);Ae(n,551,l_("rId"+i)),e["!legacy"]=i}}function R8(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Yn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,u=Hi(a);u.s.r==u.e.r&&(u.e.r=Hi(e["!ref"]).e.r,a=Yn(u));for(var h=0;h<l.length;++h){var d=l[h];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+t.SheetNames[r]+"'!"+a;break}}h==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+a}),Ae(n,161,Pu(wn(a))),Ae(n,162)}}function N8(n,e,t){Ae(n,133),Ae(n,137,p8(e,t)),Ae(n,138),Ae(n,134)}function I8(n,e){e["!protect"]&&Ae(n,535,_8(e["!protect"]))}function D8(n,e,t,r){var i=Ti(),a=t.SheetNames[n],l=t.Sheets[a]||{},u=a;try{t&&t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}var h=wn(l["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ae(i,129),(t.vbaraw||l["!outline"])&&Ae(i,147,EL(u,l["!outline"])),Ae(i,148,TL(h)),N8(i,l,t.Workbook),E8(i,l),b8(i,l,n,e),I8(i,l),R8(i,l,t,n),w8(i,l),A8(i,l,r),l["!margins"]&&Ae(i,476,g8(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&S8(i,l),C8(i,l,n,r),Ae(i,130),i.end()}function O8(n,e){n.l+=10;var t=$r(n);return{name:t}}var k8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function M8(n){return!n.Workbook||!n.Workbook.WBProps?"false":hM(n.Workbook.WBProps.date1904)?"true":"false"}var P8="][*?/\\".split("");function f4(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return P8.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function L8(n,e,t){n.forEach(function(r,i){f4(r);for(var a=0;a<i;++a)if(r==n[a])throw new Error("Duplicate Sheet Name: "+r);if(t){var l=e&&e[i]&&e[i].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function F8(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];L8(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)sL(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function d4(n){var e=[Qn];e[e.length]=ke("workbook",null,{xmlns:ku[0],"xmlns:r":vr.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(k8.forEach(function(u){n.Workbook.WBProps[u[0]]!=null&&n.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=n.Workbook.WBProps[u[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ke("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=n.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==n.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=n.SheetNames.length;++a){var l={name:nn(n.SheetNames[a].slice(0,31))};if(l.sheetId=""+(a+1),l["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=ke("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(u){var h={name:u.Name};u.Comment&&(h.comment=u.Comment),u.Sheet!=null&&(h.localSheetId=""+u.Sheet),u.Hidden&&(h.hidden="1"),u.Ref&&(e[e.length]=ke("definedName",nn(u.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function V8(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=sx(n),t.name=$r(n),t}function j8(n,e){return e||(e=_e(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),l_(n.strRelID,e),Tr(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function B8(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?$r(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function U8(n,e){e||(e=_e(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),SA(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function z8(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),a=MM(n),l=JP(n,0,t),u=o_(n);n.l=r;var h={Name:a,Ptg:l};return i<268435455&&(h.Sheet=i),u&&(h.Comment=u),h}function H8(n,e){Ae(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Ae(n,156,j8(i))}Ae(n,144)}function G8(n,e){e||(e=_e(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Tr("SheetJS",e),Tr(sg.version,e),Tr(sg.version,e),Tr("7262",e),e.length>e.l?e.slice(0,e.l):e}function q8(n,e){e||(e=_e(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function W8(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,a=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&a==-1&&(a=r);a>i||(Ae(n,135),Ae(n,158,q8(i)),Ae(n,136))}}function K8(n,e){var t=Ti();return Ae(t,131),Ae(t,128,G8()),Ae(t,153,U8(n.Workbook&&n.Workbook.WBProps||null)),W8(t,n),H8(t,n),Ae(t,132),t.end()}function X8(n,e,t){return(e.slice(-4)===".bin"?K8:d4)(n)}function Y8(n,e,t,r,i){return(e.slice(-4)===".bin"?D8:u4)(n,t,r,i)}function $8(n,e,t){return(e.slice(-4)===".bin"?g5:YA)(n,t)}function Q8(n,e,t){return(e.slice(-4)===".bin"?U6:qA)(n,t)}function Z8(n,e,t){return(e.slice(-4)===".bin"?I5:e4)(n)}function J8(n){return(n.slice(-4)===".bin"?b5:ZA)()}function eF(n,e){var t=[];return n.Props&&t.push($M(n.Props,e)),n.Custprops&&t.push(QM(n.Props,n.Custprops)),t.join("")}function tF(){return""}function nF(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var a=[];a.push(ke("NumberFormat",null,{"ss:Format":nn(kn[r.numFmtId])}));var l={"ss:ID":"s"+(21+i)};t.push(ke("Style",a.join(""),l))}),ke("Styles",t.join(""))}function g4(n){return ke("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+f_(n.Ref,{r:0,c:0})})}function rF(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(g4(i)))}return ke("Names",t.join(""))}function iF(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],l=0;l<i.length;++l){var u=i[l];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||a.push(g4(u)))}return a.join("")}function sF(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(ke("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(ke("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(ke("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(ke("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<t&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(Lr("ProtectContents","True")),n["!protect"].objects&&i.push(Lr("ProtectObjects","True")),n["!protect"].scenarios&&i.push(Lr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(Lr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(Lr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){n["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":ke("WorksheetOptions",i.join(""),{xmlns:Bi.x})}function aF(n){return n.map(function(e){var t=uM(e.t||""),r=ke("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ke("Comment",r,{"ss:Author":e.a})}).join("")}function oF(n,e,t,r,i,a,l){if(!n||n.v==null&&n.f==null)return"";var u={};if(n.f&&(u["ss:Formula"]="="+nn(f_(n.f,l))),n.F&&n.F.slice(0,e.length)==e){var h=yr(n.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(h.r==l.r?"":"["+(h.r-l.r)+"]")+"C"+(h.c==l.c?"":"["+(h.c-l.c)+"]")}if(n.l&&n.l.Target&&(u["ss:HRef"]=nn(n.l.Target),n.l.Tooltip&&(u["x:HRefScreenTip"]=nn(n.l.Tooltip))),t["!merges"])for(var d=t["!merges"],m=0;m!=d.length;++m)d[m].s.c!=l.c||d[m].s.r!=l.r||(d[m].e.c>d[m].s.c&&(u["ss:MergeAcross"]=d[m].e.c-d[m].s.c),d[m].e.r>d[m].s.r&&(u["ss:MergeDown"]=d[m].e.r-d[m].s.r));var x="",v="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":x="Number",v=String(n.v);break;case"b":x="Boolean",v=n.v?"1":"0";break;case"e":x="Error",v=zf[n.v];break;case"d":x="DateTime",v=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||kn[14]);break;case"s":x="String",v=cM(n.v||"");break}var T=ul(r.cellXfs,n,r);u["ss:StyleID"]="s"+(21+T),u["ss:Index"]=l.c+1;var E=n.v!=null?v:"",w=n.t=="z"?"":'<Data ss:Type="'+x+'">'+E+"</Data>";return(n.c||[]).length>0&&(w+=aF(n.c)),ke("Cell",w,u)}function lF(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=XA(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function cF(n,e,t,r){if(!n["!ref"])return"";var i=wn(n["!ref"]),a=n["!merges"]||[],l=0,u=[];n["!cols"]&&n["!cols"].forEach(function(S,F){u_(S);var z=!!S.width,H=$g(F,S),Y={"ss:Index":F+1};z&&(Y["ss:Width"]=mg(H.width)),S.hidden&&(Y["ss:Hidden"]="1"),u.push(ke("Column",null,Y))});for(var h=Array.isArray(n),d=i.s.r;d<=i.e.r;++d){for(var m=[lF(d,(n["!rows"]||[])[d])],x=i.s.c;x<=i.e.c;++x){var v=!1;for(l=0;l!=a.length;++l)if(!(a[l].s.c>x)&&!(a[l].s.r>d)&&!(a[l].e.c<x)&&!(a[l].e.r<d)){(a[l].s.c!=x||a[l].s.r!=d)&&(v=!0);break}if(!v){var T={r:d,c:x},E=rn(T),w=h?(n[d]||[])[x]:n[E];m.push(oF(w,E,n,e,t,r,T))}}m.push("</Row>"),m.length>2&&u.push(m.join(""))}return u.join("")}function uF(n,e,t){var r=[],i=t.SheetNames[n],a=t.Sheets[i],l=a?iF(a,e,n,t):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=a?cF(a,e,n,t):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(sF(a,e,n,t)),r.join("")}function hF(n,e){e||(e={}),n.SSF||(n.SSF=Ei(kn)),n.SSF&&(qg(),Gg(n.SSF),e.revssf=Wg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(eF(n,e)),t.push(tF()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(ke("Worksheet",uF(r,e,n),{"ss:Name":nn(n.SheetNames[r])}));return t[2]=nF(n,e),t[3]=rF(n),Qn+ke("Workbook",t.join(""),{xmlns:Bi.ss,"xmlns:o":Bi.o,"xmlns:x":Bi.x,"xmlns:ss":Bi.ss,"xmlns:dt":Bi.dt,"xmlns:html":Bi.html})}var D1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function fF(n,e){var t=[],r=[],i=[],a=0,l,u=qb(iw,"n"),h=qb(sw,"n");if(n.Props)for(l=jr(n.Props),a=0;a<l.length;++a)(Object.prototype.hasOwnProperty.call(u,l[a])?t:Object.prototype.hasOwnProperty.call(h,l[a])?r:i).push([l[a],n.Props[l[a]]]);if(n.Custprops)for(l=jr(n.Custprops),a=0;a<l.length;++a)Object.prototype.hasOwnProperty.call(n.Props||{},l[a])||(Object.prototype.hasOwnProperty.call(u,l[a])?t:Object.prototype.hasOwnProperty.call(h,l[a])?r:i).push([l[a],n.Custprops[l[a]]]);var d=[];for(a=0;a<i.length;++a)VA.indexOf(i[a][0])>-1||PA.indexOf(i[a][0])>-1||i[a][1]!=null&&d.push(i[a]);r.length&&un.utils.cfb_add(e,"/SummaryInformation",uw(r,D1.SI,h,sw)),(t.length||d.length)&&un.utils.cfb_add(e,"/DocumentSummaryInformation",uw(t,D1.DSI,u,iw,d.length?d:null,D1.UDI))}function dF(n,e){var t=e||{},r=un.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return un.utils.cfb_add(r,i,m4(n,t)),t.biff==8&&(n.Props||n.Custprops)&&fF(n,r),t.biff==8&&n.vbaraw&&D5(r,un.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var gF={0:{f:xL},1:{f:SL},2:{f:qL},3:{f:kL},4:{f:NL},5:{f:UL},6:{f:$L},7:{f:FL},8:{f:r8},9:{f:n8},10:{f:e8},11:{f:t8},12:{f:CL},13:{f:KL},14:{f:PL},15:{f:DL},16:{f:HL},17:{f:ZL},18:{f:jL},19:{f:a_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:z8},40:{},42:{},43:{f:$6},44:{f:X6},45:{f:J6},46:{f:t5},47:{f:e5},48:{},49:{f:CM},50:{},51:{f:x5},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:R6},62:{f:YL},63:{f:w5},64:{f:v8},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ha,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:m8},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:wL},148:{f:yL,p:16},151:{f:c8},152:{},153:{f:B8},154:{},155:{},156:{f:V8},157:{},158:{},159:{T:1,f:V6},160:{T:-1},161:{T:1,f:gc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:i8},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:m5},336:{T:-1},337:{f:y5,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:sx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:b6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:u8},427:{f:h8},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:d8},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:bL},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:o8},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:sx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:R5},633:{T:1},634:{T:-1},635:{T:1,f:A5},636:{T:-1},637:{f:DM},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:O8},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:y8},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Le(n,e,t,r){var i=e;if(!isNaN(i)){var a=r||(t||[]).length||0,l=n.next(4);l.write_shift(2,i),l.write_shift(2,a),a>0&&r_(t)&&n.push(t)}}function mF(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return Le(n,e,t,i);var a=e;if(!isNaN(a)){for(var l=t.parts||[],u=0,h=0,d=0;d+(l[u]||8224)<=8224;)d+=l[u]||8224,u++;var m=n.next(4);for(m.write_shift(2,a),m.write_shift(2,d),n.push(t.slice(h,h+d)),h+=d;h<i;){for(m=n.next(4),m.write_shift(2,60),d=0;d+(l[u]||8224)<=8224;)d+=l[u]||8224,u++;m.write_shift(2,d),n.push(t.slice(h,h+d)),h+=d}}}function Gf(n,e,t){return n||(n=_e(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function pF(n,e,t,r){var i=_e(9);return Gf(i,n,e),BA(t,r||"b",i),i}function xF(n,e,t){var r=_e(8+2*t.length);return Gf(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function _F(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?wi(si(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Le(n,2,O6(t,r,i)):Le(n,3,D6(t,r,i));return;case"b":case"e":Le(n,5,pF(t,r,e.v,e.t));return;case"s":case"str":Le(n,4,xF(t,r,(e.v||"").slice(0,255)));return}Le(n,1,Gf(null,t,r))}function vF(n,e,t,r){var i=Array.isArray(e),a=wn(e["!ref"]||"A1"),l,u="",h=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),l=Yn(a)}for(var d=a.s.r;d<=a.e.r;++d){u=Vr(d);for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(h[m]=Yr(m)),l=h[m]+u;var x=i?(e[d]||[])[m]:e[l];x&&_F(n,x,d,m)}}}function yF(n,e){for(var t=e||{},r=Ti(),i=0,a=0;a<n.SheetNames.length;++a)n.SheetNames[a]==t.sheet&&(i=a);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Le(r,t.biff==4?1033:t.biff==3?521:9,c_(n,16,t)),vF(r,n.Sheets[n.SheetNames[i]],i,t),Le(r,10),r.end()}function TF(n,e,t){Le(n,49,g6({sz:12,name:"Arial"},t))}function bF(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Le(n,1054,x6(i,e[i],t))})}function wF(n,e){var t=_e(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Le(n,2151,t),t=_e(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),HA(wn(e["!ref"]||"A1"),t),t.write_shift(4,4),Le(n,2152,t)}function EF(n,e){for(var t=0;t<16;++t)Le(n,224,fw({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Le(n,224,fw(r,0,e))})}function SF(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Le(n,440,S6(r)),r[1].Tooltip&&Le(n,2048,A6(r))}delete e["!links"]}function AF(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&Le(n,125,N6($g(i,r),i))})}}function CF(n,e,t,r,i){var a=16+ul(i.cellXfs,e,i);if(e.v==null&&!e.bf){Le(n,513,rc(t,r,a));return}if(e.bf)Le(n,6,QP(e,t,r,i,a));else switch(e.t){case"d":case"n":var l=e.t=="d"?wi(si(e.v)):e.v;Le(n,515,T6(t,r,l,a));break;case"b":case"e":Le(n,517,y6(t,r,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var u=g_(i.Strings,e.v,i.revStrings);Le(n,253,m6(t,r,u,a))}else Le(n,516,p6(t,r,(e.v||"").slice(0,255),a,i));break;default:Le(n,513,rc(t,r,a))}}function RF(n,e,t){var r=Ti(),i=t.SheetNames[n],a=t.Sheets[i]||{},l=(t||{}).Workbook||{},u=(l.Sheets||[])[n]||{},h=Array.isArray(a),d=e.biff==8,m,x="",v=[],T=wn(a["!ref"]||"A1"),E=d?65536:16384;if(T.e.c>255||T.e.r>=E){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");T.e.c=Math.min(T.e.c,255),T.e.r=Math.min(T.e.c,E-1)}Le(r,2057,c_(t,16,e)),Le(r,13,us(1)),Le(r,12,us(100)),Le(r,15,ii(!0)),Le(r,17,ii(!1)),Le(r,16,nc(.001)),Le(r,95,ii(!0)),Le(r,42,ii(!1)),Le(r,43,ii(!1)),Le(r,130,us(1)),Le(r,128,v6()),Le(r,131,ii(!1)),Le(r,132,ii(!1)),d&&AF(r,a["!cols"]),Le(r,512,_6(T,e)),d&&(a["!links"]=[]);for(var w=T.s.r;w<=T.e.r;++w){x=Vr(w);for(var S=T.s.c;S<=T.e.c;++S){w===T.s.r&&(v[S]=Yr(S)),m=v[S]+x;var F=h?(a[w]||[])[S]:a[m];F&&(CF(r,F,w,S,e),d&&F.l&&a["!links"].push([m,F.l]))}}var z=u.CodeName||u.name||i;return d&&Le(r,574,d6((l.Views||[])[0])),d&&(a["!merges"]||[]).length&&Le(r,229,E6(a["!merges"])),d&&SF(r,a),Le(r,442,zA(z)),d&&wF(r,a),Le(r,10),r.end()}function NF(n,e,t){var r=Ti(),i=(n||{}).Workbook||{},a=i.Sheets||[],l=i.WBProps||{},u=t.biff==8,h=t.biff==5;if(Le(r,2057,c_(n,5,t)),t.bookType=="xla"&&Le(r,135),Le(r,225,u?us(1200):null),Le(r,193,e6(2)),h&&Le(r,191),h&&Le(r,192),Le(r,226),Le(r,92,c6("SheetJS",t)),Le(r,66,us(u?1200:1252)),u&&Le(r,353,us(0)),u&&Le(r,448),Le(r,317,I6(n.SheetNames.length)),u&&n.vbaraw&&Le(r,211),u&&n.vbaraw){var d=l.CodeName||"ThisWorkbook";Le(r,442,zA(d))}Le(r,156,us(17)),Le(r,25,ii(!1)),Le(r,18,ii(!1)),Le(r,19,us(0)),u&&Le(r,431,ii(!1)),u&&Le(r,444,us(0)),Le(r,61,f6()),Le(r,64,ii(!1)),Le(r,141,us(0)),Le(r,34,ii(M8(n)=="true")),Le(r,14,ii(!0)),u&&Le(r,439,ii(!1)),Le(r,218,us(0)),TF(r,n,t),bF(r,n.SSF,t),EF(r,t),u&&Le(r,352,ii(!1));var m=r.end(),x=Ti();u&&Le(x,140,C6()),u&&t.Strings&&mF(x,252,h6(t.Strings)),Le(x,10);var v=x.end(),T=Ti(),E=0,w=0;for(w=0;w<n.SheetNames.length;++w)E+=(u?12:11)+(u?2:1)*n.SheetNames[w].length;var S=m.length+E+v.length;for(w=0;w<n.SheetNames.length;++w){var F=a[w]||{};Le(T,133,u6({pos:S,hs:F.Hidden||0,dt:0,name:n.SheetNames[w]},t)),S+=e[w].length}var z=T.end();if(E!=z.length)throw new Error("BS8 "+E+" != "+z.length);var H=[];return m.length&&H.push(m),z.length&&H.push(z),v.length&&H.push(v),Pr(H)}function IF(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=Ei(kn)),n&&n.SSF&&(qg(),Gg(n.SSF),t.revssf=Wg(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,m_(t),t.cellXfs=[],ul(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=RF(i,t,n);return r.unshift(NF(n,r,t)),Pr(r)}function m4(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Hi(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return IF(n,e);case 4:case 3:case 2:return yF(n,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function DF(n,e,t,r){for(var i=n["!merges"]||[],a=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,h=0,d=0;d<i.length;++d)if(!(i[d].s.r>t||i[d].s.c>l)&&!(i[d].e.r<t||i[d].e.c<l)){if(i[d].s.r<t||i[d].s.c<l){u=-1;break}u=i[d].e.r-i[d].s.r+1,h=i[d].e.c-i[d].s.c+1;break}if(!(u<0)){var m=rn({r:t,c:l}),x=r.dense?(n[t]||[])[l]:n[m],v=x&&x.v!=null&&(x.h||lM(x.w||(Ya(x),x.w)||""))||"",T={};u>1&&(T.rowspan=u),h>1&&(T.colspan=h),r.editable?v='<span contenteditable="true">'+v+"</span>":x&&(T["data-t"]=x&&x.t||"z",x.v!=null&&(T["data-v"]=x.v),x.z!=null&&(T["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+x.l.Target+'">'+v+"</a>")),T.id=(r.id||"sjs")+"-"+m,a.push(ke("td",v,T))}}var E="<tr>";return E+a.join("")+"</tr>"}var OF='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',kF="</body></html>";function MF(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function p4(n,e){var t=e||{},r=t.header!=null?t.header:OF,i=t.footer!=null?t.footer:kF,a=[r],l=Hi(n["!ref"]);t.dense=Array.isArray(n),a.push(MF(n,l,t));for(var u=l.s.r;u<=l.e.r;++u)a.push(DF(n,l,u,t));return a.push("</table>"+i),a.join("")}function x4(n,e,t){var r=t||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?yr(r.origin):r.origin;i=l.r,a=l.c}var u=e.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,u.length),d={s:{r:0,c:0},e:{r:i,c:a}};if(n["!ref"]){var m=Hi(n["!ref"]);d.s.r=Math.min(d.s.r,m.s.r),d.s.c=Math.min(d.s.c,m.s.c),d.e.r=Math.max(d.e.r,m.e.r),d.e.c=Math.max(d.e.c,m.e.c),i==-1&&(d.e.r=i=m.e.r+1)}var x=[],v=0,T=n["!rows"]||(n["!rows"]=[]),E=0,w=0,S=0,F=0,z=0,H=0;for(n["!cols"]||(n["!cols"]=[]);E<u.length&&w<h;++E){var Y=u[E];if(vw(Y)){if(r.display)continue;T[w]={hidden:!0}}var te=Y.children;for(S=F=0;S<te.length;++S){var he=te[S];if(!(r.display&&vw(he))){var D=he.hasAttribute("data-v")?he.getAttribute("data-v"):he.hasAttribute("v")?he.getAttribute("v"):fM(he.innerHTML),I=he.getAttribute("data-z")||he.getAttribute("z");for(v=0;v<x.length;++v){var R=x[v];R.s.c==F+a&&R.s.r<w+i&&w+i<=R.e.r&&(F=R.e.c+1-a,v=-1)}H=+he.getAttribute("colspan")||1,((z=+he.getAttribute("rowspan")||1)>1||H>1)&&x.push({s:{r:w+i,c:F+a},e:{r:w+i+(z||1)-1,c:F+a+(H||1)-1}});var L={t:"s",v:D},V=he.getAttribute("data-t")||he.getAttribute("t")||"";D!=null&&(D.length==0?L.t=V||"z":r.raw||D.trim().length==0||V=="s"||(D==="TRUE"?L={t:"b",v:!0}:D==="FALSE"?L={t:"b",v:!1}:isNaN(qa(D))?isNaN(wf(D).getDate())||(L={t:"d",v:si(D)},r.cellDates||(L={t:"n",v:wi(L.v)}),L.z=r.dateNF||kn[14]):L={t:"n",v:qa(D)})),L.z===void 0&&I!=null&&(L.z=I);var B="",P=he.getElementsByTagName("A");if(P&&P.length)for(var Qe=0;Qe<P.length&&!(P[Qe].hasAttribute("href")&&(B=P[Qe].getAttribute("href"),B.charAt(0)!="#"));++Qe);B&&B.charAt(0)!="#"&&(L.l={Target:B}),r.dense?(n[w+i]||(n[w+i]=[]),n[w+i][F+a]=L):n[rn({c:F+a,r:w+i})]=L,d.e.c<F+a&&(d.e.c=F+a),F+=H}}++w}return x.length&&(n["!merges"]=(n["!merges"]||[]).concat(x)),d.e.r=Math.max(d.e.r,w-1+i),n["!ref"]=Yn(d),w>=h&&(n["!fullref"]=Yn((d.e.r=u.length-E+w-1+i,d))),n}function _4(n,e){var t=e||{},r=t.dense?[]:{};return x4(r,n,e)}function PF(n,e){return uc(_4(n,e),e)}function vw(n){var e="",t=LF(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function LF(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var FF=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Sf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Qn+e}}(),yw=function(){var n=function(a){return nn(a).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(a,l,u){var h=[];h.push('      <table:table table:name="'+nn(l.SheetNames[u])+`" table:style-name="ta1">
`);var d=0,m=0,x=Hi(a["!ref"]||"A1"),v=a["!merges"]||[],T=0,E=Array.isArray(a);if(a["!cols"])for(m=0;m<=x.e.c;++m)h.push("        <table:table-column"+(a["!cols"][m]?' table:style-name="co'+a["!cols"][m].ods+'"':"")+`></table:table-column>
`);var w="",S=a["!rows"]||[];for(d=0;d<x.s.r;++d)w=S[d]?' table:style-name="ro'+S[d].ods+'"':"",h.push("        <table:table-row"+w+`></table:table-row>
`);for(;d<=x.e.r;++d){for(w=S[d]?' table:style-name="ro'+S[d].ods+'"':"",h.push("        <table:table-row"+w+`>
`),m=0;m<x.s.c;++m)h.push(e);for(;m<=x.e.c;++m){var F=!1,z={},H="";for(T=0;T!=v.length;++T)if(!(v[T].s.c>m)&&!(v[T].s.r>d)&&!(v[T].e.c<m)&&!(v[T].e.r<d)){(v[T].s.c!=m||v[T].s.r!=d)&&(F=!0),z["table:number-columns-spanned"]=v[T].e.c-v[T].s.c+1,z["table:number-rows-spanned"]=v[T].e.r-v[T].s.r+1;break}if(F){h.push(t);continue}var Y=rn({r:d,c:m}),te=E?(a[d]||[])[m]:a[Y];if(te&&te.f&&(z["table:formula"]=nn(rL(te.f)),te.F&&te.F.slice(0,Y.length)==Y)){var he=Hi(te.F);z["table:number-matrix-columns-spanned"]=he.e.c-he.s.c+1,z["table:number-matrix-rows-spanned"]=he.e.r-he.s.r+1}if(!te){h.push(e);continue}switch(te.t){case"b":H=te.v?"TRUE":"FALSE",z["office:value-type"]="boolean",z["office:boolean-value"]=te.v?"true":"false";break;case"n":H=te.w||String(te.v||0),z["office:value-type"]="float",z["office:value"]=te.v||0;break;case"s":case"str":H=te.v==null?"":te.v,z["office:value-type"]="string";break;case"d":H=te.w||si(te.v).toISOString(),z["office:value-type"]="date",z["office:date-value"]=si(te.v).toISOString(),z["table:style-name"]="ce1";break;default:h.push(e);continue}var D=n(H);if(te.l&&te.l.Target){var I=te.l.Target;I=I.charAt(0)=="#"?"#"+iL(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),D=ke("text:a",D,{"xlink:href":I.replace(/&/g,"&amp;")})}h.push("          "+ke("table:table-cell",ke("text:p",D,{}),z)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},i=function(a,l){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var m=0;m<d["!cols"].length;++m)if(d["!cols"][m]){var x=d["!cols"][m];if(x.width==null&&x.wpx==null&&x.wch==null)continue;u_(x),x.ods=u;var v=d["!cols"][m].wpx+"px";a.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),a.push(`  </style:style>
`),++u}}});var h=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var m=0;m<d["!rows"].length;++m)if(d["!rows"][m]){d["!rows"][m].ods=h;var x=d["!rows"][m].hpx+"px";a.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),a.push(`  </style:style>
`),++h}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(l,u){var h=[Qn],d=Sf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Sf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(h.push("<office:document"+d+m+`>
`),h.push(kA().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+d+`>
`),i(h,l),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)h.push(r(l.Sheets[l.SheetNames[x]],l,x));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),u.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}}();function v4(n,e){if(e.bookType=="fods")return yw(n,e);var t=Jx(),r="",i=[],a=[];return r="mimetype",_t(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",_t(t,r,yw(n,e)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",_t(t,r,FF(n,e)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",_t(t,r,Qn+kA()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",_t(t,r,YM(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",_t(t,r,KM(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function _g(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function VF(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Os(Ef(n))}function jF(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function nl(n){var e=n.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function BF(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)n[e+a]=i&255;n[e+15]|=t>=0?0:128}function Af(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Jt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function xu(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function ir(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Af(n,t),a=i&7;i=Math.floor(i/8);var l=0,u;if(i==0)break;switch(a){case 0:{for(var h=t[0];n[t[0]++]>=128;);u=n.slice(h,t[0])}break;case 5:l=4,u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=Af(n,t),u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var d={data:u,type:a};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Or(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Jt(r*8+i.type)),i.type==2&&e.push(Jt(i.data.length)),e.push(i.data))})}),nl(e)}function Ns(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Af(n,r),a=ir(n.slice(r[0],r[0]+i));r[0]+=i;var l={id:xu(a[1][0].data),messages:[]};a[2].forEach(function(u){var h=ir(u.data),d=xu(h[3][0].data);l.messages.push({meta:h,data:n.slice(r[0],r[0]+d)}),r[0]+=d}),(e=a[3])!=null&&e[0]&&(l.merge=xu(a[3][0].data)>>>0>0),t.push(l)}return t}function tu(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Jt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Jt(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:Jt(l.data.length)}],r[2].push({data:Or(l.meta),type:2})});var a=Or(r);e.push(Jt(a.length)),e.push(a),i.forEach(function(l){return e.push(l)})}),nl(e)}function UF(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Af(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[t[0]],u>1&&(l|=e[t[0]+1]<<8),u>2&&(l|=e[t[0]+2]<<16),u>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=u}i.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var h=0,d=0;if(a==1?(d=(e[t[0]]>>2&7)+4,h=(e[t[0]++]&224)<<3,h|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,a==2?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[nl(i)],h==0)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(i.push(i[0].slice(-h)),d-=h;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-h,-h+d))}}var m=nl(i);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function Is(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(UF(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return nl(e)}function nu(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var a=Jt(r),l=a.length;e.push(a),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),l+=r,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,t+=r}return nl(e)}function O1(n,e){var t=new Uint8Array(32),r=_g(t),i=12,a=0;switch(t[0]=5,n.t){case"n":t[1]=2,BF(t,i,n.v),a|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,a,!0),t.slice(0,i)}function k1(n,e){var t=new Uint8Array(32),r=_g(t),i=12,a=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),a|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,a,!0),t.slice(0,i)}function Do(n){var e=ir(n);return Af(e[1][0].data)}function zF(n,e,t){var r,i,a,l;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(a=n[8])==null?void 0:a[0])==null?void 0:l.data)&&xu(n[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var h=0,d=_g(n[7][0].data),m=0,x=[],v=_g(n[4][0].data),T=0,E=[],w=0;w<e.length;++w){if(e[w]==null){d.setUint16(w*2,65535,!0),v.setUint16(w*2,65535);continue}d.setUint16(w*2,m,!0),v.setUint16(w*2,T,!0);var S,F;switch(typeof e[w]){case"string":S=O1({t:"s",v:e[w]},t),F=k1({t:"s",v:e[w]},t);break;case"number":S=O1({t:"n",v:e[w]},t),F=k1({t:"n",v:e[w]},t);break;case"boolean":S=O1({t:"b",v:e[w]},t),F=k1({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}x.push(S),m+=S.length,E.push(F),T+=F.length,++h}for(n[2][0].data=Jt(h);w<n[7][0].data.length/2;++w)d.setUint16(w*2,65535,!0),v.setUint16(w*2,65535,!0);return n[6][0].data=nl(x),n[3][0].data=nl(E),h}function HF(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Hi(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Yn(r)));var a=vg(t,{range:r,header:1}),l=["~Sh33tJ5~"];a.forEach(function(ee){return ee.forEach(function(Z){typeof Z=="string"&&l.push(Z)})});var u={},h=[],d=un.read(e.numbers,{type:"base64"});d.FileIndex.map(function(ee,Z){return[ee,d.FullPaths[Z]]}).forEach(function(ee){var Z=ee[0],Q=ee[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var ve=Z.content,ze=Is(ve),Ke=Ns(ze);Ke.forEach(function(Ue){h.push(Ue.id),u[Ue.id]={deps:[],location:Q,type:xu(Ue.messages[0].meta[1][0].data)}})}}),h.sort(function(ee,Z){return ee-Z});var m=h.filter(function(ee){return ee>1}).map(function(ee){return[ee,Jt(ee)]});d.FileIndex.map(function(ee,Z){return[ee,d.FullPaths[Z]]}).forEach(function(ee){var Z=ee[0];if(ee[1],!!Z.name.match(/\.iwa/)){var Q=Ns(Is(Z.content));Q.forEach(function(ve){ve.messages.forEach(function(ze){m.forEach(function(Ke){ve.messages.some(function(Ue){return xu(Ue.meta[1][0].data)!=11006&&jF(Ue.data,Ke[1])})&&u[Ke[0]].deps.push(ve.id)})})})}});for(var x=un.find(d,u[1].location),v=Ns(Is(x.content)),T,E=0;E<v.length;++E){var w=v[E];w.id==1&&(T=w)}var S=Do(ir(T.messages[0].data)[1][0].data);for(x=un.find(d,u[S].location),v=Ns(Is(x.content)),E=0;E<v.length;++E)w=v[E],w.id==S&&(T=w);for(S=Do(ir(T.messages[0].data)[2][0].data),x=un.find(d,u[S].location),v=Ns(Is(x.content)),E=0;E<v.length;++E)w=v[E],w.id==S&&(T=w);for(S=Do(ir(T.messages[0].data)[2][0].data),x=un.find(d,u[S].location),v=Ns(Is(x.content)),E=0;E<v.length;++E)w=v[E],w.id==S&&(T=w);var F=ir(T.messages[0].data);{F[6][0].data=Jt(r.e.r+1),F[7][0].data=Jt(r.e.c+1);var z=Do(F[46][0].data),H=un.find(d,u[z].location),Y=Ns(Is(H.content));{for(var te=0;te<Y.length&&Y[te].id!=z;++te);if(Y[te].id!=z)throw"Bad ColumnRowUIDMapArchive";var he=ir(Y[te].messages[0].data);he[1]=[],he[2]=[],he[3]=[];for(var D=0;D<=r.e.c;++D){var I=[];I[1]=I[2]=[{type:0,data:Jt(D+420690)}],he[1].push({type:2,data:Or(I)}),he[2].push({type:0,data:Jt(D)}),he[3].push({type:0,data:Jt(D)})}he[4]=[],he[5]=[],he[6]=[];for(var R=0;R<=r.e.r;++R)I=[],I[1]=I[2]=[{type:0,data:Jt(R+726270)}],he[4].push({type:2,data:Or(I)}),he[5].push({type:0,data:Jt(R)}),he[6].push({type:0,data:Jt(R)});Y[te].messages[0].data=Or(he)}H.content=nu(tu(Y)),H.size=H.content.length,delete F[46];var L=ir(F[4][0].data);{L[7][0].data=Jt(r.e.r+1);var V=ir(L[1][0].data),B=Do(V[2][0].data);H=un.find(d,u[B].location),Y=Ns(Is(H.content));{if(Y[0].id!=B)throw"Bad HeaderStorageBucket";var P=ir(Y[0].messages[0].data);for(R=0;R<a.length;++R){var Qe=ir(P[2][0].data);Qe[1][0].data=Jt(R),Qe[4][0].data=Jt(a[R].length),P[2][R]={type:P[2][0].type,data:Or(Qe)}}Y[0].messages[0].data=Or(P)}H.content=nu(tu(Y)),H.size=H.content.length;var Ie=Do(L[2][0].data);H=un.find(d,u[Ie].location),Y=Ns(Is(H.content));{if(Y[0].id!=Ie)throw"Bad HeaderStorageBucket";for(P=ir(Y[0].messages[0].data),D=0;D<=r.e.c;++D)Qe=ir(P[2][0].data),Qe[1][0].data=Jt(D),Qe[4][0].data=Jt(r.e.r+1),P[2][D]={type:P[2][0].type,data:Or(Qe)};Y[0].messages[0].data=Or(P)}H.content=nu(tu(Y)),H.size=H.content.length;var oe=Do(L[4][0].data);(function(){for(var ee=un.find(d,u[oe].location),Z=Ns(Is(ee.content)),Q,ve=0;ve<Z.length;++ve){var ze=Z[ve];ze.id==oe&&(Q=ze)}var Ke=ir(Q.messages[0].data);{Ke[3]=[];var Ue=[];l.forEach(function(ht,sn){Ue[1]=[{type:0,data:Jt(sn)}],Ue[2]=[{type:0,data:Jt(1)}],Ue[3]=[{type:2,data:VF(ht)}],Ke[3].push({type:2,data:Or(Ue)})})}Q.messages[0].data=Or(Ke);var Me=tu(Z),xt=nu(Me);ee.content=xt,ee.size=ee.content.length})();var pe=ir(L[3][0].data);{var je=pe[1][0];delete pe[2];var qe=ir(je.data);{var st=Do(qe[2][0].data);(function(){for(var ee=un.find(d,u[st].location),Z=Ns(Is(ee.content)),Q,ve=0;ve<Z.length;++ve){var ze=Z[ve];ze.id==st&&(Q=ze)}var Ke=ir(Q.messages[0].data);{delete Ke[6],delete pe[7];var Ue=new Uint8Array(Ke[5][0].data);Ke[5]=[];for(var Me=0,xt=0;xt<=r.e.r;++xt){var ht=ir(Ue);Me+=zF(ht,a[xt],l),ht[1][0].data=Jt(xt),Ke[5].push({data:Or(ht),type:2})}Ke[1]=[{type:0,data:Jt(r.e.c+1)}],Ke[2]=[{type:0,data:Jt(r.e.r+1)}],Ke[3]=[{type:0,data:Jt(Me)}],Ke[4]=[{type:0,data:Jt(r.e.r+1)}]}Q.messages[0].data=Or(Ke);var sn=tu(Z),Je=nu(sn);ee.content=Je,ee.size=ee.content.length})()}je.data=Or(qe)}L[3][0].data=Or(pe)}F[4][0].data=Or(L)}T.messages[0].data=Or(F);var dt=tu(v),K=nu(dt);return x.content=K,x.size=x.content.length,d}function GF(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function m_(n){GF([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function qF(n,e){return e.bookType=="ods"?v4(n,e):e.bookType=="numbers"?HF(n,e):e.bookType=="xlsb"?WF(n,e):KF(n,e)}function WF(n,e){cu=1024,n&&!n.SSF&&(n.SSF=Ei(kn)),n&&n.SSF&&(qg(),Gg(n.SSF),e.revssf=Wg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,uf?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=t4.indexOf(e.bookType)>-1,i=IA();m_(e=e||{});var a=Jx(),l="",u=0;if(e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",_t(a,l,MA(n.Props,e)),i.coreprops.push(l),en(e.rels,2,l,zt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(n.SheetNames[d]);n.Props.SheetNames=h}for(n.Props.Worksheets=n.Props.SheetNames.length,_t(a,l,LA(n.Props)),i.extprops.push(l),en(e.rels,3,l,zt.EXT_PROPS),n.Custprops!==n.Props&&jr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",_t(a,l,FA(n.Custprops)),i.custprops.push(l),en(e.rels,4,l,zt.CUST_PROPS)),u=1;u<=n.SheetNames.length;++u){var m={"!id":{}},x=n.Sheets[n.SheetNames[u-1]],v=(x||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,_t(a,l,Y8(u-1,l,e,n,m)),i.sheets.push(l),en(e.wbrels,-1,"worksheets/sheet"+u+"."+t,zt.WS[0])}if(x){var T=x["!comments"],E=!1,w="";T&&T.length>0&&(w="xl/comments"+u+"."+t,_t(a,w,Z8(T,w)),i.comments.push(w),en(m,-1,"../comments"+u+"."+t,zt.CMNT),E=!0),x["!legacy"]&&E&&_t(a,"xl/drawings/vmlDrawing"+u+".vml",JA(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&_t(a,OA(l),mu(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,_t(a,l,Q8(e.Strings,l,e)),i.strs.push(l),en(e.wbrels,-1,"sharedStrings."+t,zt.SST)),l="xl/workbook."+t,_t(a,l,X8(n,l)),i.workbooks.push(l),en(e.rels,1,l,zt.WB),l="xl/theme/theme1.xml",_t(a,l,QA(n.Themes,e)),i.themes.push(l),en(e.wbrels,-1,"theme/theme1.xml",zt.THEME),l="xl/styles."+t,_t(a,l,$8(n,l,e)),i.styles.push(l),en(e.wbrels,-1,"styles."+t,zt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",_t(a,l,n.vbaraw),i.vba.push(l),en(e.wbrels,-1,"vbaProject.bin",zt.VBA)),l="xl/metadata."+t,_t(a,l,J8(l)),i.metadata.push(l),en(e.wbrels,-1,"metadata."+t,zt.XLMETA),_t(a,"[Content_Types].xml",DA(i,e)),_t(a,"_rels/.rels",mu(e.rels)),_t(a,"xl/_rels/workbook."+t+".rels",mu(e.wbrels)),delete e.revssf,delete e.ssf,a}function KF(n,e){cu=1024,n&&!n.SSF&&(n.SSF=Ei(kn)),n&&n.SSF&&(qg(),Gg(n.SSF),e.revssf=Wg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,uf?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=t4.indexOf(e.bookType)>-1,i=IA();m_(e=e||{});var a=Jx(),l="",u=0;if(e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",_t(a,l,MA(n.Props,e)),i.coreprops.push(l),en(e.rels,2,l,zt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(n.SheetNames[d]);n.Props.SheetNames=h}n.Props.Worksheets=n.Props.SheetNames.length,_t(a,l,LA(n.Props)),i.extprops.push(l),en(e.rels,3,l,zt.EXT_PROPS),n.Custprops!==n.Props&&jr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",_t(a,l,FA(n.Custprops)),i.custprops.push(l),en(e.rels,4,l,zt.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,u=1;u<=n.SheetNames.length;++u){var x={"!id":{}},v=n.Sheets[n.SheetNames[u-1]],T=(v||{})["!type"]||"sheet";switch(T){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,_t(a,l,u4(u-1,e,n,x)),i.sheets.push(l),en(e.wbrels,-1,"worksheets/sheet"+u+"."+t,zt.WS[0])}if(v){var E=v["!comments"],w=!1,S="";if(E&&E.length>0){var F=!1;E.forEach(function(z){z[1].forEach(function(H){H.T==!0&&(F=!0)})}),F&&(S="xl/threadedComments/threadedComment"+u+"."+t,_t(a,S,E5(E,m,e)),i.threadedcomments.push(S),en(x,-1,"../threadedComments/threadedComment"+u+"."+t,zt.TCMNT)),S="xl/comments"+u+"."+t,_t(a,S,e4(E)),i.comments.push(S),en(x,-1,"../comments"+u+"."+t,zt.CMNT),w=!0}v["!legacy"]&&w&&_t(a,"xl/drawings/vmlDrawing"+u+".vml",JA(u,v["!comments"])),delete v["!comments"],delete v["!legacy"]}x["!id"].rId1&&_t(a,OA(l),mu(x))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,_t(a,l,qA(e.Strings,e)),i.strs.push(l),en(e.wbrels,-1,"sharedStrings."+t,zt.SST)),l="xl/workbook."+t,_t(a,l,d4(n)),i.workbooks.push(l),en(e.rels,1,l,zt.WB),l="xl/theme/theme1.xml",_t(a,l,QA(n.Themes,e)),i.themes.push(l),en(e.wbrels,-1,"theme/theme1.xml",zt.THEME),l="xl/styles."+t,_t(a,l,YA(n,e)),i.styles.push(l),en(e.wbrels,-1,"styles."+t,zt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",_t(a,l,n.vbaraw),i.vba.push(l),en(e.wbrels,-1,"vbaProject.bin",zt.VBA)),l="xl/metadata."+t,_t(a,l,ZA()),i.metadata.push(l),en(e.wbrels,-1,"metadata."+t,zt.XLMETA),m.length>1&&(l="xl/persons/person.xml",_t(a,l,S5(m)),i.people.push(l),en(e.wbrels,-1,"persons/person.xml",zt.PEOPLE)),_t(a,"[Content_Types].xml",DA(i,e)),_t(a,"_rels/.rels",mu(e.rels)),_t(a,"xl/_rels/workbook."+t+".rels",mu(e.wbrels)),delete e.revssf,delete e.ssf,a}function XF(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Xa(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function y4(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Bf(e.file,un.write(n,{type:Gt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return un.write(n,e)}function YF(n,e){var t=Ei(e||{}),r=qF(n,t);return $F(r,t)}function $F(n,e){var t={},r=Gt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?un.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Hg(i))}return e.password&&typeof encrypt_agile<"u"?y4(encrypt_agile(i,e.password),e):e.type==="file"?Bf(e.file,i):e.type=="string"?af(i):i}function QF(n,e){var t=e||{},r=dF(n,t);return y4(r,t)}function ta(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return bf(Ef(r));case"binary":return Ef(r);case"string":return n;case"file":return Bf(e.file,r,"utf8");case"buffer":return Gt?eo(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):ta(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ZF(n,e){switch(e.type){case"base64":return bf(n);case"binary":return n;case"string":return n;case"file":return Bf(e.file,n,"binary");case"buffer":return Gt?eo(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function S0(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?bf(t):e.type=="string"?af(t):t;case"file":return Bf(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function T4(n,e){Ak(),F8(n);var t=Ei(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=T4(n,t);return t.type="array",Hg(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return ta(hF(n,t),t);case"slk":case"sylk":return ta(M6.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return ta(p4(n.Sheets[n.SheetNames[i]],t),t);case"txt":return ZF(b4(n.Sheets[n.SheetNames[i]],t),t);case"csv":return ta(p_(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return ta(P6.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return S0(k6.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return ta(L6.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return ta(H6.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return ta(GA.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return ta(v4(n,t),t);case"wk1":return S0(dw.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return S0(dw.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),S0(m4(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),QF(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return YF(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function JF(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function e9(n,e,t){var r={};return r.type="file",r.file=e,JF(r),T4(n,r)}function t9(n,e,t,r,i,a,l,u){var h=Vr(t),d=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,v=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:t,enumerable:!1})}catch{v.__rowNum__=t}else v.__rowNum__=t;if(!l||n[t])for(var T=e.s.c;T<=e.e.c;++T){var E=l?n[t][T]:n[r[T]+h];if(E===void 0||E.t===void 0){if(d===void 0)continue;a[T]!=null&&(v[a[T]]=d);continue}var w=E.v;switch(E.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(a[T]!=null){if(w==null)if(E.t=="e"&&w===null)v[a[T]]=null;else if(d!==void 0)v[a[T]]=d;else if(m&&w===null)v[a[T]]=null;else continue;else v[a[T]]=m&&(E.t!=="n"||E.t==="n"&&u.rawNumbers!==!1)?w:Ya(E,w,u);w!=null&&(x=!1)}}return{row:v,isempty:x}}function vg(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,a=[],l=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},m=d.range!=null?d.range:n["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof m){case"string":h=wn(m);break;case"number":h=wn(n["!ref"]),h.s.r=m;break;default:h=m}r>0&&(i=0);var x=Vr(h.s.r),v=[],T=[],E=0,w=0,S=Array.isArray(n),F=h.s.r,z=0,H={};S&&!n[F]&&(n[F]=[]);var Y=d.skipHidden&&n["!cols"]||[],te=d.skipHidden&&n["!rows"]||[];for(z=h.s.c;z<=h.e.c;++z)if(!(Y[z]||{}).hidden)switch(v[z]=Yr(z),t=S?n[F][z]:n[v[z]+x],r){case 1:a[z]=z-h.s.c;break;case 2:a[z]=v[z];break;case 3:a[z]=d.header[z-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=l=Ya(t,null,d),w=H[l]||0,!w)H[l]=1;else{do u=l+"_"+w++;while(H[u]);H[l]=w,H[u]=1}a[z]=u}for(F=h.s.r+i;F<=h.e.r;++F)if(!(te[F]||{}).hidden){var he=t9(n,h,F,v,r,a,S,d);(he.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(T[E++]=he.row)}return T.length=E,T}var Tw=/"/g;function n9(n,e,t,r,i,a,l,u){for(var h=!0,d=[],m="",x=Vr(t),v=e.s.c;v<=e.e.c;++v)if(r[v]){var T=u.dense?(n[t]||[])[v]:n[r[v]+x];if(T==null)m="";else if(T.v!=null){h=!1,m=""+(u.rawNumbers&&T.t=="n"?T.v:Ya(T,null,u));for(var E=0,w=0;E!==m.length;++E)if((w=m.charCodeAt(E))===i||w===a||w===34||u.forceQuotes){m='"'+m.replace(Tw,'""')+'"';break}m=="ID"&&(m='"ID"')}else T.f!=null&&!T.F?(h=!1,m="="+T.f,m.indexOf(",")>=0&&(m='"'+m.replace(Tw,'""')+'"')):m="";d.push(m)}return u.blankrows===!1&&h?null:d.join(l)}function p_(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=wn(n["!ref"]),a=r.FS!==void 0?r.FS:",",l=a.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,h=u.charCodeAt(0),d=new RegExp((a=="|"?"\\|":a)+"+$"),m="",x=[];r.dense=Array.isArray(n);for(var v=r.skipHidden&&n["!cols"]||[],T=r.skipHidden&&n["!rows"]||[],E=i.s.c;E<=i.e.c;++E)(v[E]||{}).hidden||(x[E]=Yr(E));for(var w=0,S=i.s.r;S<=i.e.r;++S)(T[S]||{}).hidden||(m=n9(n,i,S,x,l,h,a,r),m!=null&&(r.strip&&(m=m.replace(d,"")),(m||r.blankrows!==!1)&&t.push((w++?u:"")+m)));return delete r.dense,t.join("")}function b4(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=p_(n,e);return t}function r9(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=wn(n["!ref"]),a="",l=[],u,h=[],d=Array.isArray(n);for(u=i.s.c;u<=i.e.c;++u)l[u]=Yr(u);for(var m=i.s.r;m<=i.e.r;++m)for(a=Vr(m),u=i.s.c;u<=i.e.c;++u)if(e=l[u]+a,t=d?(n[m]||[])[u]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}h[h.length]=e+"="+r}return h}function w4(n,e,t){var r=t||{},i=+!r.skipHeader,a=n||{},l=0,u=0;if(a&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var h=typeof r.origin=="string"?yr(r.origin):r.origin;l=h.r,u=h.c}var d,m={s:{c:0,r:0},e:{c:u,r:l+e.length-1+i}};if(a["!ref"]){var x=wn(a["!ref"]);m.e.c=Math.max(m.e.c,x.e.c),m.e.r=Math.max(m.e.r,x.e.r),l==-1&&(l=x.e.r+1,m.e.r=l+e.length-1+i)}else l==-1&&(l=0,m.e.r=e.length-1+i);var v=r.header||[],T=0;e.forEach(function(w,S){jr(w).forEach(function(F){(T=v.indexOf(F))==-1&&(v[T=v.length]=F);var z=w[F],H="z",Y="",te=rn({c:u+T,r:l+S+i});d=Cf(a,te),z&&typeof z=="object"&&!(z instanceof Date)?a[te]=z:(typeof z=="number"?H="n":typeof z=="boolean"?H="b":typeof z=="string"?H="s":z instanceof Date?(H="d",r.cellDates||(H="n",z=wi(z)),Y=r.dateNF||kn[14]):z===null&&r.nullError&&(H="e",z=0),d?(d.t=H,d.v=z,delete d.w,delete d.R,Y&&(d.z=Y)):a[te]=d={t:H,v:z},Y&&(d.z=Y))})}),m.e.c=Math.max(m.e.c,u+v.length-1);var E=Vr(l);if(i)for(T=0;T<v.length;++T)a[Yr(T+u)+E]={t:"s",v:v[T]};return a["!ref"]=Yn(m),a}function i9(n,e){return w4(null,n,e)}function Cf(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=yr(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Cf(n,rn(e)):Cf(n,rn({r:e,c:t||0}))}function s9(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function a9(){return{SheetNames:[],Sheets:{}}}function o9(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var l=a&&a[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=l+i)!=-1;++i);}if(f4(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function l9(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=s9(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function c9(n,e){return n.z=e,n}function E4(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function u9(n,e,t){return E4(n,"#"+e,t)}function h9(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function f9(n,e,t,r){for(var i=typeof e!="string"?e:wn(e),a=typeof e=="string"?e:Yn(e),l=i.s.r;l<=i.e.r;++l)for(var u=i.s.c;u<=i.e.c;++u){var h=Cf(n,l,u);h.t="n",h.F=a,delete h.v,l==i.s.r&&u==i.s.c&&(h.f=t,r&&(h.D=!0))}return n}var A0={encode_col:Yr,encode_row:Vr,encode_cell:rn,encode_range:Yn,decode_col:s_,decode_row:i_,split_cell:AM,decode_cell:yr,decode_range:Hi,format_cell:Ya,sheet_add_aoa:EA,sheet_add_json:w4,sheet_add_dom:x4,aoa_to_sheet:Mu,json_to_sheet:i9,table_to_sheet:_4,table_to_book:PF,sheet_to_csv:p_,sheet_to_txt:b4,sheet_to_json:vg,sheet_to_html:p4,sheet_to_formulae:r9,sheet_to_row_object_array:vg,sheet_get_cell:Cf,book_new:a9,book_append_sheet:o9,book_set_sheet_visibility:l9,cell_set_number_format:c9,cell_set_hyperlink:E4,cell_set_internal_link:u9,cell_add_comment:h9,sheet_set_array_formula:f9,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const d9=()=>{};var bw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},g9=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},A4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,d=h?n[i+2]:0,m=a>>2,x=(a&3)<<4|u>>4;let v=(u&15)<<2|d>>6,T=d&63;h||(T=64,l||(v=64)),r.push(t[m],t[x],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):g9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const x=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||d==null||x==null)throw new m9;const v=a<<2|u>>4;if(r.push(v),d!==64){const T=u<<4&240|d>>2;if(r.push(T),x!==64){const E=d<<6&192|x;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class m9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p9=function(n){const e=S4(n);return A4.encodeByteArray(e,!0)},yg=function(n){return p9(n).replace(/\./g,"")},C4=function(n){try{return A4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=()=>x9().__FIREBASE_DEFAULTS__,v9=()=>{if(typeof process>"u"||typeof bw>"u")return;const n=bw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},y9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&C4(n[1]);return e&&JSON.parse(e)},Qg=()=>{try{return d9()||_9()||v9()||y9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R4=n=>{var e,t;return(t=(e=Qg())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},T9=n=>{const e=R4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},N4=()=>{var n;return(n=Qg())==null?void 0:n.config},I4=n=>{var e;return(e=Qg())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D4(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yg(JSON.stringify(t)),yg(JSON.stringify(l)),""].join(".")}const hf={};function E9(){const n={prod:[],emulator:[]};for(const e of Object.keys(hf))hf[e]?n.emulator.push(e):n.prod.push(e);return n}function S9(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ww=!1;function O4(n,e){if(typeof window>"u"||typeof document>"u"||!Fu(window.location.host)||hf[n]===e||hf[n]||ww)return;hf[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=E9().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ww=!0,l()},v}function m(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function x(){const v=S9(r),T=t("text"),E=document.getElementById(T)||document.createElement("span"),w=t("learnmore"),S=document.getElementById(w)||document.createElement("a"),F=t("preprendIcon"),z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const H=v.element;u(H),m(S,w);const Y=d();h(z,F),H.append(z,E,S,Y),document.body.appendChild(H)}a?(E.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function C9(){var e;const n=(e=Qg())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N9(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function I9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D9(){const n=Qr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function O9(){return!C9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k9(){try{return typeof indexedDB=="object"}catch{return!1}}function M9(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="FirebaseError";class to extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=P9,Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qf.prototype.create)}}class qf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?L9(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new to(i,u,r)}}function L9(n,e){return n.replace(F9,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const F9=/\{\$([^}]+)}/g;function V9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ic(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(Ew(a)&&Ew(l)){if(!ic(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Ew(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function $h(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function j9(n,e){const t=new B9(n,e);return t.subscribe.bind(t)}class B9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");U9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=M1),i.error===void 0&&(i.error=M1),i.complete===void 0&&(i.complete=M1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function M1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(n){return n&&n._delegate?n._delegate:n}class sc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new b9;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G9(e))try{this.getOrInitializeService({instanceIdentifier:ql})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ql){return this.instances.has(e)}getOptions(e=ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ql){return this.component?this.component.multipleInstances?e:ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H9(n){return n===ql?void 0:n}function G9(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new z9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nt||(Nt={}));const W9={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},K9=Nt.INFO,X9={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Y9=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=X9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=K9,this._logHandler=Y9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const $9=(n,e)=>e.some(t=>n instanceof t);let Sw,Aw;function Q9(){return Sw||(Sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z9(){return Aw||(Aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k4=new WeakMap,ox=new WeakMap,M4=new WeakMap,P1=new WeakMap,__=new WeakMap;function J9(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Wo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&k4.set(t,n)}).catch(()=>{}),__.set(e,n),e}function eV(n){if(ox.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});ox.set(n,e)}let lx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ox.get(n);if(e==="objectStoreNames")return n.objectStoreNames||M4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tV(n){lx=n(lx)}function nV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(L1(this),e,...t);return M4.set(r,e.sort?e.sort():[e]),Wo(r)}:Z9().includes(n)?function(...e){return n.apply(L1(this),e),Wo(k4.get(this))}:function(...e){return Wo(n.apply(L1(this),e))}}function rV(n){return typeof n=="function"?nV(n):(n instanceof IDBTransaction&&eV(n),$9(n,Q9())?new Proxy(n,lx):n)}function Wo(n){if(n instanceof IDBRequest)return J9(n);if(P1.has(n))return P1.get(n);const e=rV(n);return e!==n&&(P1.set(n,e),__.set(e,n)),e}const L1=n=>__.get(n);function iV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=Wo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Wo(l.result),h.oldVersion,h.newVersion,Wo(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const sV=["get","getKey","getAll","getAllKeys","count"],aV=["put","add","delete","clear"],F1=new Map;function Cw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(F1.get(e))return F1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=aV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sV.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&h.done]))[0]};return F1.set(e,a),a}tV(n=>({...n,get:(e,t,r)=>Cw(e,t)||n.get(e,t,r),has:(e,t)=>!!Cw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function lV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cx="@firebase/app",Rw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new x_("@firebase/app"),cV="@firebase/app-compat",uV="@firebase/analytics-compat",hV="@firebase/analytics",fV="@firebase/app-check-compat",dV="@firebase/app-check",gV="@firebase/auth",mV="@firebase/auth-compat",pV="@firebase/database",xV="@firebase/data-connect",_V="@firebase/database-compat",vV="@firebase/functions",yV="@firebase/functions-compat",TV="@firebase/installations",bV="@firebase/installations-compat",wV="@firebase/messaging",EV="@firebase/messaging-compat",SV="@firebase/performance",AV="@firebase/performance-compat",CV="@firebase/remote-config",RV="@firebase/remote-config-compat",NV="@firebase/storage",IV="@firebase/storage-compat",DV="@firebase/firestore",OV="@firebase/ai",kV="@firebase/firestore-compat",MV="firebase",PV="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="[DEFAULT]",LV={[cx]:"fire-core",[cV]:"fire-core-compat",[hV]:"fire-analytics",[uV]:"fire-analytics-compat",[dV]:"fire-app-check",[fV]:"fire-app-check-compat",[gV]:"fire-auth",[mV]:"fire-auth-compat",[pV]:"fire-rtdb",[xV]:"fire-data-connect",[_V]:"fire-rtdb-compat",[vV]:"fire-fn",[yV]:"fire-fn-compat",[TV]:"fire-iid",[bV]:"fire-iid-compat",[wV]:"fire-fcm",[EV]:"fire-fcm-compat",[SV]:"fire-perf",[AV]:"fire-perf-compat",[CV]:"fire-rc",[RV]:"fire-rc-compat",[NV]:"fire-gcs",[IV]:"fire-gcs-compat",[DV]:"fire-fst",[kV]:"fire-fst-compat",[OV]:"fire-vertex","fire-js":"fire-js",[MV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,FV=new Map,hx=new Map;function Nw(n,e){try{n.container.addComponent(e)}catch(t){$a.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Eu(n){const e=n.name;if(hx.has(e))return $a.debug(`There were multiple attempts to register component ${e}.`),!1;hx.set(e,n);for(const t of Rf.values())Nw(t,n);for(const t of FV.values())Nw(t,n);return!0}function v_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ko=new qf("app","Firebase",VV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=PV;function P4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ux,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(t||(t=N4()),!t)throw Ko.create("no-options");const a=Rf.get(i);if(a){if(ic(t,a.options)&&ic(r,a.config))return a;throw Ko.create("duplicate-app",{appName:i})}const l=new q9(i);for(const h of hx.values())l.addComponent(h);const u=new jV(t,r,l);return Rf.set(i,u),u}function y_(n=ux){const e=Rf.get(n);if(!e&&n===ux&&N4())return P4();if(!e)throw Ko.create("no-app",{appName:n});return e}function BV(){return Array.from(Rf.values())}function Xo(n,e,t){let r=LV[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$a.warn(l.join(" "));return}Eu(new sc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="firebase-heartbeat-database",zV=1,Nf="firebase-heartbeat-store";let V1=null;function L4(){return V1||(V1=iV(UV,zV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ko.create("idb-open",{originalErrorMessage:n.message})})),V1}async function HV(n){try{const t=(await L4()).transaction(Nf),r=await t.objectStore(Nf).get(F4(n));return await t.done,r}catch(e){if(e instanceof to)$a.warn(e.message);else{const t=Ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$a.warn(t.message)}}}async function Iw(n,e){try{const r=(await L4()).transaction(Nf,"readwrite");await r.objectStore(Nf).put(e,F4(n)),await r.done}catch(t){if(t instanceof to)$a.warn(t.message);else{const r=Ko.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$a.warn(r.message)}}}function F4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1024,qV=30;class WV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>qV){const l=YV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dw(),{heartbeatsToSend:r,unsentEntries:i}=KV(this._heartbeatsCache.heartbeats),a=yg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return $a.warn(t),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function KV(n,e=GV){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Ow(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Ow(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class XV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k9()?M9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ow(n){return yg(JSON.stringify({version:2,heartbeats:n})).length}function YV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n){Eu(new sc("platform-logger",e=>new oV(e),"PRIVATE")),Eu(new sc("heartbeat",e=>new WV(e),"PRIVATE")),Xo(cx,Rw,n),Xo(cx,Rw,"esm2020"),Xo("fire-js","")}$V("");var QV="firebase",ZV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(QV,ZV,"app");var kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yo,V4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function R(){}R.prototype=I.prototype,D.D=I.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(L,V,B){for(var P=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)P[Qe-2]=arguments[Qe];return I.prototype[V].apply(L,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,R){R||(R=0);var L=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)L[V]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(V=0;16>V;++V)L[V]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=D.g[0],R=D.g[1],V=D.g[2];var B=D.g[3],P=I+(B^R&(V^B))+L[0]+3614090360&4294967295;I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+L[1]+3905402710&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+L[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+L[3]+3250441966&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+L[4]+4118548399&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+L[5]+1200080426&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+L[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+L[7]+4249261313&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+L[8]+1770035416&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+L[9]+2336552879&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+L[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+L[11]+2304563134&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+L[12]+1804603682&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+L[13]+4254626195&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+L[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+L[15]+1236535329&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(V^B&(R^V))+L[1]+4129170786&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+L[6]+3225465664&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+L[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+L[0]+3921069994&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+L[5]+3593408605&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+L[10]+38016083&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+L[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+L[4]+3889429448&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+L[9]+568446438&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+L[14]+3275163606&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+L[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+L[8]+1163531501&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+L[13]+2850285829&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+L[2]+4243563512&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+L[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+L[12]+2368359562&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(R^V^B)+L[5]+4294588738&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+L[8]+2272392833&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+L[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+L[14]+4259657740&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+L[1]+2763975236&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+L[4]+1272893353&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+L[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+L[10]+3200236656&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+L[13]+681279174&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+L[0]+3936430074&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+L[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+L[6]+76029189&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+L[9]+3654602809&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+L[12]+3873151461&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+L[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+L[2]+3299628645&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(V^(R|~B))+L[0]+4096336452&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+L[7]+1126891415&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+L[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+L[5]+4237533241&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+L[12]+1700485571&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+L[3]+2399980690&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+L[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+L[1]+2240044497&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+L[8]+1873313359&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+L[15]+4264355552&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+L[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+L[13]+1309151649&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+L[4]+4149444226&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+L[11]+3174756917&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+L[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var R=I-this.blockSize,L=this.B,V=this.h,B=0;B<I;){if(V==0)for(;B<=R;)i(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<I;)if(L[V++]=D.charCodeAt(B++),V==this.blockSize){i(this,L),V=0;break}}else for(;B<I;)if(L[V++]=D[B++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var R=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=R&255,R/=256;for(this.u(D),D=Array(16),I=R=0;4>I;++I)for(var L=0;32>L;L+=8)D[R++]=this.g[I]>>>L&255;return D};function a(D,I){var R=u;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=I(D)}function l(D,I){this.h=I;for(var R=[],L=!0,V=D.length-1;0<=V;V--){var B=D[V]|0;L&&B==I||(R[V]=B,L=!1)}this.g=R}var u={};function h(D){return-128<=D&&128>D?a(D,function(I){return new l([I|0],0>I?-1:0)}):new l([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return x;if(0>D)return S(d(-D));for(var I=[],R=1,L=0;D>=R;L++)I[L]=D/R|0,R*=4294967296;return new l(I,0)}function m(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return S(m(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(I,8)),L=x,V=0;V<D.length;V+=8){var B=Math.min(8,D.length-V),P=parseInt(D.substring(V,V+B),I);8>B?(B=d(Math.pow(I,B)),L=L.j(B).add(d(P))):(L=L.j(R),L=L.add(d(P)))}return L}var x=h(0),v=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(w(this))return-S(this).m();for(var D=0,I=1,R=0;R<this.g.length;R++){var L=this.i(R);D+=(0<=L?L:4294967296+L)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(w(this))return"-"+S(this).toString(D);for(var I=d(Math.pow(D,6)),R=this,L="";;){var V=Y(R,I).g;R=F(R,V.j(I));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=V,E(R))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function w(D){return D.h==-1}n.l=function(D){return D=F(this,D),w(D)?-1:E(D)?0:1};function S(D){for(var I=D.g.length,R=[],L=0;L<I;L++)R[L]=~D.g[L];return new l(R,~D.h).add(v)}n.abs=function(){return w(this)?S(this):this},n.add=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],L=0,V=0;V<=I;V++){var B=L+(this.i(V)&65535)+(D.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);L=P>>>16,B&=65535,P&=65535,R[V]=P<<16|B}return new l(R,R[R.length-1]&-2147483648?-1:0)};function F(D,I){return D.add(S(I))}n.j=function(D){if(E(this)||E(D))return x;if(w(this))return w(D)?S(this).j(S(D)):S(S(this).j(D));if(w(D))return S(this.j(S(D)));if(0>this.l(T)&&0>D.l(T))return d(this.m()*D.m());for(var I=this.g.length+D.g.length,R=[],L=0;L<2*I;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<D.g.length;V++){var B=this.i(L)>>>16,P=this.i(L)&65535,Qe=D.i(V)>>>16,Ie=D.i(V)&65535;R[2*L+2*V]+=P*Ie,z(R,2*L+2*V),R[2*L+2*V+1]+=B*Ie,z(R,2*L+2*V+1),R[2*L+2*V+1]+=P*Qe,z(R,2*L+2*V+1),R[2*L+2*V+2]+=B*Qe,z(R,2*L+2*V+2)}for(L=0;L<I;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=I;L<2*I;L++)R[L]=0;return new l(R,0)};function z(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function H(D,I){this.g=D,this.h=I}function Y(D,I){if(E(I))throw Error("division by zero");if(E(D))return new H(x,x);if(w(D))return I=Y(S(D),I),new H(S(I.g),S(I.h));if(w(I))return I=Y(D,S(I)),new H(S(I.g),I.h);if(30<D.g.length){if(w(D)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var R=v,L=I;0>=L.l(D);)R=te(R),L=te(L);var V=he(R,1),B=he(L,1);for(L=he(L,2),R=he(R,2);!E(L);){var P=B.add(L);0>=P.l(D)&&(V=V.add(R),B=P),L=he(L,1),R=he(R,1)}return I=F(D,V.j(I)),new H(V,I)}for(V=x;0<=D.l(I);){for(R=Math.max(1,Math.floor(D.m()/I.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=d(R),P=B.j(I);w(P)||0<P.l(D);)R-=L,B=d(R),P=B.j(I);E(B)&&(B=v),V=V.add(B),D=F(D,P)}return new H(V,D)}n.A=function(D){return Y(this,D).h},n.and=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],L=0;L<I;L++)R[L]=this.i(L)&D.i(L);return new l(R,this.h&D.h)},n.or=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],L=0;L<I;L++)R[L]=this.i(L)|D.i(L);return new l(R,this.h|D.h)},n.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],L=0;L<I;L++)R[L]=this.i(L)^D.i(L);return new l(R,this.h^D.h)};function te(D){for(var I=D.g.length+1,R=[],L=0;L<I;L++)R[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(R,D.h)}function he(D,I){var R=I>>5;I%=32;for(var L=D.g.length-R,V=[],B=0;B<L;B++)V[B]=0<I?D.i(B+R)>>>I|D.i(B+R+1)<<32-I:D.i(B+R);return new l(V,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,V4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Yo=l}).apply(typeof kw<"u"?kw:typeof self<"u"?self:typeof window<"u"?window:{});var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j4,Qh,B4,V0,fx,U4,z4,H4;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,b,A){return g==Array.prototype||g==Object.prototype||(g[b]=A.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof C0=="object"&&C0];for(var b=0;b<g.length;++b){var A=g[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function i(g,b){if(b)e:{var A=r;g=g.split(".");for(var M=0;M<g.length-1;M++){var se=g[M];if(!(se in A))break e;A=A[se]}g=g[g.length-1],M=A[g],b=b(M),b!=M&&b!=null&&e(A,g,{configurable:!0,writable:!0,value:b})}}function a(g,b){g instanceof String&&(g+="");var A=0,M=!1,se={next:function(){if(!M&&A<g.length){var me=A++;return{value:b(me,g[me]),done:!1}}return M=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}i("Array.prototype.values",function(g){return g||function(){return a(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var b=typeof g;return b=b!="object"?b:g?Array.isArray(g)?"array":b:"null",b=="array"||b=="object"&&typeof g.length=="number"}function d(g){var b=typeof g;return b=="object"&&g!=null||b=="function"}function m(g,b,A){return g.call.apply(g.bind,arguments)}function x(g,b,A){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,M),g.apply(b,se)}}return function(){return g.apply(b,arguments)}}function v(g,b,A){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:x,v.apply(null,arguments)}function T(g,b){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function E(g,b){function A(){}A.prototype=b.prototype,g.aa=b.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(M,se,me){for(var Pe=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Pe[kt-2]=arguments[kt];return b.prototype[se].apply(M,Pe)}}function w(g){const b=g.length;if(0<b){const A=Array(b);for(let M=0;M<b;M++)A[M]=g[M];return A}return[]}function S(g,b){for(let A=1;A<arguments.length;A++){const M=arguments[A];if(h(M)){const se=g.length||0,me=M.length||0;g.length=se+me;for(let Pe=0;Pe<me;Pe++)g[se+Pe]=M[Pe]}else g.push(M)}}class F{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function z(g){return/^[\s\xa0]*$/.test(g)}function H(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function Y(g){return Y[" "](g),g}Y[" "]=function(){};var te=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function he(g,b,A){for(const M in g)b.call(A,g[M],M,g)}function D(g,b){for(const A in g)b.call(void 0,g[A],A,g)}function I(g){const b={};for(const A in g)b[A]=g[A];return b}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(g,b){let A,M;for(let se=1;se<arguments.length;se++){M=arguments[se];for(A in M)g[A]=M[A];for(let me=0;me<R.length;me++)A=R[me],Object.prototype.hasOwnProperty.call(M,A)&&(g[A]=M[A])}}function V(g){var b=1;g=g.split(":");const A=[];for(;0<b&&g.length;)A.push(g.shift()),b--;return g.length&&A.push(g.join(":")),A}function B(g){u.setTimeout(()=>{throw g},0)}function P(){var g=qe;let b=null;return g.g&&(b=g.g,g.g=g.g.next,g.g||(g.h=null),b.next=null),b}class Qe{constructor(){this.h=this.g=null}add(b,A){const M=Ie.get();M.set(b,A),this.h?this.h.next=M:this.g=M,this.h=M}}var Ie=new F(()=>new oe,g=>g.reset());class oe{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,je=!1,qe=new Qe,st=()=>{const g=u.Promise.resolve(void 0);pe=()=>{g.then(dt)}};var dt=()=>{for(var g;g=P();){try{g.h.call(g.g)}catch(A){B(A)}var b=Ie;b.j(g),100>b.h&&(b.h++,g.next=b.g,b.g=g)}je=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(g,b){this.type=g,this.g=this.target=b,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,b=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};u.addEventListener("test",A,b),u.removeEventListener("test",A,b)}catch{}return g}();function Q(g,b){if(ee.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=b,b=g.relatedTarget){if(te){e:{try{Y(b.nodeName);var se=!0;break e}catch{}se=!1}se||(b=null)}}else A=="mouseover"?b=g.fromElement:A=="mouseout"&&(b=g.toElement);this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ve[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Q.aa.h.call(this)}}E(Q,ee);var ve={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ue(g,b,A,M,se){this.listener=g,this.proxy=null,this.src=b,this.type=A,this.capture=!!M,this.ha=se,this.key=++Ke,this.da=this.fa=!1}function Me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xt(g){this.src=g,this.g={},this.h=0}xt.prototype.add=function(g,b,A,M,se){var me=g.toString();g=this.g[me],g||(g=this.g[me]=[],this.h++);var Pe=sn(g,b,M,se);return-1<Pe?(b=g[Pe],A||(b.fa=!1)):(b=new Ue(b,this.src,me,!!M,se),b.fa=A,g.push(b)),b};function ht(g,b){var A=b.type;if(A in g.g){var M=g.g[A],se=Array.prototype.indexOf.call(M,b,void 0),me;(me=0<=se)&&Array.prototype.splice.call(M,se,1),me&&(Me(b),g.g[A].length==0&&(delete g.g[A],g.h--))}}function sn(g,b,A,M){for(var se=0;se<g.length;++se){var me=g[se];if(!me.da&&me.listener==b&&me.capture==!!A&&me.ha==M)return se}return-1}var Je="closure_lm_"+(1e6*Math.random()|0),hn={};function Ot(g,b,A,M,se){if(Array.isArray(b)){for(var me=0;me<b.length;me++)Ot(g,b[me],A,M,se);return null}return A=Si(A),g&&g[ze]?g.K(b,A,d(M)?!!M.capture:!1,se):Ve(g,b,A,!1,M,se)}function Ve(g,b,A,M,se,me){if(!b)throw Error("Invalid event type");var Pe=d(se)?!!se.capture:!!se,kt=ai(g);if(kt||(g[Je]=kt=new xt(g)),A=kt.add(b,A,M,Pe,me),A.proxy)return A;if(M=qt(),A.proxy=M,M.src=g,M.listener=A,g.addEventListener)Z||(se=Pe),se===void 0&&(se=!1),g.addEventListener(b.toString(),M,se);else if(g.attachEvent)g.attachEvent(or(b.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function qt(){function g(A){return b.call(g.src,g.listener,A)}const b=Gi;return g}function Bn(g,b,A,M,se){if(Array.isArray(b))for(var me=0;me<b.length;me++)Bn(g,b[me],A,M,se);else M=d(M)?!!M.capture:!!M,A=Si(A),g&&g[ze]?(g=g.i,b=String(b).toString(),b in g.g&&(me=g.g[b],A=sn(me,A,M,se),-1<A&&(Me(me[A]),Array.prototype.splice.call(me,A,1),me.length==0&&(delete g.g[b],g.h--)))):g&&(g=ai(g))&&(b=g.g[b.toString()],g=-1,b&&(g=sn(b,A,M,se)),(A=-1<g?b[g]:null)&&br(A))}function br(g){if(typeof g!="number"&&g&&!g.da){var b=g.src;if(b&&b[ze])ht(b.i,g);else{var A=g.type,M=g.proxy;b.removeEventListener?b.removeEventListener(A,M,g.capture):b.detachEvent?b.detachEvent(or(A),M):b.addListener&&b.removeListener&&b.removeListener(M),(A=ai(b))?(ht(A,g),A.h==0&&(A.src=null,b[Je]=null)):Me(g)}}}function or(g){return g in hn?hn[g]:hn[g]="on"+g}function Gi(g,b){if(g.da)g=!0;else{b=new Q(b,this);var A=g.listener,M=g.ha||g.src;g.fa&&br(g),g=A.call(M,b)}return g}function ai(g){return g=g[Je],g instanceof xt?g:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function Si(g){return typeof g=="function"?g:(g[En]||(g[En]=function(b){return g.handleEvent(b)}),g[En])}function Bt(){K.call(this),this.i=new xt(this),this.M=this,this.F=null}E(Bt,K),Bt.prototype[ze]=!0,Bt.prototype.removeEventListener=function(g,b,A,M){Bn(this,g,b,A,M)};function Et(g,b){var A,M=g.F;if(M)for(A=[];M;M=M.F)A.push(M);if(g=g.M,M=b.type||b,typeof b=="string")b=new ee(b,g);else if(b instanceof ee)b.target=b.target||g;else{var se=b;b=new ee(M,g),L(b,se)}if(se=!0,A)for(var me=A.length-1;0<=me;me--){var Pe=b.g=A[me];se=fn(Pe,M,!0,b)&&se}if(Pe=b.g=g,se=fn(Pe,M,!0,b)&&se,se=fn(Pe,M,!1,b)&&se,A)for(me=0;me<A.length;me++)Pe=b.g=A[me],se=fn(Pe,M,!1,b)&&se}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var g=this.i,b;for(b in g.g){for(var A=g.g[b],M=0;M<A.length;M++)Me(A[M]);delete g.g[b],g.h--}}this.F=null},Bt.prototype.K=function(g,b,A,M){return this.i.add(String(g),b,!1,A,M)},Bt.prototype.L=function(g,b,A,M){return this.i.add(String(g),b,!0,A,M)};function fn(g,b,A,M){if(b=g.i.g[String(b)],!b)return!0;b=b.concat();for(var se=!0,me=0;me<b.length;++me){var Pe=b[me];if(Pe&&!Pe.da&&Pe.capture==A){var kt=Pe.listener,er=Pe.ha||Pe.src;Pe.fa&&ht(g.i,Pe),se=kt.call(er,M)!==!1&&se}}return se&&!M.defaultPrevented}function Mn(g,b,A){if(typeof g=="function")A&&(g=v(g,A));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(g,b||0)}function Zr(g){g.g=Mn(()=>{g.g=null,g.i&&(g.i=!1,Zr(g))},g.l);const b=g.h;g.h=null,g.m.apply(null,b)}class no extends K{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(g){K.call(this),this.h=g,this.g={}}E(wr,K);var qi=[];function oi(g){he(g.g,function(b,A){this.g.hasOwnProperty(A)&&br(b)},g),g.g={}}wr.prototype.N=function(){wr.aa.N.call(this),oi(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=u.JSON.stringify,Wi=u.JSON.parse,ms=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Ki(){}Ki.prototype.h=null;function Bs(g){return g.h||(g.h=g.i())}function Ai(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){ee.call(this,"d")}E(Ci,ee);function Jr(){ee.call(this,"c")}E(Jr,ee);var Er={},ps=null;function vn(){return ps=ps||new Bt}Er.La="serverreachability";function Sr(g){ee.call(this,Er.La,g)}E(Sr,ee);function zr(g){const b=vn();Et(b,new Sr(b))}Er.STAT_EVENT="statevent";function ro(g,b){ee.call(this,Er.STAT_EVENT,g),this.stat=b}E(ro,ee);function Wt(g){const b=vn();Et(b,new ro(b,g))}Er.Ma="timingevent";function An(g,b){ee.call(this,Er.Ma,g),this.size=b}E(An,ee);function pn(g,b){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},b)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function Xi(g,b,A,M,se,me){g.info(function(){if(g.g)if(me)for(var Pe="",kt=me.split("&"),er=0;er<kt.length;er++){var Mt=kt[er].split("=");if(1<Mt.length){var dr=Mt[0];Mt=Mt[1];var tr=dr.split("_");Pe=2<=tr.length&&tr[1]=="type"?Pe+(dr+"="+Mt+"&"):Pe+(dr+"=redacted&")}}else Pe=null;else Pe=me;return"XMLHTTP REQ ("+M+") [attempt "+se+"]: "+b+`
`+A+`
`+Pe})}function da(g,b,A,M,se,me,Pe){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+se+"]: "+b+`
`+A+`
`+me+" "+Pe})}function O(g,b,A,M){g.info(function(){return"XMLHTTP TEXT ("+b+"): "+j(g,A)+(M?" "+M:"")})}function G(g,b){g.info(function(){return"TIMEOUT: "+b})}Zn.prototype.info=function(){};function j(g,b){if(!g.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var M=A[g];if(!(2>M.length)){var se=M[1];if(Array.isArray(se)&&!(1>se.length)){var me=se[0];if(me!="noop"&&me!="stop"&&me!="close")for(var Pe=1;Pe<se.length;Pe++)se[Pe]=""}}}}return Ur(A)}catch{return b}}var U={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},q={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},W;function ie(){}E(ie,Ki),ie.prototype.g=function(){return new XMLHttpRequest},ie.prototype.i=function(){return{}},W=new ie;function ge(g,b,A,M){this.j=g,this.i=b,this.l=A,this.R=M||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var le={},ue={};function Se(g,b,A){g.L=1,g.v=ma(Gr(b)),g.m=A,g.P=!0,Oe(g,null)}function Oe(g,b){g.F=Date.now(),Fe(g),g.A=Gr(g.v);var A=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),_l(A.i,"t",M),g.C=0,A=g.j.J,g.h=new ne,g.g=Xe(g.j,A?b:null,!g.m),0<g.O&&(g.M=new no(v(g.Y,g,g.g),g.O)),b=g.U,A=g.g,M=g.ca;var se="readystatechange";Array.isArray(se)||(se&&(qi[0]=se.toString()),se=qi);for(var me=0;me<se.length;me++){var Pe=Ot(A,se[me],M||b.handleEvent,!1,b.h||b);if(!Pe)break;b.g[Pe.key]=Pe}b=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,b)):(g.u="GET",g.g.ea(g.A,g.u,null,b)),zr(),Xi(g.i,g.u,g.A,g.l,g.R,g.m)}ge.prototype.ca=function(g){g=g.target;const b=this.M;b&&hi(g)==3?b.j():this.Y(g)},ge.prototype.Y=function(g){try{if(g==this.g)e:{const tr=hi(this.g);var b=this.g.Ba();const ba=this.g.Z();if(!(3>tr)&&(tr!=3||this.g&&(this.h.h||this.g.oa()||bl(this.g)))){this.J||tr!=4||b==7||(b==8||0>=ba?zr(3):zr(2)),St(this);var A=this.g.Z();this.X=A;t:if(Be(this)){var M=bl(this.g);g="";var se=M.length,me=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tt(this),vt(this);var Pe="";break t}this.h.i=new u.TextDecoder}for(b=0;b<se;b++)this.h.h=!0,g+=this.h.i.decode(M[b],{stream:!(me&&b==se-1)});M.length=0,this.h.g+=g,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=A==200,da(this.i,this.u,this.A,this.l,this.R,tr,A),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,er=this.g;if((kt=er.g?er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(kt)){var Mt=kt;break t}}Mt=null}if(A=Mt)O(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lr(this,A);else{this.o=!1,this.s=3,Wt(12),Tt(this),vt(this);break e}}if(this.P){A=!0;let Rr;for(;!this.J&&this.C<Pe.length;)if(Rr=Re(this,Pe),Rr==ue){tr==4&&(this.s=4,Wt(14),A=!1),O(this.i,this.l,null,"[Incomplete Response]");break}else if(Rr==le){this.s=4,Wt(15),O(this.i,this.l,Pe,"[Invalid Chunk]"),A=!1;break}else O(this.i,this.l,Rr,null),lr(this,Rr);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tr!=4||Pe.length!=0||this.h.h||(this.s=1,Wt(16),A=!1),this.o=this.o&&A,!A)O(this.i,this.l,Pe,"[Invalid Chunked Response]"),Tt(this),vt(this);else if(0<Pe.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),He(dr),dr.M=!0,Wt(11))}}else O(this.i,this.l,Pe,null),lr(this,Pe);tr==4&&Tt(this),this.o&&!this.J&&(tr==4?Xt(this.j,this):(this.o=!1,Fe(this)))}else Wu(this.g),A==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Tt(this),vt(this)}}}catch{}finally{}};function Be(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Re(g,b){var A=g.C,M=b.indexOf(`
`,A);return M==-1?ue:(A=Number(b.substring(A,M)),isNaN(A)?le:(M+=1,M+A>b.length?ue:(b=b.slice(M,M+A),g.C=M+A,b)))}ge.prototype.cancel=function(){this.J=!0,Tt(this)};function Fe(g){g.S=Date.now()+g.I,et(g,g.I)}function et(g,b){if(g.B!=null)throw Error("WatchDog timer not null");g.B=pn(v(g.ba,g),b)}function St(g){g.B&&(u.clearTimeout(g.B),g.B=null)}ge.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(G(this.i,this.A),this.L!=2&&(zr(),Wt(17)),Tt(this),this.s=2,vt(this)):et(this,this.S-g)};function vt(g){g.j.G==0||g.J||Xt(g.j,g)}function Tt(g){St(g);var b=g.M;b&&typeof b.ma=="function"&&b.ma(),g.M=null,oi(g.U),g.g&&(b=g.g,g.g=null,b.abort(),b.ma())}function lr(g,b){try{var A=g.j;if(A.G!=0&&(A.g==g||hr(A.h,g))){if(!g.K&&hr(A.h,g)&&A.G==3){try{var M=A.Da.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var se=M;if(se[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)Ze(A),lo(A);else break e;De(A),Wt(18)}}else A.za=se[1],0<A.za-A.T&&37500>se[2]&&A.F&&A.v==0&&!A.C&&(A.C=pn(v(A.Za,A),6e3));if(1>=ur(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else $t(A,11)}else if((g.K||A.g==g)&&Ze(A),!z(b))for(se=A.Da.g.parse(b),b=0;b<se.length;b++){let Mt=se[b];if(A.T=Mt[0],Mt=Mt[1],A.G==2)if(Mt[0]=="c"){A.K=Mt[1],A.ia=Mt[2];const dr=Mt[3];dr!=null&&(A.la=dr,A.j.info("VER="+A.la));const tr=Mt[4];tr!=null&&(A.Aa=tr,A.j.info("SVER="+A.Aa));const ba=Mt[5];ba!=null&&typeof ba=="number"&&0<ba&&(M=1.5*ba,A.L=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const Rr=g.g;if(Rr){const Ws=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var me=M.h;me.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(io(me,me.h),me.h=null))}if(M.D){const Ku=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ku&&(M.ya=Ku,Kt(M.I,M.D,Ku))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),M=A;var Pe=g;if(M.qa=ft(M,M.J?M.ia:null,M.W),Pe.K){fr(M.h,Pe);var kt=Pe,er=M.L;er&&(kt.I=er),kt.B&&(St(kt),Fe(kt)),M.g=Pe}else Ce(M);0<A.i.length&&Ta(A)}else Mt[0]!="stop"&&Mt[0]!="close"||$t(A,7);else A.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?$t(A,7):wl(A):Mt[0]!="noop"&&A.l&&A.l.ta(Mt),A.v=0)}}zr(4)}catch{}}var Yi=class{constructor(g,b){this.g=g,this.map=b}};function Ar(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cr(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ur(g){return g.h?1:g.g?g.g.size:0}function hr(g,b){return g.h?g.h==b:g.g?g.g.has(b):!1}function io(g,b){g.g?g.g.add(b):g.h=b}function fr(g,b){g.h&&g.h==b?g.h=null:g.g&&g.g.has(b)&&g.g.delete(b)}Ar.prototype.cancel=function(){if(this.i=Hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Hr(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let b=g.i;for(const A of g.g.values())b=b.concat(A.D);return b}return w(g.i)}function ml(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var b=[],A=g.length,M=0;M<A;M++)b.push(g[M]);return b}b=[],A=0;for(M in g)b[A++]=g[M];return b}function so(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var b=[];g=g.length;for(var A=0;A<g;A++)b.push(A);return b}b=[],A=0;for(const M in g)b[A++]=M;return b}}}function xs(g,b){if(g.forEach&&typeof g.forEach=="function")g.forEach(b,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,b,void 0);else for(var A=so(g),M=ml(g),se=M.length,me=0;me<se;me++)b.call(void 0,M[me],A&&A[me],g)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vc(g,b){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var M=g[A].indexOf("="),se=null;if(0<=M){var me=g[A].substring(0,M);se=g[A].substring(M+1)}else me=g[A];b(me,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Cn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Cn){this.h=g.h,ga(this,g.j),this.o=g.o,this.g=g.g,zs(this,g.s),this.l=g.l;var b=g.i,A=new vs;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),_s(this,A),this.m=g.m}else g&&(b=String(g).match(Us))?(this.h=!1,ga(this,b[1]||"",!0),this.o=ci(b[2]||""),this.g=ci(b[3]||"",!0),zs(this,b[4]),this.l=ci(b[5]||"",!0),_s(this,b[6]||"",!0),this.m=ci(b[7]||"")):(this.h=!1,this.i=new vs(null,this.h))}Cn.prototype.toString=function(){var g=[],b=this.j;b&&g.push(pa(b,pl,!0),":");var A=this.g;return(A||b=="file")&&(g.push("//"),(b=this.o)&&g.push(pa(b,pl,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(pa(A,A.charAt(0)=="/"?Gu:xl,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",pa(A,ao)),g.join("")};function Gr(g){return new Cn(g)}function ga(g,b,A){g.j=A?ci(b,!0):b,g.j&&(g.j=g.j.replace(/:$/,""))}function zs(g,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);g.s=b}else g.s=null}function _s(g,b,A){b instanceof vs?(g.i=b,Tc(g.i,g.h)):(A||(b=pa(b,qu)),g.i=new vs(b,g.h))}function Kt(g,b,A){g.i.set(b,A)}function ma(g){return Kt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ci(g,b){return g?b?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function pa(g,b,A){return typeof g=="string"?(g=encodeURI(g).replace(b,yc),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function yc(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var pl=/[#\/\?@]/g,xl=/[#\?:]/g,Gu=/[#\?]/g,qu=/[#\?@]/g,ao=/#/g;function vs(g,b){this.h=this.g=null,this.i=g||null,this.j=!!b}function ui(g){g.g||(g.g=new Map,g.h=0,g.i&&vc(g.i,function(b,A){g.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}n=vs.prototype,n.add=function(g,b){ui(this),this.i=null,g=$i(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(b),this.h+=1,this};function ys(g,b){ui(g),b=$i(g,b),g.g.has(b)&&(g.i=null,g.h-=g.g.get(b).length,g.g.delete(b))}function Ts(g,b){return ui(g),b=$i(g,b),g.g.has(b)}n.forEach=function(g,b){ui(this),this.g.forEach(function(A,M){A.forEach(function(se){g.call(b,se,M,this)},this)},this)},n.na=function(){ui(this);const g=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let M=0;M<b.length;M++){const se=g[M];for(let me=0;me<se.length;me++)A.push(b[M])}return A},n.V=function(g){ui(this);let b=[];if(typeof g=="string")Ts(this,g)&&(b=b.concat(this.g.get($i(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)b=b.concat(g[A])}return b},n.set=function(g,b){return ui(this),this.i=null,g=$i(this,g),Ts(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[b]),this.h+=1,this},n.get=function(g,b){return g?(g=this.V(g),0<g.length?String(g[0]):b):b};function _l(g,b,A){ys(g,b),0<A.length&&(g.i=null,g.g.set($i(g,b),w(A)),g.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var M=b[A];const me=encodeURIComponent(String(M)),Pe=this.V(M);for(M=0;M<Pe.length;M++){var se=me;Pe[M]!==""&&(se+="="+encodeURIComponent(String(Pe[M]))),g.push(se)}}return this.i=g.join("&")};function $i(g,b){return b=String(b),g.j&&(b=b.toLowerCase()),b}function Tc(g,b){b&&!g.j&&(ui(g),g.i=null,g.g.forEach(function(A,M){var se=M.toLowerCase();M!=se&&(ys(this,M),_l(this,se,A))},g)),g.j=b}function xa(g,b){const A=new Zn;if(u.Image){const M=new Image;M.onload=T(Cr,A,"TestLoadImage: loaded",!0,b,M),M.onerror=T(Cr,A,"TestLoadImage: error",!1,b,M),M.onabort=T(Cr,A,"TestLoadImage: abort",!1,b,M),M.ontimeout=T(Cr,A,"TestLoadImage: timeout",!1,b,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else b(!1)}function Ri(g,b){const A=new Zn,M=new AbortController,se=setTimeout(()=>{M.abort(),Cr(A,"TestPingServer: timeout",!1,b)},1e4);fetch(g,{signal:M.signal}).then(me=>{clearTimeout(se),me.ok?Cr(A,"TestPingServer: ok",!0,b):Cr(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(se),Cr(A,"TestPingServer: error",!1,b)})}function Cr(g,b,A,M,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),M(A)}catch{}}function _a(){this.g=new ms}function Ni(g,b,A){const M=A||"";try{xs(g,function(se,me){let Pe=se;d(se)&&(Pe=Ur(se)),b.push(M+me+"="+encodeURIComponent(Pe))})}catch(se){throw b.push(M+"type="+encodeURIComponent("_badmap")),se}}function Hs(g){this.l=g.Ub||null,this.j=g.eb||!1}E(Hs,Ki),Hs.prototype.g=function(){return new bs(this.l,this.j)},Hs.prototype.i=function(g){return function(){return g}}({});function bs(g,b){Bt.call(this),this.D=g,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(bs,Bt),n=bs.prototype,n.open=function(g,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=b,this.readyState=1,Zi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(b.body=g),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var b=g.value?g.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!g.done}))&&(this.response=this.responseText+=b)}g.done?Qi(this):Zi(this),this.readyState==3&&vl(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Qi(this))},n.Qa=function(g){this.g&&(this.response=g,Qi(this))},n.ga=function(){this.g&&Qi(this)};function Qi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Zi(g)}n.setRequestHeader=function(g,b){this.u.append(g,b)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=b.next();return g.join(`\r
`)};function Zi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function yl(g){let b="";return he(g,function(A,M){b+=M,b+=":",b+=A,b+=`\r
`}),b}function Pn(g,b,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=yl(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):Kt(g,b,A))}function Ft(g){Bt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ft,Bt);var Ji=/^https?$/i,Gs=["POST","PUT"];n=Ft.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,b,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);b=b?b.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():W.g(),this.v=this.o?Bs(this.o):Bs(W),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(g),!0),this.B=!1}catch(me){Tl(this,me);return}if(g=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var se in M)A.set(se,M[se]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const me of M.keys())A.set(me,M.get(me));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(me=>me.toLowerCase()=="content-type"),se=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Gs,b,void 0))||M||se||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Pe]of A)this.g.setRequestHeader(me,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(g),this.u=!1}catch(me){Tl(this,me)}};function Tl(g,b){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=b,g.m=5,va(g),es(g)}function va(g){g.A||(g.A=!0,Et(g,"complete"),Et(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Et(this,"complete"),Et(this,"abort"),es(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},n.bb=function(){qs(this)};function qs(g){if(g.h&&typeof l<"u"&&(!g.v[1]||hi(g)!=4||g.Z()!=2)){if(g.u&&hi(g)==4)Mn(g.Ea,0,g);else if(Et(g,"readystatechange"),hi(g)==4){g.h=!1;try{const Pe=g.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var M;if(M=Pe===0){var se=String(g.D).match(Us)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),M=!Ji.test(se?se.toLowerCase():"")}A=M}if(A)Et(g,"complete"),Et(g,"success");else{g.m=6;try{var me=2<hi(g)?g.g.statusText:""}catch{me=""}g.l=me+" ["+g.Z()+"]",va(g)}}finally{es(g)}}}}function es(g,b){if(g.g){ws(g);const A=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,b||Et(g,"ready");try{A.onreadystatechange=M}catch{}}}function ws(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function hi(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var b=this.g.responseText;return g&&b.indexOf(g)==0&&(b=b.substring(g.length)),Wi(b)}};function bl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Wu(g){const b={};g=(g.g&&2<=hi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(z(g[M]))continue;var A=V(g[M]);const se=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const me=b[se]||[];b[se]=me,me.push(A)}D(b,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(g,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||b}function oo(g){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,g),this.cb=ya("retryDelaySeedMs",1e4,g),this.Wa=ya("forwardChannelMaxRetries",2,g),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Ar(g&&g.concurrentRequestLimit),this.Da=new _a,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oo.prototype,n.la=8,n.G=1,n.connect=function(g,b,A,M){Wt(0),this.W=g,this.H=b||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.I=ft(this,null,this.W),Ta(this)};function wl(g){if(bc(g),g.G==3){var b=g.U++,A=Gr(g.I);if(Kt(A,"SID",g.K),Kt(A,"RID",b),Kt(A,"TYPE","terminate"),xe(g,A),b=new ge(g,g.j,b),b.L=2,b.v=ma(Gr(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&u.Image&&(new Image().src=b.v,A=!0),A||(b.g=Xe(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Fe(b)}gt(g)}function lo(g){g.g&&(He(g),g.g.cancel(),g.g=null)}function bc(g){lo(g),g.u&&(u.clearTimeout(g.u),g.u=null),Ze(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Ta(g){if(!cr(g.h)&&!g.s){g.s=!0;var b=g.Ga;pe||st(),je||(pe(),je=!0),qe.add(b,g),g.B=0}}function wc(g,b){return ur(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=b.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=pn(v(g.Ga,g,b),an(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const se=new ge(this,this.j,g);let me=this.o;if(this.S&&(me?(me=I(me),L(me,this.S)):me=this.S),this.m!==null||this.O||(se.H=me,me=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(b+=M,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=Ne(this,se,b),A=Gr(this.I),Kt(A,"RID",g),Kt(A,"CVER",22),this.D&&Kt(A,"X-HTTP-Session-Id",this.D),xe(this,A),me&&(this.O?b="headers="+encodeURIComponent(String(yl(me)))+"&"+b:this.m&&Pn(A,this.m,me)),io(this.h,se),this.Ua&&Kt(A,"TYPE","init"),this.P?(Kt(A,"$req",b),Kt(A,"SID","null"),se.T=!0,Se(se,A,null)):Se(se,A,b),this.G=2}}else this.G==3&&(g?N(this,g):this.i.length==0||cr(this.h)||N(this))};function N(g,b){var A;b?A=b.l:A=g.U++;const M=Gr(g.I);Kt(M,"SID",g.K),Kt(M,"RID",A),Kt(M,"AID",g.T),xe(g,M),g.m&&g.o&&Pn(M,g.m,g.o),A=new ge(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),b&&(g.i=b.D.concat(g.i)),b=Ne(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),io(g.h,A),Se(A,M,b)}function xe(g,b){g.H&&he(g.H,function(A,M){Kt(b,M,A)}),g.l&&xs({},function(A,M){Kt(b,M,A)})}function Ne(g,b,A){A=Math.min(g.i.length,A);var M=g.l?v(g.l.Na,g.l,g):null;e:{var se=g.i;let me=-1;for(;;){const Pe=["count="+A];me==-1?0<A?(me=se[0].g,Pe.push("ofs="+me)):me=0:Pe.push("ofs="+me);let kt=!0;for(let er=0;er<A;er++){let Mt=se[er].g;const dr=se[er].map;if(Mt-=me,0>Mt)me=Math.max(0,se[er].g-100),kt=!1;else try{Ni(dr,Pe,"req"+Mt+"_")}catch{M&&M(dr)}}if(kt){M=Pe.join("&");break e}}}return g=g.i.splice(0,A),b.D=g,M}function Ce(g){if(!g.g&&!g.u){g.Y=1;var b=g.Fa;pe||st(),je||(pe(),je=!0),qe.add(b,g),g.v=0}}function De(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=pn(v(g.Fa,g),an(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,rt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=pn(v(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),lo(this),rt(this))};function He(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function rt(g){g.g=new ge(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var b=Gr(g.qa);Kt(b,"RID","rpc"),Kt(b,"SID",g.K),Kt(b,"AID",g.T),Kt(b,"CI",g.F?"0":"1"),!g.F&&g.ja&&Kt(b,"TO",g.ja),Kt(b,"TYPE","xmlhttp"),xe(g,b),g.m&&g.o&&Pn(b,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=ma(Gr(b)),A.m=null,A.P=!0,Oe(A,g)}n.Za=function(){this.C!=null&&(this.C=null,lo(this),De(this),Wt(19))};function Ze(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Xt(g,b){var A=null;if(g.g==b){Ze(g),He(g),g.g=null;var M=2}else if(hr(g.h,b))A=b.D,fr(g.h,b),M=1;else return;if(g.G!=0){if(b.o)if(M==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var se=g.B;M=vn(),Et(M,new An(M,A)),Ta(g)}else Ce(g);else if(se=b.s,se==3||se==0&&0<b.X||!(M==1&&wc(g,b)||M==2&&De(g)))switch(A&&0<A.length&&(b=g.h,b.i=b.i.concat(A)),se){case 1:$t(g,5);break;case 4:$t(g,10);break;case 3:$t(g,6);break;default:$t(g,2)}}}function an(g,b){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*b}function $t(g,b){if(g.j.info("Error code "+b),b==2){var A=v(g.fb,g),M=g.Xa;const se=!M;M=new Cn(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ga(M,"https"),ma(M),se?xa(M.toString(),A):Ri(M.toString(),A)}else Wt(2);g.G=0,g.l&&g.l.sa(b),gt(g),bc(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function gt(g){if(g.G=0,g.ka=[],g.l){const b=Hr(g.h);(b.length!=0||g.i.length!=0)&&(S(g.ka,b),S(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function ft(g,b,A){var M=A instanceof Cn?Gr(A):new Cn(A);if(M.g!="")b&&(M.g=b+"."+M.g),zs(M,M.s);else{var se=u.location;M=se.protocol,b=b?b+"."+se.hostname:se.hostname,se=+se.port;var me=new Cn(null);M&&ga(me,M),b&&(me.g=b),se&&zs(me,se),A&&(me.l=A),M=me}return A=g.D,b=g.ya,A&&b&&Kt(M,A,b),Kt(M,"VER",g.la),xe(g,M),M}function Xe(g,b,A){if(b&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=g.Ca&&!g.pa?new Ft(new Hs({eb:A})):new Ft(g.pa),b.Ha(g.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rt(){}n=Rt.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function dn(){}dn.prototype.g=function(g,b){return new Jn(g,b)};function Jn(g,b){Bt.call(this),this.g=new oo(b),this.l=g,this.h=b&&b.messageUrlParams||null,g=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(g?g["X-WebChannel-Content-Type"]=b.messageContentType:g={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(g?g["X-WebChannel-Client-Profile"]=b.va:g={"X-WebChannel-Client-Profile":b.va}),this.g.S=g,(g=b&&b.Sb)&&!z(g)&&(this.g.m=g),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!z(b)&&(this.g.D=b,g=this.h,g!==null&&b in g&&(g=this.h,b in g&&delete g[b])),this.j=new ei(this)}E(Jn,Bt),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){wl(this.g)},Jn.prototype.o=function(g){var b=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=Ur(g),g=A);b.i.push(new Yi(b.Ya++,g)),b.G==3&&Ta(b)},Jn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,Jn.aa.N.call(this)};function Es(g){Ci.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var b=g.__sm__;if(b){e:{for(const A in b){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,b=b!==null&&g in b?b[g]:void 0),this.data=b}else this.data=g}E(Es,Ci);function Ss(){Jr.call(this),this.status=1}E(Ss,Jr);function ei(g){this.g=g}E(ei,Rt),ei.prototype.ua=function(){Et(this.g,"a")},ei.prototype.ta=function(g){Et(this.g,new Es(g))},ei.prototype.sa=function(g){Et(this.g,new Ss)},ei.prototype.ra=function(){Et(this.g,"b")},dn.prototype.createWebChannel=dn.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,H4=function(){return new dn},z4=function(){return vn()},U4=Er,fx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},U.NO_ERROR=0,U.TIMEOUT=8,U.HTTP_ERROR=6,V0=U,q.COMPLETE="complete",B4=q,Ai.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,Qh=Ai,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,j4=Ft}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});const Mw="@firebase/firestore",Pw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new x_("@firebase/firestore");function su(){return ac.logLevel}function We(n,...e){if(ac.logLevel<=Nt.DEBUG){const t=e.map(T_);ac.debug(`Firestore (${ju}): ${n}`,...t)}}function Qa(n,...e){if(ac.logLevel<=Nt.ERROR){const t=e.map(T_);ac.error(`Firestore (${ju}): ${n}`,...t)}}function Su(n,...e){if(ac.logLevel<=Nt.WARN){const t=e.map(T_);ac.warn(`Firestore (${ju}): ${n}`,...t)}}function T_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,G4(n,r,t)}function G4(n,e,t){let r=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Qa(r),new Error(r)}function Yt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||G4(e,i,r)}function pt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends to{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class e7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class t7{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new $o;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $o,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $o)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new q4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new Kr(e)}}class n7{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r7{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new n7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Yt(this.o===void 0,3512);const r=a=>{a.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,We("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=s7(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function It(n,e){return n<e?-1:n>e?1:0}function dx(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return j1(i)===j1(a)?It(i,a):j1(i)?1:-1}return It(n.length,e.length)}const a7=55296,o7=57343;function j1(n){const e=n.charCodeAt(0);return e>=a7&&e<=o7}function Au(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__name__";class ia{constructor(e,t,r){t===void 0?t=0:t>e.length&&ct(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ct(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=ia.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return It(e.length,t.length)}static compareSegments(e,t){const r=ia.isNumericId(e),i=ia.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ia.extractNumericId(e).compare(ia.extractNumericId(t)):dx(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yo.fromString(e.substring(4,e.length-2))}}class _n extends ia{construct(e,t,r){return new _n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _n(t)}static emptyPath(){return new _n([])}}const l7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends ia{construct(e,t,r){return new Fr(e,t,r)}static isValidIdentifier(e){return l7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fw}static keyField(){return new Fr([Fw])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ge(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ge(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ge(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Ge(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.path=e}static fromPath(e){return new nt(_n.fromString(e))}static fromName(e){return new nt(_n.fromString(e).popFirst(5))}static empty(){return new nt(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new _n(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n,e,t){if(!t)throw new Ge(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function c7(n,e,t,r){if(e===!0&&r===!0)throw new Ge(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vw(n){if(!nt.isDocumentKey(n))throw new Ge(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jw(n){if(nt.isDocumentKey(n))throw new Ge(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function K4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Zg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ct(12329,{type:typeof n})}function Ls(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zg(n);throw new Ge(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Kf(n,e){if(!K4(n))throw new Ge(be.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Ge(be.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=-62135596800,Uw=1e6;class bn{static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Uw);return new bn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bw)throw new Ge(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uw}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kf(e,bn._jsonSchema))return new bn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bn._jsonSchemaVersion="firestore/timestamp/1.0",bn._jsonSchema={type:Kn("string",bn._jsonSchemaVersion),seconds:Kn("number"),nanoseconds:Kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new bn(0,0))}static max(){return new mt(new bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=-1;function u7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=mt.fromTimestamp(r===1e9?new bn(t+1,0):new bn(t,r));return new rl(i,nt.empty(),e)}function h7(n){return new rl(n.readTime,n.key,If)}class rl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rl(mt.min(),nt.empty(),If)}static max(){return new rl(mt.max(),nt.empty(),If)}}function f7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=nt.comparator(n.documentKey,e.documentKey),t!==0?t:It(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==d7)throw n;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.reject(t)}static resolve(e){return new Ee((t,r)=>{t(e)})}static reject(e){return new Ee((t,r)=>{r(e)})}static waitFor(e){return new Ee((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},h=>r(h))}),l=!0,a===i&&t()})}static or(e){let t=Ee.resolve(!1);for(const r of e)t=t.next(i=>i?Ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ee((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const d=h;t(e[d]).next(m=>{l[d]=m,++u,u===a&&r(l)},m=>i(m))}})}static doWhile(e,t){return new Ee((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function m7(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-1;function em(n){return n==null}function Tg(n){return n===0&&1/n==-1/0}function p7(n){return typeof n=="number"&&Number.isInteger(n)&&!Tg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="";function x7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zw(e)),e=_7(n.get(t),e);return zw(e)}function _7(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case X4:t+="";break;default:t+=a}}return t}function zw(n){return n+X4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Y4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,t){this.comparator=e,this.root=t||Mr.EMPTY}insert(e,t){return new Nn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new Nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new R0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new R0(this.root,e,this.comparator,!1)}getReverseIterator(){return new R0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new R0(this.root,e,this.comparator,!0)}}class R0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Mr.RED,this.left=i??Mr.EMPTY,this.right=a??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Mr(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ct(27949);return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Mr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.comparator=e,this.data=new Nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ar(this.comparator);return t.data=e,t}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new zi([])}unionWith(e){let t=new ar(Fr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Au(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $4("Invalid base64 string: "+a):a}}(e);return new Br(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const v7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(n){if(Yt(!!n,39018),typeof n=="string"){let e=0;const t=v7.exec(n);if(Yt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(n.seconds),nanos:Vn(n.nanos)}}function Vn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function sl(n){return typeof n=="string"?Br.fromBase64String(n):Br.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="server_timestamp",Z4="__type__",J4="__previous_value__",eC="__local_write_time__";function E_(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Z4])==null?void 0:r.stringValue)===Q4}function tm(n){const e=n.mapValue.fields[J4];return E_(e)?tm(e):e}function Df(n){const e=il(n.mapValue.fields[eC].timestampValue);return new bn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,t,r,i,a,l,u,h,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const bg="(default)";class Of{constructor(e,t){this.projectId=e,this.database=t||bg}static empty(){return new Of("","")}get isDefaultDatabase(){return this.database===bg}isEqual(e){return e instanceof Of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__type__",T7="__max__",N0={mapValue:{}},nC="__vector__",wg="value";function al(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?E_(n)?4:w7(n)?9007199254740991:b7(n)?10:11:ct(28295,{value:n})}function fa(n,e){if(n===e)return!0;const t=al(n);if(t!==al(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Df(n).isEqual(Df(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=il(i.timestampValue),u=il(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return sl(i.bytesValue).isEqual(sl(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Vn(i.geoPointValue.latitude)===Vn(a.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Vn(i.integerValue)===Vn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Vn(i.doubleValue),u=Vn(a.doubleValue);return l===u?Tg(l)===Tg(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Au(n.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Hw(l)!==Hw(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!fa(l[h],u[h])))return!1;return!0}(n,e);default:return ct(52216,{left:n})}}function kf(n,e){return(n.values||[]).find(t=>fa(t,e))!==void 0}function Cu(n,e){if(n===e)return 0;const t=al(n),r=al(e);if(t!==r)return It(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Vn(a.integerValue||a.doubleValue),h=Vn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return qw(n.timestampValue,e.timestampValue);case 4:return qw(Df(n),Df(e));case 5:return dx(n.stringValue,e.stringValue);case 6:return function(a,l){const u=sl(a),h=sl(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let d=0;d<u.length&&d<h.length;d++){const m=It(u[d],h[d]);if(m!==0)return m}return It(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=It(Vn(a.latitude),Vn(l.latitude));return u!==0?u:It(Vn(a.longitude),Vn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ww(n.arrayValue,e.arrayValue);case 10:return function(a,l){var v,T,E,w;const u=a.fields||{},h=l.fields||{},d=(v=u[wg])==null?void 0:v.arrayValue,m=(T=h[wg])==null?void 0:T.arrayValue,x=It(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((w=m==null?void 0:m.values)==null?void 0:w.length)||0);return x!==0?x:Ww(d,m)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===N0.mapValue&&l===N0.mapValue)return 0;if(a===N0.mapValue)return 1;if(l===N0.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let x=0;x<h.length&&x<m.length;++x){const v=dx(h[x],m[x]);if(v!==0)return v;const T=Cu(u[h[x]],d[m[x]]);if(T!==0)return T}return It(h.length,m.length)}(n.mapValue,e.mapValue);default:throw ct(23264,{he:t})}}function qw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return It(n,e);const t=il(n),r=il(e),i=It(t.seconds,r.seconds);return i!==0?i:It(t.nanos,r.nanos)}function Ww(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Cu(t[i],r[i]);if(a)return a}return It(t.length,r.length)}function Ru(n){return gx(n)}function gx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=il(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return sl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return nt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=gx(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${gx(t.fields[l])}`;return i+"}"}(n.mapValue):ct(61005,{value:n})}function j0(n){switch(al(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(n);return e?16+j0(e):16;case 5:return 2*n.stringValue.length;case 6:return sl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+j0(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return hl(r.fields,(a,l)=>{i+=a.length+j0(l)}),i}(n.mapValue);default:throw ct(13486,{value:n})}}function Kw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mx(n){return!!n&&"integerValue"in n}function S_(n){return!!n&&"arrayValue"in n}function Xw(n){return!!n&&"nullValue"in n}function Yw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function B0(n){return!!n&&"mapValue"in n}function b7(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[tC])==null?void 0:r.stringValue)===nC}function ff(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return hl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ff(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ff(n.arrayValue.values[t]);return e}return{...n}}function w7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===T7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!B0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(t)}setAll(e){let t=Fr.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=ff(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());B0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];B0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){hl(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new _i(ff(this.value))}}function rC(n){const e=[];return hl(n.fields,(t,r)=>{const i=new Fr([t]);if(B0(r)){const a=rC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Xr(e,0,mt.min(),mt.min(),mt.min(),_i.empty(),0)}static newFoundDocument(e,t,r,i){return new Xr(e,1,t,mt.min(),r,i,0)}static newNoDocument(e,t){return new Xr(e,2,t,mt.min(),mt.min(),_i.empty(),0)}static newUnknownDocument(e,t){return new Xr(e,3,t,mt.min(),mt.min(),_i.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.position=e,this.inclusive=t}}function $w(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=nt.comparator(nt.fromName(l.referenceValue),t.key):r=Cu(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t="asc"){this.field=e,this.dir=t}}function E7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class qn extends iC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new A7(e,t,r):t==="array-contains"?new N7(e,r):t==="in"?new I7(e,r):t==="not-in"?new D7(e,r):t==="array-contains-any"?new O7(e,r):new qn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new C7(e,r):new R7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cu(t,this.value)):t!==null&&al(this.value)===al(t)&&this.matchesComparison(Cu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends iC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Vs(e,t)}matches(e){return sC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sC(n){return n.op==="and"}function aC(n){return S7(n)&&sC(n)}function S7(n){for(const e of n.filters)if(e instanceof Vs)return!1;return!0}function px(n){if(n instanceof qn)return n.field.canonicalString()+n.op.toString()+Ru(n.value);if(aC(n))return n.filters.map(e=>px(e)).join(",");{const e=n.filters.map(t=>px(t)).join(",");return`${n.op}(${e})`}}function oC(n,e){return n instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.field.isEqual(i.field)&&fa(r.value,i.value)}(n,e):n instanceof Vs?function(r,i){return i instanceof Vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&oC(l,i.filters[u]),!0):!1}(n,e):void ct(19439)}function lC(n){return n instanceof qn?function(t){return`${t.field.canonicalString()} ${t.op} ${Ru(t.value)}`}(n):n instanceof Vs?function(t){return t.op.toString()+" {"+t.getFilters().map(lC).join(" ,")+"}"}(n):"Filter"}class A7 extends qn{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class C7 extends qn{constructor(e,t){super(e,"in",t),this.keys=cC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class R7 extends qn{constructor(e,t){super(e,"not-in",t),this.keys=cC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cC(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class N7 extends qn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return S_(t)&&kf(t.arrayValue,this.value)}}class I7 extends qn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kf(this.value.arrayValue,t)}}class D7 extends qn{constructor(e,t){super(e,"not-in",t)}matches(e){if(kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kf(this.value.arrayValue,t)}}class O7 extends qn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!S_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Zw(n,e=null,t=[],r=[],i=null,a=null,l=null){return new k7(n,e,t,r,i,a,l)}function A_(n){const e=pt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>px(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),em(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ru(r)).join(",")),e.Te=t}return e.Te}function C_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!E7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qw(n.startAt,e.startAt)&&Qw(n.endAt,e.endAt)}function xx(n){return nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M7(n,e,t,r,i,a,l,u){return new Xf(n,e,t,r,i,a,l,u)}function R_(n){return new Xf(n)}function Jw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uC(n){return n.collectionGroup!==null}function df(n){const e=pt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ar(Fr.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Sg(a,r))}),t.has(Fr.keyField().canonicalString())||e.Ie.push(new Sg(Fr.keyField(),r))}return e.Ie}function sa(n){const e=pt(n);return e.Ee||(e.Ee=P7(e,df(n))),e.Ee}function P7(n,e){if(n.limitType==="F")return Zw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Sg(i.field,a)});const t=n.endAt?new Eg(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eg(n.startAt.position,n.startAt.inclusive):null;return Zw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _x(n,e){const t=n.filters.concat([e]);return new Xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vx(n,e,t){return new Xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nm(n,e){return C_(sa(n),sa(e))&&n.limitType===e.limitType}function hC(n){return`${A_(sa(n))}|lt:${n.limitType}`}function au(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lC(i)).join(", ")}]`),em(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ru(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ru(i)).join(",")),`Target(${r})`}(sa(n))}; limitType=${n.limitType})`}function rm(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):nt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of df(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const d=$w(l,u,h);return l.inclusive?d<=0:d<0}(r.startAt,df(r),i)||r.endAt&&!function(l,u,h){const d=$w(l,u,h);return l.inclusive?d>=0:d>0}(r.endAt,df(r),i))}(n,e)}function L7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fC(n){return(e,t)=>{let r=!1;for(const i of df(n)){const a=F7(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function F7(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(a,l,u){const h=l.data.field(a),d=u.data.field(a);return h!==null&&d!==null?Cu(h,d):ct(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hl(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Y4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=new Nn(nt.comparator);function Za(){return V7}const dC=new Nn(nt.comparator);function Zh(...n){let e=dC;for(const t of n)e=e.insert(t.key,t);return e}function gC(n){let e=dC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xl(){return gf()}function mC(){return gf()}function gf(){return new mc(n=>n.toString(),(n,e)=>n.isEqual(e))}const j7=new Nn(nt.comparator),B7=new ar(nt.comparator);function Dt(...n){let e=B7;for(const t of n)e=e.add(t);return e}const U7=new ar(It);function z7(){return U7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tg(e)?"-0":e}}function pC(n){return{integerValue:""+n}}function H7(n,e){return p7(e)?pC(e):N_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function G7(n,e,t){return n instanceof Ag?function(i,a){const l={fields:{[Z4]:{stringValue:Q4},[eC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&E_(a)&&(a=tm(a)),a&&(l.fields[J4]=a),{mapValue:l}}(t,e):n instanceof Mf?_C(n,e):n instanceof Pf?vC(n,e):function(i,a){const l=xC(i,a),u=eE(l)+eE(i.Ae);return mx(l)&&mx(i.Ae)?pC(u):N_(i.serializer,u)}(n,e)}function q7(n,e,t){return n instanceof Mf?_C(n,e):n instanceof Pf?vC(n,e):t}function xC(n,e){return n instanceof Cg?function(r){return mx(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ag extends im{}class Mf extends im{constructor(e){super(),this.elements=e}}function _C(n,e){const t=yC(e);for(const r of n.elements)t.some(i=>fa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Pf extends im{constructor(e){super(),this.elements=e}}function vC(n,e){let t=yC(e);for(const r of n.elements)t=t.filter(i=>!fa(i,r));return{arrayValue:{values:t}}}class Cg extends im{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function eE(n){return Vn(n.integerValue||n.doubleValue)}function yC(n){return S_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function W7(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Mf&&i instanceof Mf||r instanceof Pf&&i instanceof Pf?Au(r.elements,i.elements,fa):r instanceof Cg&&i instanceof Cg?fa(r.Ae,i.Ae):r instanceof Ag&&i instanceof Ag}(n.transform,e.transform)}class K7{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function U0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sm{}function TC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new am(n.key,bi.none()):new Yf(n.key,n.data,bi.none());{const t=n.data,r=_i.empty();let i=new ar(Fr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new fl(n.key,r,new zi(i.toArray()),bi.none())}}function X7(n,e,t){n instanceof Yf?function(i,a,l){const u=i.value.clone(),h=nE(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof fl?function(i,a,l){if(!U0(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=nE(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(bC(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function mf(n,e,t,r){return n instanceof Yf?function(a,l,u,h){if(!U0(a.precondition,l))return u;const d=a.value.clone(),m=rE(a.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof fl?function(a,l,u,h){if(!U0(a.precondition,l))return u;const d=rE(a.fieldTransforms,h,l),m=l.data;return m.setAll(bC(a)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(x=>x.field))}(n,e,t,r):function(a,l,u){return U0(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function Y7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=xC(r.transform,i||null);a!=null&&(t===null&&(t=_i.empty()),t.set(r.field,a))}return t||null}function tE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Au(r,i,(a,l)=>W7(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yf extends sm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fl extends sm{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nE(n,e,t){const r=new Map;Yt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,q7(l,u,t[i]))}return r}function rE(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,G7(a,l,e))}return r}class am extends sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $7 extends sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&X7(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mC();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const h=TC(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(mt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dt())}isEqual(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,(t,r)=>tE(t,r))&&Au(this.baseMutations,e.baseMutations,(t,r)=>tE(t,r))}}class I_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Yt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return j7}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new I_(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,Lt;function ej(n){switch(n){case be.OK:return ct(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return ct(15467,{code:n})}}function wC(n){if(n===void 0)return Qa("GRPC error has no .code"),be.UNKNOWN;switch(n){case Gn.OK:return be.OK;case Gn.CANCELLED:return be.CANCELLED;case Gn.UNKNOWN:return be.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return be.INTERNAL;case Gn.UNAVAILABLE:return be.UNAVAILABLE;case Gn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Gn.NOT_FOUND:return be.NOT_FOUND;case Gn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Gn.ABORTED:return be.ABORTED;case Gn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Gn.DATA_LOSS:return be.DATA_LOSS;default:return ct(39323,{code:n})}}(Lt=Gn||(Gn={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new Yo([4294967295,4294967295],0);function iE(n){const e=tj().encode(n),t=new V4;return t.update(e),new Uint8Array(t.digest())}function sE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yo([t,r],0),new Yo([i,a],0)]}class D_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jh(`Invalid padding: ${t}`);if(r<0)throw new Jh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Jh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Yo.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Yo.fromNumber(r)));return i.compare(nj)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=iE(e),[r,i]=sE(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new D_(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const t=iE(e),[r,i]=sE(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,$f.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new om(mt.min(),i,new Nn(It),Za(),Dt())}}class $f{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $f(r,t,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class EC{constructor(e,t){this.targetId=e,this.Ce=t}}class SC{constructor(e,t,r=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class aE{constructor(){this.ve=0,this.Fe=oE(),this.Me=Br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),t=Dt(),r=Dt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ct(38017,{changeType:a})}}),new $f(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=oE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Za(),this.Je=I0(),this.He=I0(),this.Ye=new Nn(It)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ct(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(xx(a))if(r===0){const l=new nt(a.path);this.et(t,l,Xr.newNoDocument(l,mt.min()))}else Yt(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=sl(r).toUint8Array()}catch(h){if(h instanceof $4)return Su("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new D_(l,i,a)}catch(h){return Su(h instanceof Jh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&xx(u.target)){const h=new nt(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Xr.newNoDocument(h,e))}a.Be&&(t.set(l,a.ke()),a.qe())}});let r=Dt();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const i=new om(e,t,this.Ye,this.je,r);return this.je=Za(),this.Je=I0(),this.He=I0(),this.Ye=new Nn(It),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new aE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ar(It),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ar(It),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||We("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aE),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function I0(){return new Nn(nt.comparator)}function oE(){return new Nn(nt.comparator)}const ij={asc:"ASCENDING",desc:"DESCENDING"},sj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aj={and:"AND",or:"OR"};class oj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yx(n,e){return n.useProto3Json||em(e)?e:{value:e}}function Rg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lj(n,e){return Rg(n,e.toTimestamp())}function aa(n){return Yt(!!n,49232),mt.fromTimestamp(function(t){const r=il(t);return new bn(r.seconds,r.nanos)}(n))}function O_(n,e){return Tx(n,e).canonicalString()}function Tx(n,e){const t=function(i){return new _n(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CC(n){const e=_n.fromString(n);return Yt(OC(e),10190,{key:e.toString()}),e}function bx(n,e){return O_(n.databaseId,e.path)}function B1(n,e){const t=CC(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(NC(t))}function RC(n,e){return O_(n.databaseId,e)}function cj(n){const e=CC(n);return e.length===4?_n.emptyPath():NC(e)}function wx(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NC(n){return Yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lE(n,e,t){return{name:bx(n,e),fields:t.value.mapValue.fields}}function uj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ct(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,m){return d.useProto3Json?(Yt(m===void 0||typeof m=="string",58123),Br.fromBase64String(m||"")):(Yt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Br.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(d){const m=d.code===void 0?be.UNKNOWN:wC(d.code);return new Ge(m,d.message||"")}(l);t=new SC(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=B1(n,r.document.name),a=aa(r.document.updateTime),l=r.document.createTime?aa(r.document.createTime):mt.min(),u=new _i({mapValue:{fields:r.document.fields}}),h=Xr.newFoundDocument(i,a,l,u),d=r.targetIds||[],m=r.removedTargetIds||[];t=new z0(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=B1(n,r.document),a=r.readTime?aa(r.readTime):mt.min(),l=Xr.newNoDocument(i,a),u=r.removedTargetIds||[];t=new z0([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=B1(n,r.document),a=r.removedTargetIds||[];t=new z0([],a,i,null)}else{if(!("filter"in e))return ct(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new J7(i,a),u=r.targetId;t=new EC(u,l)}}return t}function hj(n,e){let t;if(e instanceof Yf)t={update:lE(n,e.key,e.value)};else if(e instanceof am)t={delete:bx(n,e.key)};else if(e instanceof fl)t={update:lE(n,e.key,e.data),updateMask:yj(e.fieldMask)};else{if(!(e instanceof $7))return ct(16599,{Vt:e.type});t={verify:bx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Ag)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Mf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Pf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw ct(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:lj(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ct(27497)}(n,e.precondition)),t}function fj(n,e){return n&&n.length>0?(Yt(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?aa(i.updateTime):aa(a);return l.isEqual(mt.min())&&(l=aa(a)),new K7(l,i.transformResults||[])}(t,e))):[]}function dj(n,e){return{documents:[RC(n,e.path)]}}function gj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=RC(n,i);const a=function(d){if(d.length!==0)return DC(Vs.create(d,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:ou(v.field),direction:xj(v.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=yx(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:t,parent:i}}function mj(n){let e=cj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Yt(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(x){const v=IC(x);return v instanceof Vs&&aC(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(x){return x.map(v=>function(E){return new Sg(lu(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(x){let v;return v=typeof x=="object"?x.value:x,em(v)?null:v}(t.limit));let h=null;t.startAt&&(h=function(x){const v=!!x.before,T=x.values||[];return new Eg(T,v)}(t.startAt));let d=null;return t.endAt&&(d=function(x){const v=!x.before,T=x.values||[];return new Eg(T,v)}(t.endAt)),M7(e,i,l,a,u,"F",h,d)}function pj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=lu(t.unaryFilter.field);return qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lu(t.unaryFilter.field);return qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=lu(t.unaryFilter.field);return qn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=lu(t.unaryFilter.field);return qn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}}(n):n.fieldFilter!==void 0?function(t){return qn.create(lu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vs.create(t.compositeFilter.filters.map(r=>IC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct(1026)}}(t.compositeFilter.op))}(n):ct(30097,{filter:n})}function xj(n){return ij[n]}function _j(n){return sj[n]}function vj(n){return aj[n]}function ou(n){return{fieldPath:n.canonicalString()}}function lu(n){return Fr.fromServerFormat(n.fieldPath)}function DC(n){return n instanceof qn?function(t){if(t.op==="=="){if(Yw(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NAN"}};if(Xw(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Yw(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NAN"}};if(Xw(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(t.field),op:_j(t.op),value:t.value}}}(n):n instanceof Vs?function(t){const r=t.getFilters().map(i=>DC(i));return r.length===1?r[0]:{compositeFilter:{op:vj(t.op),filters:r}}}(n):ct(54877,{filter:n})}function yj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t,r,i,a=mt.min(),l=mt.min(),u=Br.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.yt=e}}function bj(n){const e=mj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.Cn=new Ej}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(rl.min())}updateCollectionGroup(e,t,r){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class Ej{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ar(_n.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ar(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kC=41943040;class pi{static withCacheSize(e){return new pi(e,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(kC,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nu(0)}static cr(){return new Nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="LruGarbageCollector",Sj=1048576;function hE([n,e],[t,r]){const i=It(n,t);return i===0?It(e,r):i}class Aj{constructor(e){this.Ir=e,this.buffer=new ar(hE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){We(uE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uu(t)?We(uE,"Ignoring IndexedDB error during garbage collection: ",t):await Bu(t)}await this.Vr(3e5)})}}class Rj{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Ee.resolve(Jg.ce);const r=new Aj(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(We("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(cE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,l,u,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,u=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(d=Date.now(),su()<=Nt.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${x} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}function Nj(n,e){return new Rj(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.changes=new mc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&mf(r.mutation,i,zi.empty(),bn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Dt()){const i=Xl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Zh();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Xl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Dt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=Za();const l=gf(),u=function(){return gf()}();return t.forEach((h,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof fl)?a=a.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),mf(m.mutation,d,m.mutation.getFieldMask(),bn.now())):l.set(d.key,zi.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((d,m)=>l.set(d,m)),t.forEach((d,m)=>u.set(d,new Dj(m,l.get(d)??null))),u))}recalculateAndSaveOverlays(e,t){const r=gf();let i=new Nn((l,u)=>l-u),a=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let m=r.get(h)||zi.empty();m=u.applyToLocalView(d,m),r.set(h,m);const x=(i.get(u.batchId)||Dt()).add(h);i=i.insert(u.batchId,x)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,m=h.value,x=mC();m.forEach(v=>{if(!a.has(v)){const T=TC(t.get(v),r.get(v));T!==null&&x.set(v,T),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,x))}return Ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return nt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ee.resolve(Xl());let u=If,h=a;return l.next(d=>Ee.forEach(d,(m,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),a.get(m)?Ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,h,d,Dt())).next(m=>({batchId:u,changes:gC(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(r=>{let i=Zh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Zh();return this.indexManager.getCollectionParents(e,a).next(u=>Ee.forEach(u,h=>{const d=function(x,v){return new Xf(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(m=>{m.forEach((x,v)=>{l=l.insert(x,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,Xr.newInvalidDocument(m)))});let u=Zh();return l.forEach((h,d)=>{const m=a.get(h);m!==void 0&&mf(m.mutation,d,zi.empty(),bn.now()),rm(t,d)&&(u=u.insert(h,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ee.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:aa(i.createTime)}}(t)),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:bj(i.bundledQuery),readTime:aa(i.readTime)}}(t)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.overlays=new Nn(nt.comparator),this.qr=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xl();return Ee.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),Ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,t,r){const i=Xl(),a=t.length+1,l=new nt(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Nn((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let m=a.get(d.largestBatchId);m===null&&(m=Xl(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Xl(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=i)););return Ee.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z7(t,r));let a=this.qr.get(t);a===void 0&&(a=Dt(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.Qr=new ar(xr.$r),this.Ur=new ar(xr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new xr(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new xr(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new nt(new _n([])),r=new xr(t,e),i=new xr(t,e+1),a=[];return this.Ur.forEachInRange([r,i],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new nt(new _n([])),r=new xr(t,e),i=new xr(t,e+1);let a=Dt();return this.Ur.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new xr(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class xr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return nt.comparator(e.key,t.key)||It(e.Yr,t.Yr)}static Kr(e,t){return It(e.Yr,t.Yr)||nt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ar(xr.$r)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q7(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new xr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ee.resolve(l)}lookupMutationBatch(e,t){return Ee.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return Ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?w_:this.tr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xr(t,0),i=new xr(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],l=>{const u=this.Xr(l.Yr);a.push(u)}),Ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ar(It);return t.forEach(i=>{const a=new xr(i,0),l=new xr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{r=r.add(u.Yr)})}),Ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;nt.isDocumentKey(a)||(a=a.child(""));const l=new xr(new nt(a),0);let u=new ar(It);return this.Zr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(h.Yr)),!0)},l),Ee.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Yt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ee.forEach(t.mutations,i=>{const a=new xr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new xr(t,0),i=this.Zr.firstAfterOrEqual(r);return Ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.ri=e,this.docs=function(){return new Nn(nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ee.resolve(r?r.document.mutableCopy():Xr.newInvalidDocument(t))}getEntries(e,t){let r=Za();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xr.newInvalidDocument(i))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Za();const l=t.path,u=new nt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||f7(h7(m),r)<=0||(i.has(m.key)||rm(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Ee.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ct(9500)}ii(e,t){return Ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Vj(this)}getSize(e){return Ee.resolve(this.size)}}class Vj extends Ij{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Ee.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.persistence=e,this.si=new mc(t=>A_(t),C_),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.oi=0,this._i=new k_,this.targetCount=0,this.ai=Nu.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Ee.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Nu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.Pr(t),Ee.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Ee.waitFor(a).next(()=>i)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Ee.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Ee.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Ee.resolve(r)}containsKey(e,t){return Ee.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t){this.ui={},this.overlays={},this.ci=new Jg(0),this.li=!1,this.li=!0,this.hi=new Pj,this.referenceDelegate=e(this),this.Pi=new jj(this),this.indexManager=new wj,this.remoteDocumentCache=function(i){return new Fj(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Tj(t),this.Ii=new kj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Lj(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){We("MemoryPersistence","Starting transaction:",e);const i=new Bj(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return Ee.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class Bj extends g7{constructor(e){super(),this.currentSequenceNumber=e}}class M_{constructor(e){this.persistence=e,this.Ri=new k_,this.Vi=null}static mi(e){return new M_(e)}get fi(){if(this.Vi)return this.Vi;throw ct(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Ee.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.fi,r=>{const i=nt.fromPath(r);return this.gi(e,i).next(a=>{a||t.removeEntry(i,mt.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ng{constructor(e,t){this.persistence=e,this.pi=new mc(r=>x7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Nj(this,t)}static mi(e,t){return new Ng(e,t)}Ei(){}di(e){return Ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return Ee.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?Ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,t).next(u=>{u||(r++,a.removeEntry(l,mt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ee.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=j0(e.data.value)),t}br(e,t,r){return Ee.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Dt(),i=Dt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new P_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return O9()?8:m7(Qr())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Uj;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)})}).next(()=>a.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(su()<=Nt.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",au(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ee.resolve()):(su()<=Nt.DEBUG&&We("QueryEngine","Query:",au(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(su()<=Nt.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",au(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sa(t))):Ee.resolve())}ys(e,t){if(Jw(t))return Ee.resolve(null);let r=sa(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=vx(t,null,"F"),r=sa(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Dt(...a);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.Ds(t,u);return this.Cs(t,d,l,h.readTime)?this.ys(e,vx(t,null,"F")):this.vs(e,d,t,h)}))})))}ws(e,t,r,i){return Jw(t)||i.isEqual(mt.min())?Ee.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,i)?Ee.resolve(null):(su()<=Nt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),au(t)),this.vs(e,l,t,u7(i,If)).next(u=>u))})}Ds(e,t){let r=new ar(fC(e));return t.forEach((i,a)=>{rm(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return su()<=Nt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",au(t)),this.ps.getDocumentsMatchingQuery(e,t,rl.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="LocalStore",Hj=3e8;class Gj{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Nn(It),this.xs=new mc(a=>A_(a),C_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function qj(n,e,t,r){return new Gj(n,e,t,r)}async function PC(n,e){const t=pt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let h=Dt();for(const d of i){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of a){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:u}))})})}function Wj(n,e){const t=pt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,d,m){const x=d.batch,v=x.keys();let T=Ee.resolve();return v.forEach(E=>{T=T.next(()=>m.getEntry(h,E)).next(w=>{const S=d.docVersions.get(E);Yt(S!==null,48541),w.version.compareTo(S)<0&&(x.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),m.addEntry(w)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,x))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Dt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function LC(n){const e=pt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Kj(n,e){const t=pt(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((m,x)=>{const v=i.get(x);if(!v)return;u.push(t.Pi.removeMatchingKeys(a,m.removedDocuments,x).next(()=>t.Pi.addMatchingKeys(a,m.addedDocuments,x)));let T=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?T=T.withResumeToken(Br.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(x,T),function(w,S,F){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Hj?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(v,T,m)&&u.push(t.Pi.updateTargetData(a,T))});let h=Za(),d=Dt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(Xj(a,l,e.documentUpdates).next(m=>{h=m.ks,d=m.qs})),!r.isEqual(mt.min())){const m=t.Pi.getLastRemoteSnapshotVersion(a).next(x=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(m)}return Ee.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(t.Ms=i,a))}function Xj(n,e,t){let r=Dt(),i=Dt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Za();return t.forEach((u,h)=>{const d=a.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(mt.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):We(L_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)}),{ks:l,qs:i}})}function Yj(n,e){const t=pt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=w_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $j(n,e){const t=pt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(a=>a?(i=a,Ee.resolve(i)):t.Pi.allocateTargetId(r).next(l=>(i=new Ho(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Ex(n,e,t){const r=pt(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Uu(l))throw l;We(L_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function fE(n,e,t){const r=pt(n);let i=mt.min(),a=Dt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,m){const x=pt(h),v=x.xs.get(m);return v!==void 0?Ee.resolve(x.Ms.get(v)):x.Pi.getTargetData(d,m)}(r,l,sa(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:mt.min(),t?a:Dt())).next(u=>(Qj(r,L7(e),u),{documents:u,Qs:a})))}function Qj(n,e,t){let r=n.Os.get(e)||mt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class dE{constructor(){this.activeTargetIds=z7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zj{constructor(){this.Mo=new dE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){We(gE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){We(gE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0=null;function Sx(){return D0===null?D0=function(){return 268435456+Math.round(2147483648*Math.random())}():D0++,"0x"+D0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="RestConnection",eB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const l=Sx(),u=this.zo(e,t.toUriEncodedString());We(U1,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:d}=new URL(u),m=Fu(d);return this.Jo(e,u,h,r,m).then(x=>(We(U1,`Received RPC '${e}' ${l}: `,x),x),x=>{throw Su(U1,`RPC '${e}' ${l} failed with error: `,x,"url: ",u,"request:",r),x})}Ho(e,t,r,i,a,l){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ju}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const r=eB[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="WebChannelConnection";class rB extends tB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Sx();return new Promise((u,h)=>{const d=new j4;d.setWithCredentials(!0),d.listenOnce(B4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case V0.NO_ERROR:const x=d.getResponseJson();We(Wr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case V0.TIMEOUT:We(Wr,`RPC '${e}' ${l} timed out`),h(new Ge(be.DEADLINE_EXCEEDED,"Request time out"));break;case V0.HTTP_ERROR:const v=d.getStatus();if(We(Wr,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const E=T==null?void 0:T.error;if(E&&E.status&&E.message){const w=function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(z)>=0?z:be.UNKNOWN}(E.status);h(new Ge(w,E.message))}else h(new Ge(be.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Ge(be.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{We(Wr,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);We(Wr,`RPC '${e}' ${l} sending request:`,i),d.send(t,"POST",m,r,15)})}T_(e,t,r){const i=Sx(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=H4(),u=z4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=a.join("");We(Wr,`Creating RPC '${e}' stream ${i}: ${m}`,h);const x=l.createWebChannel(m,h);this.I_(x);let v=!1,T=!1;const E=new nB({Yo:S=>{T?We(Wr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(v||(We(Wr,`Opening RPC '${e}' stream ${i} transport.`),x.open(),v=!0),We(Wr,`RPC '${e}' stream ${i} sending:`,S),x.send(S))},Zo:()=>x.close()}),w=(S,F,z)=>{S.listen(F,H=>{try{z(H)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(x,Qh.EventType.OPEN,()=>{T||(We(Wr,`RPC '${e}' stream ${i} transport opened.`),E.o_())}),w(x,Qh.EventType.CLOSE,()=>{T||(T=!0,We(Wr,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(x))}),w(x,Qh.EventType.ERROR,S=>{T||(T=!0,Su(Wr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new Ge(be.UNAVAILABLE,"The operation could not be completed")))}),w(x,Qh.EventType.MESSAGE,S=>{var F;if(!T){const z=S.data[0];Yt(!!z,16349);const H=z,Y=(H==null?void 0:H.error)||((F=H[0])==null?void 0:F.error);if(Y){We(Wr,`RPC '${e}' stream ${i} received error:`,Y);const te=Y.status;let he=function(R){const L=Gn[R];if(L!==void 0)return wC(L)}(te),D=Y.message;he===void 0&&(he=be.INTERNAL,D="Unknown error status: "+te+" with message "+Y.message),T=!0,E.a_(new Ge(he,D)),x.close()}else We(Wr,`RPC '${e}' stream ${i} received:`,z),E.u_(z)}}),w(u,U4.STAT_EVENT,S=>{S.stat===fx.PROXY?We(Wr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===fx.NOPROXY&&We(Wr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function z1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n){return new oj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class VC{constructor(e,t,r,i,a,l,u,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(Qa(t.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new Ge(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return We(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(We(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iB extends VC{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=uj(this.serializer,e),r=function(a){if(!("targetChange"in a))return mt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?mt.min():l.readTime?aa(l.readTime):mt.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=wx(this.serializer),t.addTarget=function(a,l){let u;const h=l.target;if(u=xx(h)?{documents:dj(a,h)}:{query:gj(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=AC(a,l.resumeToken);const d=yx(a,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(mt.min())>0){u.readTime=Rg(a,l.snapshotVersion.toTimestamp());const d=yx(a,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=pj(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=wx(this.serializer),t.removeTarget=e,this.q_(t)}}class sB extends VC{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=fj(e.writeResults,e.commitTime),r=aa(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=wx(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>hj(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{}class oB extends aB{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ge(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,Tx(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ge(be.UNKNOWN,a.toString())})}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,Tx(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ge(be.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class lB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qa(t),this.aa=!1):We("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="RemoteStore";class cB{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{pc(this)&&(We(oc,"Restarting streams for network reachability change."),await async function(h){const d=pt(h);d.Ea.add(4),await Qf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await cm(d)}(this))})}),this.Ra=new lB(r,i)}}async function cm(n){if(pc(n))for(const e of n.da)await e(!0)}async function Qf(n){for(const e of n.da)await e(!1)}function jC(n,e){const t=pt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),B_(t)?j_(t):zu(t).O_()&&V_(t,e))}function F_(n,e){const t=pt(n),r=zu(t);t.Ia.delete(e),r.O_()&&BC(t,e),t.Ia.size===0&&(r.O_()?r.L_():pc(t)&&t.Ra.set("Unknown"))}function V_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zu(n).Y_(e)}function BC(n,e){n.Va.Ue(e),zu(n).Z_(e)}function j_(n){n.Va=new rj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),zu(n).start(),n.Ra.ua()}function B_(n){return pc(n)&&!zu(n).x_()&&n.Ia.size>0}function pc(n){return pt(n).Ea.size===0}function UC(n){n.Va=void 0}async function uB(n){n.Ra.set("Online")}async function hB(n){n.Ia.forEach((e,t)=>{V_(n,e)})}async function fB(n,e){UC(n),B_(n)?(n.Ra.ha(e),j_(n)):n.Ra.set("Unknown")}async function dB(n,e,t){if(n.Ra.set("Online"),e instanceof SC&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,e)}catch(r){We(oc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ig(n,r)}else if(e instanceof z0?n.Va.Ze(e):e instanceof EC?n.Va.st(e):n.Va.tt(e),!t.isEqual(mt.min()))try{const r=await LC(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ia.get(d);m&&a.Ia.set(d,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,d)=>{const m=a.Ia.get(h);if(!m)return;a.Ia.set(h,m.withResumeToken(Br.EMPTY_BYTE_STRING,m.snapshotVersion)),BC(a,h);const x=new Ho(m.target,h,d,m.sequenceNumber);V_(a,x)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){We(oc,"Failed to raise snapshot:",r),await Ig(n,r)}}async function Ig(n,e,t){if(!Uu(e))throw e;n.Ea.add(1),await Qf(n),n.Ra.set("Offline"),t||(t=()=>LC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{We(oc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cm(n)})}function zC(n,e){return e().catch(t=>Ig(n,t,e))}async function um(n){const e=pt(n),t=ol(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:w_;for(;gB(e);)try{const i=await Yj(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,mB(e,i)}catch(i){await Ig(e,i)}HC(e)&&GC(e)}function gB(n){return pc(n)&&n.Ta.length<10}function mB(n,e){n.Ta.push(e);const t=ol(n);t.O_()&&t.X_&&t.ea(e.mutations)}function HC(n){return pc(n)&&!ol(n).x_()&&n.Ta.length>0}function GC(n){ol(n).start()}async function pB(n){ol(n).ra()}async function xB(n){const e=ol(n);for(const t of n.Ta)e.ea(t.mutations)}async function _B(n,e,t){const r=n.Ta.shift(),i=I_.from(r,e,t);await zC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await um(n)}async function vB(n,e){e&&ol(n).X_&&await async function(r,i){if(function(l){return ej(l)&&l!==be.ABORTED}(i.code)){const a=r.Ta.shift();ol(r).B_(),await zC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await um(r)}}(n,e),HC(n)&&GC(n)}async function xE(n,e){const t=pt(n);t.asyncQueue.verifyOperationInProgress(),We(oc,"RemoteStore received new credentials");const r=pc(t);t.Ea.add(3),await Qf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cm(t)}async function yB(n,e){const t=pt(n);e?(t.Ea.delete(2),await cm(t)):e||(t.Ea.add(2),await Qf(t),t.Ra.set("Unknown"))}function zu(n){return n.ma||(n.ma=function(t,r,i){const a=pt(t);return a.sa(),new iB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:uB.bind(null,n),t_:hB.bind(null,n),r_:fB.bind(null,n),H_:dB.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),B_(n)?j_(n):n.Ra.set("Unknown")):(await n.ma.stop(),UC(n))})),n.ma}function ol(n){return n.fa||(n.fa=function(t,r,i){const a=pt(t);return a.sa(),new sB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:pB.bind(null,n),r_:vB.bind(null,n),ta:xB.bind(null,n),na:_B.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await um(n)):(await n.fa.stop(),n.Ta.length>0&&(We(oc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new U_(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z_(n,e){if(Qa("AsyncQueue",`${e}: ${n}`),Uu(n))return new Ge(be.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{static emptySet(e){return new _u(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=Zh(),this.sortedSet=new Nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _u)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new _u;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.ga=new Nn(nt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ct(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class Iu{constructor(e,t,r,i,a,l,u,h,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Iu(e,t,_u.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class bB{constructor(){this.queries=vE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=pt(t),a=i.queries;i.queries=vE(),a.forEach((l,u)=>{for(const h of u.Sa)h.onError(r)})})(this,new Ge(be.ABORTED,"Firestore shutting down"))}}function vE(){return new mc(n=>hC(n),nm)}async function qC(n,e){const t=pt(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new TB,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=z_(l,`Initialization of query '${au(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&H_(t)}async function WC(n,e){const t=pt(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wB(n,e){const t=pt(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&H_(t)}function EB(n,e,t){const r=pt(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function H_(n){n.Ca.forEach(e=>{e.next()})}var Ax,yE;(yE=Ax||(Ax={})).Ma="default",yE.Cache="cache";class KC{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ax.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.key=e}}class YC{constructor(e){this.key=e}}class SB{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=fC(e),this.tu=new _u(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new _E,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,x)=>{const v=i.get(m),T=rm(this.query,x)?x:null,E=!!v&&this.mutatedKeys.has(v.key),w=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let S=!1;v&&T?v.data.isEqual(T.data)?E!==w&&(r.track({type:3,doc:T}),S=!0):this.su(v,T)||(r.track({type:2,doc:T}),S=!0,(h&&this.eu(T,h)>0||d&&this.eu(T,d)<0)&&(u=!0)):!v&&T?(r.track({type:0,doc:T}),S=!0):v&&!T&&(r.track({type:1,doc:v}),S=!0,(h||d)&&(u=!0)),S&&(T?(l=l.add(T),a=w?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,x)=>function(T,E){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Rt:S})}};return w(T)-w(E)}(m.type,x.type)||this.eu(m.doc,x.doc)),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new Iu(this.query,e.tu,a,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _E,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new YC(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new XC(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Dt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const G_="SyncEngine";class AB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class CB{constructor(e){this.key=e,this.hu=!1}}class RB{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new mc(u=>hC(u),nm),this.Iu=new Map,this.Eu=new Set,this.du=new Nn(nt.comparator),this.Au=new Map,this.Ru=new k_,this.Vu={},this.mu=new Map,this.fu=Nu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NB(n,e,t=!0){const r=tR(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await $C(r,e,t,!0),i}async function IB(n,e){const t=tR(n);await $C(t,e,!0,!1)}async function $C(n,e,t,r){const i=await $j(n.localStore,sa(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await DB(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&jC(n.remoteStore,i),u}async function DB(n,e,t,r,i){n.pu=(x,v,T)=>async function(w,S,F,z){let H=S.view.ru(F);H.Cs&&(H=await fE(w.localStore,S.query,!1).then(({documents:D})=>S.view.ru(D,H)));const Y=z&&z.targetChanges.get(S.targetId),te=z&&z.targetMismatches.get(S.targetId)!=null,he=S.view.applyChanges(H,w.isPrimaryClient,Y,te);return bE(w,S.targetId,he.au),he.snapshot}(n,x,v,T);const a=await fE(n.localStore,e,!0),l=new SB(e,a.Qs),u=l.ru(a.documents),h=$f.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=l.applyChanges(u,n.isPrimaryClient,h);bE(n,t,d.au);const m=new AB(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function OB(n,e,t){const r=pt(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(l=>!nm(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ex(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&F_(r.remoteStore,i.targetId),Cx(r,i.targetId)}).catch(Bu)):(Cx(r,i.targetId),await Ex(r.localStore,i.targetId,!0))}async function kB(n,e){const t=pt(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),F_(t.remoteStore,r.targetId))}async function MB(n,e,t){const r=UB(n);try{const i=await function(l,u){const h=pt(l),d=bn.now(),m=u.reduce((T,E)=>T.add(E.key),Dt());let x,v;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let E=Za(),w=Dt();return h.Ns.getEntries(T,m).next(S=>{E=S,E.forEach((F,z)=>{z.isValidDocument()||(w=w.add(F))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,E)).next(S=>{x=S;const F=[];for(const z of u){const H=Y7(z,x.get(z.key).overlayedDocument);H!=null&&F.push(new fl(z.key,H,rC(H.value.mapValue),bi.exists(!0)))}return h.mutationQueue.addMutationBatch(T,d,F,u)}).next(S=>{v=S;const F=S.applyToLocalDocumentSet(x,w);return h.documentOverlayCache.saveOverlays(T,S.batchId,F)})}).then(()=>({batchId:v.batchId,changes:gC(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Nn(It)),d=d.insert(u,h),l.Vu[l.currentUser.toKey()]=d}(r,i.batchId,t),await Zf(r,i.changes),await um(r.remoteStore)}catch(i){const a=z_(i,"Failed to persist write");t.reject(a)}}async function QC(n,e){const t=pt(n);try{const r=await Kj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Au.get(a);l&&(Yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Yt(l.hu,14607):i.removedDocuments.size>0&&(Yt(l.hu,42227),l.hu=!1))}),await Zf(t,r,e)}catch(r){await Bu(r)}}function TE(n,e,t){const r=pt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=pt(l);h.onlineState=u;let d=!1;h.queries.forEach((m,x)=>{for(const v of x.Sa)v.va(u)&&(d=!0)}),d&&H_(h)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PB(n,e,t){const r=pt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Nn(nt.comparator);l=l.insert(a,Xr.newNoDocument(a,mt.min()));const u=Dt().add(a),h=new om(mt.min(),new Map,new Nn(It),l,u);await QC(r,h),r.du=r.du.remove(a),r.Au.delete(e),q_(r)}else await Ex(r.localStore,e,!1).then(()=>Cx(r,e,t)).catch(Bu)}async function LB(n,e){const t=pt(n),r=e.batch.batchId;try{const i=await Wj(t.localStore,e);JC(t,r,null),ZC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Zf(t,i)}catch(i){await Bu(i)}}async function FB(n,e,t){const r=pt(n);try{const i=await function(l,u){const h=pt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,u).next(x=>(Yt(x!==null,37113),m=x.keys(),h.mutationQueue.removeMutationBatch(d,x))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(r.localStore,e);JC(r,e,t),ZC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Zf(r,i)}catch(i){await Bu(i)}}function ZC(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function JC(n,e,t){const r=pt(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Cx(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||eR(n,r)})}function eR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(F_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),q_(n))}function bE(n,e,t){for(const r of t)r instanceof XC?(n.Ru.addReference(r.key,e),VB(n,r)):r instanceof YC?(We(G_,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||eR(n,r.key)):ct(19791,{wu:r})}function VB(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(We(G_,"New document in limbo: "+t),n.Eu.add(r),q_(n))}function q_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new nt(_n.fromString(e)),r=n.fu.next();n.Au.set(r,new CB(t)),n.du=n.du.insert(t,r),jC(n.remoteStore,new Ho(sa(R_(t.path)),r,"TargetPurposeLimboResolution",Jg.ce))}}async function Zf(n,e,t){const r=pt(n),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((u,h)=>{l.push(r.pu(h,e,t).then(d=>{var m;if((d||t)&&r.isPrimaryClient){const x=d?!d.fromCache:(m=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,x?"current":"not-current")}if(d){i.push(d);const x=P_.As(h.targetId,d);a.push(x)}}))}),await Promise.all(l),r.Pu.H_(i),await async function(h,d){const m=pt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ee.forEach(d,v=>Ee.forEach(v.Es,T=>m.persistence.referenceDelegate.addReference(x,v.targetId,T)).next(()=>Ee.forEach(v.ds,T=>m.persistence.referenceDelegate.removeReference(x,v.targetId,T)))))}catch(x){if(!Uu(x))throw x;We(L_,"Failed to update sequence numbers: "+x)}for(const x of d){const v=x.targetId;if(!x.fromCache){const T=m.Ms.get(v),E=T.snapshotVersion,w=T.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(v,w)}}}(r.localStore,a))}async function jB(n,e){const t=pt(n);if(!t.currentUser.isEqual(e)){We(G_,"User change. New user:",e.toKey());const r=await PC(t.localStore,e);t.currentUser=e,function(a,l){a.mu.forEach(u=>{u.forEach(h=>{h.reject(new Ge(be.CANCELLED,l))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zf(t,r.Ls)}}function BB(n,e){const t=pt(n),r=t.Au.get(e);if(r&&r.hu)return Dt().add(r.key);{let i=Dt();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function tR(n){const e=pt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PB.bind(null,e),e.Pu.H_=wB.bind(null,e.eventManager),e.Pu.yu=EB.bind(null,e.eventManager),e}function UB(n){const e=pt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FB.bind(null,e),e}class Dg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return qj(this.persistence,new zj,e.initialUser,this.serializer)}Cu(e){return new MC(M_.mi,this.serializer)}Du(e){return new Zj}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dg.provider={build:()=>new Dg};class zB extends Dg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Yt(this.persistence.referenceDelegate instanceof Ng,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Cj(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new MC(r=>Ng.mi(r,t),this.serializer)}}class Rx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jB.bind(null,this.syncEngine),await yB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bB}()}createDatastore(e){const t=lm(e.databaseInfo.databaseId),r=function(a){return new rB(a)}(e.databaseInfo);return function(a,l,u,h){return new oB(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new cB(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>TE(this.syncEngine,t,0),function(){return mE.v()?new mE:new Jj}())}createSyncEngine(e,t){return function(i,a,l,u,h,d,m){const x=new RB(i,a,l,u,h,d);return m&&(x.gu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=pt(i);We(oc,"RemoteStore shutting down."),a.Ea.add(5),await Qf(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Rx.provider={build:()=>new Rx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class HB{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{We(ll,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(We(ll,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=z_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function H1(n,e){n.asyncQueue.verifyOperationInProgress(),We(ll,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GB(n);We(ll,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xE(e.remoteStore,i)),n._onlineComponents=e}async function GB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){We(ll,"Using user provided OfflineComponentProvider");try{await H1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Su("Error using user provided cache. Falling back to memory cache: "+t),await H1(n,new Dg)}}else We(ll,"Using default OfflineComponentProvider"),await H1(n,new zB(void 0));return n._offlineComponents}async function rR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(We(ll,"Using user provided OnlineComponentProvider"),await wE(n,n._uninitializedComponentsProvider._online)):(We(ll,"Using default OnlineComponentProvider"),await wE(n,new Rx))),n._onlineComponents}function qB(n){return rR(n).then(e=>e.syncEngine)}async function Nx(n){const e=await rR(n),t=e.eventManager;return t.onListen=NB.bind(null,e.syncEngine),t.onUnlisten=OB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kB.bind(null,e.syncEngine),t}function WB(n,e,t={}){const r=new $o;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,d){const m=new nR({next:v=>{m.Nu(),l.enqueueAndForget(()=>WC(a,x)),v.fromCache&&h.source==="server"?d.reject(new Ge(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),x=new KC(u,m,{includeMetadataChanges:!0,qa:!0});return qC(a,x)}(await Nx(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firestore.googleapis.com",SE=!0;class AE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sR,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sj)throw new Ge(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ge(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JV;switch(r.type){case"firstParty":return new r7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=EE.get(t);r&&(We("ComponentProvider","Removing Datastore"),EE.delete(t),r.terminate())}(this),Promise.resolve()}}function KB(n,e,t,r={}){var d;n=Ls(n,hm);const i=Fu(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(D4(`https://${u}`),O4("Firestore",!0)),a.host!==sR&&a.host!==u&&Su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:i,emulatorOptions:r};if(!ic(h,l)&&(n._setSettings(h),r.mockUserToken)){let m,x;if(typeof r.mockUserToken=="string")m=r.mockUserToken,x=Kr.MOCK_USER;else{m=w9(r.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ge(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Kr(v)}n._authCredentials=new e7(new q4(m,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xc(this.firestore,e,this._query)}}class Xn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}toJSON(){return{type:Xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Kf(t,Xn._jsonSchema))return new Xn(e,r||null,new nt(_n.fromString(t.referencePath)))}}Xn._jsonSchemaVersion="firestore/documentReference/1.0",Xn._jsonSchema={type:Kn("string",Xn._jsonSchemaVersion),referencePath:Kn("string")};class Qo extends xc{constructor(e,t,r){super(e,t,R_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new nt(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function ja(n,e,...t){if(n=$n(n),W4("collection","path",e),n instanceof hm){const r=_n.fromString(e,...t);return jw(r),new Qo(n,null,r)}{if(!(n instanceof Xn||n instanceof Qo))throw new Ge(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return jw(r),new Qo(n.firestore,null,r)}}function ni(n,e,...t){if(n=$n(n),arguments.length===1&&(e=b_.newId()),W4("doc","path",e),n instanceof hm){const r=_n.fromString(e,...t);return Vw(r),new Xn(n,null,new nt(r))}{if(!(n instanceof Xn||n instanceof Qo))throw new Ge(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return Vw(r),new Xn(n.firestore,n instanceof Qo?n.converter:null,new nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FC(this,"async_queue_retry"),this._c=()=>{const r=z1();r&&We(CE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=z1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=z1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new $o;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uu(e))throw e;We(CE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qa("INTERNAL UNHANDLED ERROR: ",NE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=U_.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ct(47125,{Pc:NE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function NE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class cl extends hm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new RE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function XB(n,e){const t=typeof n=="object"?n:y_(),r=typeof n=="string"?n:bg,i=v_(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=T9("firestore");a&&KB(i,...a)}return i}function fm(n){if(n._terminated)throw new Ge(be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YB(n),n._firestoreClient}function YB(n){var r,i,a;const e=n._freezeSettings(),t=function(u,h,d,m){return new y7(u,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,iR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new HB(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fs(Br.fromBase64String(e))}catch(t){throw new Ge(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fs(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kf(e,fs._jsonSchema))return fs.fromBase64String(e.bytes)}}fs._jsonSchemaVersion="firestore/bytes/1.0",fs._jsonSchema={type:Kn("string",fs._jsonSchemaVersion),bytes:Kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ge(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oa._jsonSchemaVersion}}static fromJSON(e){if(Kf(e,oa._jsonSchema))return new oa(e.latitude,e.longitude)}}oa._jsonSchemaVersion="firestore/geoPoint/1.0",oa._jsonSchema={type:Kn("string",oa._jsonSchemaVersion),latitude:Kn("number"),longitude:Kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:la._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kf(e,la._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new la(e.vectorValues);throw new Ge(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}la._jsonSchemaVersion="firestore/vectorValue/1.0",la._jsonSchema={type:Kn("string",la._jsonSchemaVersion),vectorValues:Kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=/^__.*__$/;class QB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yf(e,this.data,t,this.fieldTransforms)}}class aR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ac:n})}}class K_{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Og(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oR(this.Ac)&&$B.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lm(e)}Cc(e,t,r,i=!1){return new K_({Ac:e,methodName:t,Dc:r,path:Fr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(n){const e=n._freezeSettings(),t=lm(n._databaseId);return new ZB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lR(n,e,t,r,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);X_("Data must be an object, but it was:",l,r);const u=hR(r,l);let h,d;if(a.merge)h=new zi(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const x of a.mergeFields){const v=Ix(e,x,t);if(!l.contains(v))throw new Ge(be.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);dR(m,v)||m.push(v)}h=new zi(m),d=l.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,d=l.fieldTransforms;return new QB(new _i(u),h,d)}class gm extends W_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}function cR(n,e,t,r){const i=n.Cc(1,e,t);X_("Data must be an object, but it was:",i,r);const a=[],l=_i.empty();hl(r,(h,d)=>{const m=Y_(e,h,t);d=$n(d);const x=i.yc(m);if(d instanceof gm)a.push(m);else{const v=ed(d,x);v!=null&&(a.push(m),l.set(m,v))}});const u=new zi(a);return new aR(l,u,i.fieldTransforms)}function uR(n,e,t,r,i,a){const l=n.Cc(1,e,t),u=[Ix(e,r,t)],h=[i];if(a.length%2!=0)throw new Ge(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(Ix(e,a[v])),h.push(a[v+1]);const d=[],m=_i.empty();for(let v=u.length-1;v>=0;--v)if(!dR(d,u[v])){const T=u[v];let E=h[v];E=$n(E);const w=l.yc(T);if(E instanceof gm)d.push(T);else{const S=ed(E,w);S!=null&&(d.push(T),m.set(T,S))}}const x=new zi(d);return new aR(m,x,l.fieldTransforms)}function JB(n,e,t,r=!1){return ed(t,n.Cc(r?4:3,e))}function ed(n,e){if(fR(n=$n(n)))return X_("Unsupported field value:",e,n),hR(n,e);if(n instanceof W_)return function(r,i){if(!oR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let h=ed(u,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=$n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=bn.fromDate(r);return{timestampValue:Rg(i.serializer,a)}}if(r instanceof bn){const a=new bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rg(i.serializer,a)}}if(r instanceof oa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fs)return{bytesValue:AC(i.serializer,r._byteString)};if(r instanceof Xn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:O_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof la)return function(l,u){return{mapValue:{fields:{[tC]:{stringValue:nC},[wg]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return N_(u.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Zg(r)}`)}(n,e)}function hR(n,e){const t={};return Y4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hl(n,(r,i)=>{const a=ed(i,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function fR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bn||n instanceof oa||n instanceof fs||n instanceof Xn||n instanceof W_||n instanceof la)}function X_(n,e,t){if(!fR(t)||!K4(t)){const r=Zg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Ix(n,e,t){if((e=$n(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return Y_(n,e);throw Og("Field path arguments must be of type string or ",n,!1,void 0,t)}const eU=new RegExp("[~\\*/\\[\\]]");function Y_(n,e,t){if(e.search(eU)>=0)throw Og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jf(...e.split("."))._internalPath}catch{throw Og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Og(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Ge(be.INVALID_ARGUMENT,u+n+h)}function dR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tU extends gR{data(){return super.data()}}function $_(n,e){return typeof e=="string"?Y_(n,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ge(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q_{}class nU extends Q_{}function DE(n,e,...t){let r=[];e instanceof Q_&&r.push(e),r=r.concat(t),function(a){const l=a.filter(h=>h instanceof Z_).length,u=a.filter(h=>h instanceof mm).length;if(l>1||l>0&&u>0)throw new Ge(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class mm extends nU{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mm(e,t,r)}_apply(e){const t=this._parse(e);return pR(e._query,t),new xc(e.firestore,e.converter,_x(e._query,t))}_parse(e){const t=dm(e.firestore);return function(a,l,u,h,d,m,x){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ge(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){kE(x,m);const E=[];for(const w of x)E.push(OE(h,a,w));v={arrayValue:{values:E}}}else v=OE(h,a,x)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||kE(x,m),v=JB(u,l,x,m==="in"||m==="not-in");return qn.create(d,m,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rU(n,e,t){const r=e,i=$_("where",n);return mm._create(i,r,t)}class Z_ extends Q_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Z_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Vs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const h of u)pR(l,h),l=_x(l,h)}(e._query,t),new xc(e.firestore,e.converter,_x(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OE(n,e,t){if(typeof(t=$n(t))=="string"){if(t==="")throw new Ge(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uC(e)&&t.indexOf("/")!==-1)throw new Ge(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_n.fromString(t));if(!nt.isDocumentKey(r))throw new Ge(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kw(n,new nt(r))}if(t instanceof Xn)return Kw(n,t._key);throw new Ge(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(t)}.`)}function kE(n,e){if(!Array.isArray(n)||n.length===0)throw new Ge(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pR(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ge(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class iU{convertValue(e,t="none"){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ct(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return hl(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var r,i,a;const t=(a=(i=(r=e.fields)==null?void 0:r[wg].arrayValue)==null?void 0:i.values)==null?void 0:a.map(l=>Vn(l.doubleValue));return new la(t)}convertGeoPoint(e){return new oa(Vn(e.latitude),Vn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const t=il(e);return new bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_n.fromString(e);Yt(OC(r),9688,{name:e});const i=new Of(r.get(1),r.get(3)),a=new nt(r.popFirst(5));return i.isEqual(t)||Qa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ef{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends gR{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new H0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ql._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ql._jsonSchema={type:Kn("string",Ql._jsonSchemaVersion),bundleSource:Kn("string","DocumentSnapshot"),bundleName:Kn("string"),bundle:Kn("string")};class H0 extends Ql{data(e={}){return super.data(e)}}class Zl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ef(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new H0(this._firestore,this._userDataWriter,r.key,r,new ef(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new H0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ef(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new H0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ef(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:sU(u.type),doc:h,oldIndex:d,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:n})}}Zl._jsonSchemaVersion="firestore/querySnapshot/1.0",Zl._jsonSchema={type:Kn("string",Zl._jsonSchemaVersion),bundleSource:Kn("string","QuerySnapshot"),bundleName:Kn("string"),bundle:Kn("string")};class J_ extends iU{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function ME(n){n=Ls(n,xc);const e=Ls(n.firestore,cl),t=fm(e),r=new J_(e);return mR(n._query),WB(t,n._query).then(i=>new Zl(e,r,n,i))}function ru(n,e,t,...r){n=Ls(n,Xn);const i=Ls(n.firestore,cl),a=dm(i);let l;return l=typeof(e=$n(e))=="string"||e instanceof Jf?uR(a,"updateDoc",n._key,e,t,r):cR(a,"updateDoc",n._key,e),pm(i,[l.toMutation(n._key,bi.exists(!0))])}function Uh(n){return pm(Ls(n.firestore,cl),[new am(n._key,bi.none())])}function zh(n,e){const t=Ls(n.firestore,cl),r=ni(n),i=xR(n.converter,e);return pm(t,[lR(dm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then(()=>r)}function aU(n,...e){var h,d,m;n=$n(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IE(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(IE(e[r])){const x=e[r];e[r]=(h=x.next)==null?void 0:h.bind(x),e[r+1]=(d=x.error)==null?void 0:d.bind(x),e[r+2]=(m=x.complete)==null?void 0:m.bind(x)}let a,l,u;if(n instanceof Xn)l=Ls(n.firestore,cl),u=R_(n._key.path),a={next:x=>{e[r]&&e[r](oU(l,n,x))},error:e[r+1],complete:e[r+2]};else{const x=Ls(n,xc);l=Ls(x.firestore,cl),u=x._query;const v=new J_(l);a={next:T=>{e[r]&&e[r](new Zl(l,v,x,T))},error:e[r+1],complete:e[r+2]},mR(n._query)}return function(v,T,E,w){const S=new nR(w),F=new KC(T,S,E);return v.asyncQueue.enqueueAndForget(async()=>qC(await Nx(v),F)),()=>{S.Nu(),v.asyncQueue.enqueueAndForget(async()=>WC(await Nx(v),F))}}(fm(l),u,i,a)}function pm(n,e){return function(r,i){const a=new $o;return r.asyncQueue.enqueueAndForget(async()=>MB(await qB(r),i,a)),a.promise}(fm(n),e)}function oU(n,e,t){const r=t.docs.get(e._key),i=new J_(n);return new Ql(n,i,e._key,r,new ef(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dm(e)}set(e,t,r){this._verifyNotCommitted();const i=G1(e,this._firestore),a=xR(i.converter,t,r),l=lR(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,bi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=G1(e,this._firestore);let l;return l=typeof(t=$n(t))=="string"||t instanceof Jf?uR(this._dataReader,"WriteBatch.update",a._key,t,r,i):cR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=G1(e,this._firestore);return this._mutations=this._mutations.concat(new am(t._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function G1(n,e){if((n=$n(n)).firestore!==e)throw new Ge(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n){return fm(n=Ls(n,cl)),new lU(n,e=>pm(n,e))}(function(e,t=!0){(function(i){ju=i})(Vu),Eu(new sc("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new cl(new t7(r.getProvider("auth-internal")),new i7(l,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ge(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(d.options.projectId,m)}(l,i),l);return a={useFetchStreams:t,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Xo(Mw,Pw,e),Xo(Mw,Pw,"esm2020")})();function _R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cU=_R,vR=new qf("auth","Firebase",_R());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=new x_("@firebase/auth");function uU(n,...e){kg.logLevel<=Nt.WARN&&kg.warn(`Auth (${Vu}): ${n}`,...e)}function G0(n,...e){kg.logLevel<=Nt.ERROR&&kg.error(`Auth (${Vu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(n,...e){throw ev(n,...e)}function ca(n,...e){return ev(n,...e)}function yR(n,e,t){const r={...cU(),[e]:t};return new qf("auth","Firebase",r).create(e,{appName:n.name})}function Ka(n){return yR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ev(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return vR.create(n,...e)}function lt(n,e,...t){if(!n)throw ev(e,...t)}function za(n){const e="INTERNAL ASSERTION FAILED: "+n;throw G0(e),new Error(e)}function Ja(n,e){n||za(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function hU(){return PE()==="http:"||PE()==="https:"}function PE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hU()||N9()||"connection"in navigator)?navigator.onLine:!0}function dU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ja(t>e,"Short delay should be less than long delay!"),this.isMobile=A9()||I9()}get(){return fU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n,e){Ja(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pU=new td(3e4,6e4);function dl(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function gl(n,e,t,r,i={}){return bR(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Wf({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:h,...a};return R9()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Fu(n.emulatorConfig.host)&&(d.credentials="include"),TR.fetch()(await wR(n,n.config.apiHost,t,u),d)})}async function bR(n,e,t){n._canInitEmulator=!1;const r={...gU,...e};try{const i=new _U(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw O0(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw O0(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw O0(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw O0(n,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yR(n,m,d);js(n,m)}}catch(i){if(i instanceof to)throw i;js(n,"network-request-failed",{message:String(i)})}}async function nd(n,e,t,r,i={}){const a=await gl(n,e,t,r,i);return"mfaPendingCredential"in a&&js(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function wR(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?tv(n.config,i):`${n.config.apiScheme}://${i}`;return mU.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function xU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _U{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ca(this.auth,"network-request-failed")),pU.get())})}}function O0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ca(n,e,r);return i.customData._tokenResponse=t,i}function LE(n){return n!==void 0&&n.enterprise!==void 0}class vU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yU(n,e){return gl(n,"GET","/v2/recaptchaConfig",dl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(n,e){return gl(n,"POST","/v1/accounts:delete",e)}async function Mg(n,e){return gl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bU(n,e=!1){const t=$n(n),r=await t.getIdToken(e),i=nv(r);lt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:pf(W1(i.auth_time)),issuedAtTime:pf(W1(i.iat)),expirationTime:pf(W1(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function W1(n){return Number(n)*1e3}function nv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return G0("JWT malformed, contained fewer than 3 sections"),null;try{const i=C4(t);return i?JSON.parse(i):(G0("Failed to decode base64 JWT payload"),null)}catch(i){return G0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function FE(n){const e=nv(n);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof to&&wU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function wU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pf(this.lastLoginAt),this.creationTime=pf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(n){var x;const e=n.auth,t=await n.getIdToken(),r=await Lf(n,Mg(e,{idToken:t}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=(x=i.providerUserInfo)!=null&&x.length?ER(i.providerUserInfo):[],l=AU(n.providerData,a),u=n.isAnonymous,h=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ox(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function SU(n){const e=$n(n);await Pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ER(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(n,e){const t=await bR(n,{},async()=>{const r=Wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await wR(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&Fu(n.emulatorConfig.host)&&(h.credentials="include"),TR.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RU(n,e){return gl(n,"POST","/v2/accounts:revokeToken",dl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const t=FE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await CU(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new vu;return r&&(lt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(lt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vu,this.toJSON())}_performRefresh(){return za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(n,e){lt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ms{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new EU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ox(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Lf(this,this.stsTokenManager.getToken(this.auth,e));return lt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bU(this,e)}reload(){return SU(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(Ka(this.auth));const e=await this.getIdToken();return await Lf(this,TU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,d=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:x,emailVerified:v,isAnonymous:T,providerData:E,stsTokenManager:w}=t;lt(x&&w,e,"internal-error");const S=vu.fromJSON(this.name,w);lt(typeof x=="string",e,"internal-error"),Oo(r,e.name),Oo(i,e.name),lt(typeof v=="boolean",e,"internal-error"),lt(typeof T=="boolean",e,"internal-error"),Oo(a,e.name),Oo(l,e.name),Oo(u,e.name),Oo(h,e.name),Oo(d,e.name),Oo(m,e.name);const F=new Ms({uid:x,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:S,createdAt:d,lastLoginAt:m});return E&&Array.isArray(E)&&(F.providerData=E.map(z=>({...z}))),h&&(F._redirectEventId=h),F}static async _fromIdTokenResponse(e,t,r=!1){const i=new vu;i.updateFromServerResponse(t);const a=new Ms({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pg(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];lt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ER(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new vu;u.updateFromIdToken(r);const h=new Ms({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ox(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function Ha(n){Ja(n instanceof Function,"Expected a class definition");let e=VE.get(n);return e?(Ja(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}SR.type="NONE";const jE=SR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n,e,t){return`firebase:${n}:${e}:${t}`}class yu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=q0(this.userKey,i.apiKey,a),this.fullPersistenceKey=q0("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Mg(this.auth,{idToken:e}).catch(()=>{});return t?Ms._fromGetAccountInfoResponse(this.auth,t,e):null}return Ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new yu(Ha(jE),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Ha(jE);const l=q0(r,e.config.apiKey,e.name);let u=null;for(const d of t)try{const m=await d._get(l);if(m){let x;if(typeof m=="string"){const v=await Mg(e,{idToken:m}).catch(()=>{});if(!v)break;x=await Ms._fromGetAccountInfoResponse(e,v,m)}else x=Ms._fromJSON(e,m);d!==a&&(u=x),a=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new yu(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new yu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DR(e))return"Blackberry";if(OR(e))return"Webos";if(CR(e))return"Safari";if((e.includes("chrome/")||RR(e))&&!e.includes("edge/"))return"Chrome";if(IR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AR(n=Qr()){return/firefox\//i.test(n)}function CR(n=Qr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RR(n=Qr()){return/crios\//i.test(n)}function NR(n=Qr()){return/iemobile/i.test(n)}function IR(n=Qr()){return/android/i.test(n)}function DR(n=Qr()){return/blackberry/i.test(n)}function OR(n=Qr()){return/webos/i.test(n)}function rv(n=Qr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function NU(n=Qr()){var e;return rv(n)&&!!((e=window.navigator)!=null&&e.standalone)}function IU(){return D9()&&document.documentMode===10}function kR(n=Qr()){return rv(n)||IR(n)||OR(n)||DR(n)||/windows phone/i.test(n)||NR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n,e=[]){let t;switch(n){case"Browser":t=BE(Qr());break;case"Worker":t=`${BE(Qr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(n,e={}){return gl(n,"GET","/v2/passwordPolicy",dl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=6;class MU{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new DU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ha(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await yu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mg(this,{idToken:e}),r=await Ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(hs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(Ka(this));const t=e?$n(e):null;return t&&lt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OU(this),t=new MU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await RU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ha(e)||this._popupRedirectResolver;lt(t,this,"argument-error"),this.redirectPersistenceManager=await yu.create(this,[Ha(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&uU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _c(n){return $n(n)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=j9(t=>this.observer=t)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LU(n){xm=n}function PR(n){return xm.loadJS(n)}function FU(){return xm.recaptchaEnterpriseScript}function VU(){return xm.gapiScript}function jU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class BU{constructor(){this.enterprise=new UU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class UU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zU="recaptcha-enterprise",LR="NO_RECAPTCHA";class HU{constructor(e){this.type=zU,this.auth=_c(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{yU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new vU(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;LE(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l(LR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BU().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&LE(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=FU();h.length!==0&&(h+=u),PR(h).then(()=>{i(u,a,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function zE(n,e,t,r=!1,i=!1){const a=new HU(n);let l;if(i)l=LR;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function kx(n,e,t,r,i){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await zE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await zE(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(n,e){const t=v_(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(ic(a,e??{}))return i;js(i,"already-initialized")}return t.initialize({options:e})}function qU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ha);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WU(n,e,t){const r=_c(n);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=FR(e),{host:l,port:u}=KU(e),h=u===null?"":`:${u}`,d={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(ic(d,r.config.emulator)&&ic(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Fu(l)?(D4(`${a}//${l}${h}`),O4("Auth",!0)):XU()}function FR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KU(n){const e=FR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:HE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:HE(l)}}}function HE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function XU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return za("not implemented")}_getIdTokenResponse(e){return za("not implemented")}_linkToIdToken(e,t){return za("not implemented")}_getReauthenticationResolver(e){return za("not implemented")}}async function YU(n,e){return gl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(n,e){return nd(n,"POST","/v1/accounts:signInWithPassword",dl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(n,e){return nd(n,"POST","/v1/accounts:signInWithEmailLink",dl(n,e))}async function ZU(n,e){return nd(n,"POST","/v1/accounts:signInWithEmailLink",dl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends iv{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ff(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ff(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kx(e,t,"signInWithPassword",$U);case"emailLink":return QU(e,{email:this._email,oobCode:this._password});default:js(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kx(e,r,"signUpPassword",YU);case"emailLink":return ZU(e,{idToken:t,email:this._email,oobCode:this._password});default:js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(n,e){return nd(n,"POST","/v1/accounts:signInWithIdp",dl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="http://localhost";class lc extends iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new lc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):js("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const l=new lc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Tu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Tu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tu(e,t)}buildRequest(){const e={requestUri:JU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tz(n){const e=Yh($h(n)).link,t=e?Yh($h(e)).deep_link_id:null,r=Yh($h(n)).deep_link_id;return(r?Yh($h(r)).link:null)||r||t||e||n}class sv{constructor(e){const t=Yh($h(e)),r=t.apiKey??null,i=t.oobCode??null,a=ez(t.mode??null);lt(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=tz(e);try{return new sv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.providerId=Hu.PROVIDER_ID}static credential(e,t){return Ff._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=sv.parseLink(t);return lt(r,"argument-error"),Ff._fromEmailAndCode(e,r.code,r.tenantId)}}Hu.PROVIDER_ID="password";Hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends VR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends rd{constructor(){super("facebook.com")}static credential(e){return lc._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return lc._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Po.credential(t,r)}catch{return null}}}Po.GOOGLE_SIGN_IN_METHOD="google.com";Po.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends rd{constructor(){super("github.com")}static credential(e){return lc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends rd{constructor(){super("twitter.com")}static credential(e,t){return lc._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fo.credential(t,r)}catch{return null}}}Fo.TWITTER_SIGN_IN_METHOD="twitter.com";Fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(n,e){return nd(n,"POST","/v1/accounts:signUp",dl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Ms._fromIdTokenResponse(e,r,i),l=GE(r);return new cc({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=GE(r);return new cc({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function GE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends to{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Lg(e,t,r,i)}}function jR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lg._fromErrorAndOperation(n,a,e,r):a})}async function rz(n,e,t=!1){const r=await Lf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return cc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(n,e,t=!1){const{auth:r}=n;if(hs(r.app))return Promise.reject(Ka(r));const i="reauthenticate";try{const a=await Lf(n,jR(r,i,e,n),t);lt(a.idToken,r,"internal-error");const l=nv(a.idToken);lt(l,r,"internal-error");const{sub:u}=l;return lt(n.uid===u,r,"user-mismatch"),cc._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&js(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,e,t=!1){if(hs(n.app))return Promise.reject(Ka(n));const r="signIn",i=await jR(n,r,e),a=await cc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function sz(n,e){return BR(_c(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n){const e=_c(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function az(n,e,t){if(hs(n.app))return Promise.reject(Ka(n));const r=_c(n),l=await kx(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nz).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&UR(n),h}),u=await cc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function oz(n,e,t){return hs(n.app)?Promise.reject(Ka(n)):sz($n(n),Hu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UR(n),r})}function lz(n,e,t,r){return $n(n).onIdTokenChanged(e,t,r)}function cz(n,e,t){return $n(n).beforeAuthStateChanged(e,t)}function uz(n,e,t,r){return $n(n).onAuthStateChanged(e,t,r)}const Fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fg,"1"),this.storage.removeItem(Fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=1e3,fz=10;class HR extends zR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);IU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HR.type="LOCAL";const dz=HR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends zR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GR.type="SESSION";const qR=GR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new _m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async d=>d(t.origin,a)),h=await gz(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const d=av("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(x){const v=x;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(){return window}function pz(n){ua().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof ua().WorkerGlobalScope<"u"&&typeof ua().importScripts=="function"}async function xz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _z(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function vz(){return WR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebaseLocalStorageDb",yz=1,Vg="firebaseLocalStorage",XR="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vm(n,e){return n.transaction([Vg],e?"readwrite":"readonly").objectStore(Vg)}function Tz(){const n=indexedDB.deleteDatabase(KR);return new id(n).toPromise()}function Mx(){const n=indexedDB.open(KR,yz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vg,{keyPath:XR})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vg)?e(r):(r.close(),await Tz(),e(await Mx()))})})}async function qE(n,e,t){const r=vm(n,!0).put({[XR]:e,value:t});return new id(r).toPromise()}async function bz(n,e){const t=vm(n,!1).get(e),r=await new id(t).toPromise();return r===void 0?null:r.value}function WE(n,e){const t=vm(n,!0).delete(e);return new id(t).toPromise()}const wz=800,Ez=3;class YR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mx(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Ez)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(vz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await xz(),!this.activeServiceWorker)return;this.sender=new mz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mx();return await qE(e,Fg,"1"),await WE(e,Fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>qE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>bz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>WE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=vm(i,!1).getAll();return new id(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YR.type="LOCAL";const Sz=YR;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(n,e){return e?Ha(e):(lt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cz(n){return BR(n.auth,new ov(n),n.bypassAuthState)}function Rz(n){const{auth:e,user:t}=n;return lt(t,e,"internal-error"),iz(t,new ov(n),n.bypassAuthState)}async function Nz(n){const{auth:e,user:t}=n;return lt(t,e,"internal-error"),rz(t,new ov(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cz;case"linkViaPopup":case"linkViaRedirect":return Nz;case"reauthViaPopup":case"reauthViaRedirect":return Rz;default:js(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=new td(2e3,1e4);class uu extends $R{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,uu.currentPopupAction&&uu.currentPopupAction.cancel(),uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const e=av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ca(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ca(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ca(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Iz.get())};e()}}uu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="pendingRedirect",W0=new Map;class Oz extends $R{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=W0.get(this.auth._key());if(!e){try{const r=await kz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}W0.set(this.auth._key(),e)}return this.bypassAuthState||W0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kz(n,e){const t=Lz(e),r=Pz(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Mz(n,e){W0.set(n._key(),e)}function Pz(n){return Ha(n._redirectPersistence)}function Lz(n){return q0(Dz,n.config.apiKey,n.name)}async function Fz(n,e,t=!1){if(hs(n.app))return Promise.reject(Ka(n));const r=_c(n),i=Az(r,e),l=await new Oz(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=600*1e3;class jz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!QR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(ca(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vz&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(e))}saveEventToCache(e){this.cachedEventUids.add(KE(e)),this.lastProcessedEventTime=Date.now()}}function KE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function QR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(n,e={}){return gl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hz=/^https?/;async function Gz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Uz(n);for(const t of e)try{if(qz(t))return}catch{}js(n,"unauthorized-domain")}function qz(n){const e=Dx(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!Hz.test(t))return!1;if(zz.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=new td(3e4,6e4);function XE(){const n=ua().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Kz(n){return new Promise((e,t)=>{var i,a,l;function r(){XE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XE(),t(ca(n,"network-request-failed"))},timeout:Wz.get()})}if((a=(i=ua().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=ua().gapi)!=null&&l.load)r();else{const u=jU("iframefcb");return ua()[u]=()=>{gapi.load?r():t(ca(n,"network-request-failed"))},PR(`${VU()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw K0=null,e})}let K0=null;function Xz(n){return K0=K0||Kz(n),K0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=new td(5e3,15e3),$z="__/auth/iframe",Qz="emulator/auth/iframe",Zz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eH(n){const e=n.config;lt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tv(e,Qz):`https://${n.config.authDomain}/${$z}`,r={apiKey:e.apiKey,appName:n.name,v:Vu},i=Jz.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Wf(r).slice(1)}`}async function tH(n){const e=await Xz(n),t=ua().gapi;return lt(t,n,"internal-error"),e.open({where:document.body,url:eH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zz,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ca(n,"network-request-failed"),u=ua().setTimeout(()=>{a(l)},Yz.get());function h(){ua().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rH=500,iH=600,sH="_blank",aH="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oH(n,e,t,r=rH,i=iH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...nH,width:r.toString(),height:i.toString(),top:a,left:l},d=Qr().toLowerCase();t&&(u=RR(d)?sH:t),AR(d)&&(e=e||aH,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[T,E])=>`${v}${T}=${E},`,"");if(NU(d)&&u!=="_self")return lH(e||"",u),new YE(null);const x=window.open(e||"",u,m);lt(x,n,"popup-blocked");try{x.focus()}catch{}return new YE(x)}function lH(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="__/auth/handler",uH="emulator/auth/handler",hH=encodeURIComponent("fac");async function $E(n,e,t,r,i,a){lt(n.config.authDomain,n,"auth-domain-config-required"),lt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vu,eventId:i};if(e instanceof VR){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",V9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,x]of Object.entries({}))l[m]=x}if(e instanceof rd){const m=e.getScopes().filter(x=>x!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await n._getAppCheckToken(),d=h?`#${hH}=${encodeURIComponent(h)}`:"";return`${fH(n)}?${Wf(u).slice(1)}${d}`}function fH({config:n}){return n.emulator?tv(n,uH):`https://${n.authDomain}/${cH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="webStorageSupport";class dH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qR,this._completeRedirectFn=Fz,this._overrideRedirectResult=Mz}async _openPopup(e,t,r,i){var l;Ja((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await $E(e,t,r,Dx(),i);return oH(e,a,av())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await $E(e,t,r,Dx(),i);return pz(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ja(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await tH(e),r=new jz(e);return t.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(K1,{type:K1},i=>{var l;const a=(l=i==null?void 0:i[0])==null?void 0:l[K1];a!==void 0&&t(!!a),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kR()||CR()||rv()}}const gH=dH;var QE="@firebase/auth",ZE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xH(n){Eu(new sc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;lt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MR(n)},d=new PU(r,i,a,h);return qU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Eu(new sc("auth-internal",e=>{const t=_c(e.getProvider("auth").getImmediate());return(r=>new mH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(QE,ZE,pH(n)),Xo(QE,ZE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=300,vH=I4("authIdTokenMaxAge")||_H;let JE=null;const yH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vH)return;const i=t==null?void 0:t.token;JE!==i&&(JE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TH(n=y_()){const e=v_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=GU(n,{popupRedirectResolver:gH,persistence:[Sz,dz,qR]}),r=I4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=yH(a.toString());cz(t,l,()=>l(t.currentUser)),lz(t,u=>l(u))}}const i=R4("auth");return i&&WU(t,`http://${i}`),t}function bH(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}LU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ca("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",bH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xH("Browser");const wH={apiKey:"AIzaSyAcP6FMNqxpAAe0w6x9-ExOO5CjYMGJ2ao",authDomain:"tin12-312f2.firebaseapp.com",projectId:"tin12-312f2",storageBucket:"tin12-312f2.appspot.com",messagingSenderId:"382162762269",appId:"1:382162762269:web:48d766f2c66a2978f6a4f4",measurementId:"G-BE5I3HNNQW"},ZR=BV().length?y_():P4(wH),wt=XB(ZR),zl=TH(ZR);Ug.register(Wh,uk,nk,F0,tx,nx);const EH=[{id:"10A1",name:"10A1"},{id:"11A1",name:"11A1"},{id:"12A1",name:"12 Chuyên Lý"},{id:"CT",name:"12 Chuyên Tin"}],SH=[{id:1,student_code:"HS001",full_name:"Nguyễn Văn An",date_of_birth:"2006-05-10",gender:"Nam",class_id:"10A1",class_name:"10A1",parent_phone:"0123456789",parent_zalo:"0123456789",address:"123 Đường ABC, Quận 1, TP. HCM"},{id:2,student_code:"HS002",full_name:"Trần Thị Bình",date_of_birth:"2006-08-15",gender:"Nữ",class_id:"10A1",class_name:"10A1",parent_phone:"0123456790",parent_zalo:"",address:"456 Đường XYZ, Quận 2, TP. HCM"},{id:4,student_code:"HS004",full_name:"Phạm Thị Dung",date_of_birth:"2006-11-01",gender:"Nữ",class_id:"11A1",class_name:"11A1",parent_phone:"0123456792",parent_zalo:"",address:"101 Đường PQR, Quận 4, TP. HCM"},{id:3,student_code:"CL2024001",full_name:"Lê Văn Cường",date_of_birth:"2006-03-20",gender:"Nam",class_id:"12A1",class_name:"12 Chuyên Lý",parent_phone:"0905123456",parent_zalo:"0905123456",address:"789 Đường KLM, Quận 3, TP. HCM"}],AH=[{student_id:2,violation_date:"2025-07-30T09:15:00Z",violation_type:["Đi học trễ","Vi phạm khác"],description:"Đến trễ 15 phút.",points_deducted:5,severity_level:"Nhẹ",status:"Đã giải quyết",reported_by:"tin12@gmail.com",resolved_date:"2025-07-30T14:00:00Z",violation_count:1},{student_id:1,violation_date:"2025-08-01T08:00:00Z",violation_type:["Không đồng phục"],description:"",points_deducted:5,severity_level:"Nhẹ",status:"Chưa giải quyết",reported_by:"tin12@gmail.com",resolved_date:null,violation_count:1},{student_id:3,violation_date:"2025-07-29T10:00:00Z",violation_type:["Sử dụng điện thoại"],description:"Sử dụng điện thoại trong giờ học",points_deducted:5,severity_level:"Nặng",status:"Chưa giải quyết",reported_by:"giaovienly@email.com",resolved_date:null,violation_count:1},{student_id:4,violation_date:"2025-07-28T11:20:00Z",violation_type:["Mất trật tự"],description:"Nói chuyện riêng, làm ồn",points_deducted:5,severity_level:"Nhẹ",status:"Đã giải quyết",reported_by:"giamthi@email.com",resolved_date:"2025-07-28T11:30:00Z",violation_count:1},{student_id:2,violation_date:"2025-07-25T07:15:00Z",violation_type:["Không đồng phục"],description:"Sai đồng phục",points_deducted:5,severity_level:"Nhẹ",status:"Đã giải quyết",reported_by:"saodo@email.com",resolved_date:"2025-07-25T07:20:00Z",violation_count:2}],CH=[{student_id:1,date:"2025-08-06T00:00:00Z"},{student_id:2,date:"2025-08-05T00:00:00Z"},{student_id:4,date:"2025-08-04T00:00:00Z"}],RH=["Không học bài","Đi học trễ","Không đồng phục","Không Huy hiệu Đoàn","Không trực nhật","Sử dụng điện thoại","Mất trật tự","Vi phạm khác"],NH=["Học tập tốt","Tham gia tích cực","Hỗ trợ bạn bè","Dũng cảm","Tiến bộ vượt bậc","Thành tích đặc biệt"],IH=[{student_id:2,reward_type:"Tham gia tích cực",description:"Tích cực phát biểu xây dựng bài trong các buổi học.",points_added:3,reward_date:"2025-07-30T00:00:00Z",awarded_by:"tin12@gmail.com",award_date:"2025-07-30T00:00:00Z"},{student_id:3,reward_type:"Học tập tốt",description:"Đạt điểm cao nhất trong bài kiểm tra giữa kỳ môn Lý.",points_added:5,reward_date:"2025-07-29T00:00:00Z",awarded_by:"giaovienly@email.com",award_date:"2025-07-29T00:00:00Z"},{student_id:4,reward_type:"Hỗ trợ bạn bè",description:"Giúp đỡ bạn An tiến bộ trong học tập.",points_added:2,reward_date:"2025-07-28T00:00:00Z",awarded_by:"GVCN",award_date:"2025-07-28T00:00:00Z"}],DH=[{id:1,title:"Thông báo nghỉ lễ 30/4 - 1/5",content:"Học sinh toàn trường được nghỉ lễ từ ngày 30/4 đến hết ngày 1/5. Lịch học lại bắt đầu từ ngày 2/5.",date:"2025-04-28T10:00:00Z"},{id:2,title:"Kế hoạch ôn tập thi cuối kỳ",content:"Nhà trường đã ban hành kế hoạch ôn tập chi tiết cho kỳ thi cuối kỳ II. Đề nghị giáo viên chủ nhiệm và học sinh các lớp theo dõi và thực hiện nghiêm túc.",date:"2025-04-25T15:30:00Z"}];function Hl(n){const[e,t]=$e.useState([]),[r,i]=$e.useState(!0);return $e.useEffect(()=>{if(!wt){i(!1);return}const a=ja(wt,n),l=aU(a,u=>{const h=u.docs.map(d=>({...d.data(),docId:d.id}));t(h),i(!1)},u=>{console.error(`Error fetching ${n}:`,u),i(!1)});return()=>l()},[n]),[e,r]}const eS=()=>({status:"Có mặt",attitude:5,extracurricular:!0,notes:""});function OH(){var Ta,wc;const[n,e]=$e.useState("dashboard"),[t,r]=$e.useState(null),[i,a]=$e.useState(!0),l=!!t,[u,h]=$e.useState(!1),[d,m]=$e.useState(""),[x,v]=$e.useState(""),[T,E]=$e.useState({totalStudents:0,dailyViolationsCount:0,dailyAttendance:0,dailyAbsentees:0,weeklyAbsentees:0}),[w,S]=$e.useState([]),[F,z]=$e.useState([]),[H,Y]=$e.useState([]),[te,he]=$e.useState([]),[D,I]=$e.useState(!0),[R,L]=$e.useState(""),[V,B]=$e.useState(""),[P,Qe]=Hl("students"),[Ie,oe]=Hl("classes"),[pe,je]=Hl("violations"),[qe,st]=Hl("rewards"),[dt,K]=Hl("absences"),[ee,Z]=Hl("attendance"),[Q,ve]=Hl("announcements"),ze=Qe||oe||je||st||K||Z||ve,[Ke,Ue]=$e.useState(!1),[Me,xt]=$e.useState(!1),[ht,sn]=$e.useState(null),[Je,hn]=$e.useState({student_code:"",full_name:"",date_of_birth:"",gender:"Nam",class_id:"",parent_phone:"",parent_zalo:"",address:""}),[Ot,Ve]=$e.useState(null),[qt,Bn]=$e.useState(null),[br,or]=$e.useState(!1),[Gi,ai]=$e.useState(null),[En,Si]=$e.useState(null),[Bt,Et]=$e.useState(null),[fn,Mn]=$e.useState(null),[Zr,no]=$e.useState(new Date),[wr,qi]=$e.useState(""),[oi,Ur]=$e.useState(""),[Wi,ms]=$e.useState(""),[Ki,Bs]=$e.useState(""),[Ai,li]=$e.useState(""),[Ci,Jr]=$e.useState(!1),[Er,ps]=$e.useState(null),[vn,Sr]=$e.useState({student_id:"",violation_type:[],description:"",severity_level:"Nhẹ",violation_date:new Date().toISOString().split("T")[0],reported_by:"GVCN"}),[zr,ro]=$e.useState(""),[Wt,An]=$e.useState(""),[pn,Zn]=$e.useState(!1),[Xi,da]=$e.useState(null),[O,G]=$e.useState({student_id:"",reward_type:"",description:"",points_added:0,reward_date:new Date().toISOString().split("T")[0],awarded_by:"GVCN",award_date:""}),[j,U]=$e.useState("violations"),[q,W]=$e.useState("week"),[ie,ge]=$e.useState("violations"),[ne,le]=$e.useState("week"),[ue,Se]=$e.useState("class"),[Oe,Be]=$e.useState(!1),[Re,Fe]=$e.useState(null),[et,St]=$e.useState({title:"",content:""}),[vt,Tt]=$e.useState(null),[lr,Yi]=$e.useState(""),[Ar,cr]=$e.useState(!1),[ur,hr]=$e.useState(null),[io,fr]=$e.useState("");$e.useEffect(()=>{if(!zl){a(!1);return}const N=uz(zl,xe=>{r(xe),a(!1)});return()=>N()},[]),$e.useEffect(()=>{ze||(async()=>{if(!wt)return;const xe="databaseSeeded_v1";if(localStorage.getItem(xe))return;console.log("Database seems empty. Seeding initial data...");const Ne=[{name:"students",data:SH,mockIdField:"id"},{name:"classes",data:EH},{name:"violations",data:AH},{name:"rewards",data:IH},{name:"absences",data:CH},{name:"announcements",data:DH}];try{for(const{name:Ce,data:De,mockIdField:He}of Ne){const rt=ja(wt,Ce);if((await ME(DE(rt))).empty){console.log(`Seeding ${Ce}...`);const Xt=q1(wt);De.forEach(an=>{const{id:$t,...gt}=an,ft=He?an:gt;Xt.set(ni(rt),ft)}),await Xt.commit()}}localStorage.setItem(xe,"true"),console.log("Seeding complete.")}catch(Ce){console.error("Error seeding database:",Ce)}})()},[ze]);const Hr=new Date,ml=["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],so=`Hôm nay là ${ml[Hr.getDay()]}, ${Hr.getDate()} tháng ${Hr.getMonth()+1}, ${Hr.getFullYear()}`,xs=P.filter(N=>(V?N.class_id===V:!0)&&(R?N.full_name.toLowerCase().includes(R.toLowerCase())||N.student_code.toLowerCase().includes(R.toLowerCase()):!0)),Us=pe.map(N=>({...N,student:P.find(xe=>xe.id===N.student_id)})).filter(N=>{if(!N.student)return!1;const xe=oi?N.student.class_id===oi:!0,Ne=wr?N.student.full_name.toLowerCase().includes(wr.toLowerCase())||N.description.toLowerCase().includes(wr.toLowerCase())||Array.isArray(N.violation_type)&&N.violation_type.join(", ").toLowerCase().includes(wr.toLowerCase())||N.student.student_code.toLowerCase().includes(wr.toLowerCase()):!0,Ce=Wi?N.severity_level===Wi:!0,De=Ki?N.status===Ki:!0,He=Ai?new Date(N.violation_date).toISOString().split("T")[0]===Ai:!0;return xe&&Ne&&Ce&&De&&He}),vc=qe.map(N=>({...N,student:P.find(xe=>xe.id===N.student_id)})).filter(N=>{if(!N.student)return!1;const xe=Wt?N.student.class_id===Wt:!0,Ne=zr?N.student.full_name.toLowerCase().includes(zr.toLowerCase())||N.student.student_code.toLowerCase().includes(zr.toLowerCase())||N.reward_type.toLowerCase().includes(zr.toLowerCase()):!0;return xe&&Ne}),Cn=P.filter(N=>lr?N.full_name.toLowerCase().includes(lr.toLowerCase())||N.student_code.toLowerCase().includes(lr.toLowerCase()):!0);$e.useEffect(()=>{ga()},[P,pe,dt]);const Gr=N=>{if(!N)return 0;const xe=100,Ne=pe.filter(rt=>rt.student_id===N.id),Ce=qe.filter(rt=>rt.student_id===N.id);let De=0;Ne.forEach(rt=>{De+=rt.points_deducted||0});let He=0;return Ce.forEach(rt=>{He+=rt.points_added||0}),Math.max(0,xe-De+He)},ga=()=>{I(!0);const N=new Date,xe=N.toDateString(),Ne=new Date(N);Ne.setDate(N.getDate()-7),Ne.setHours(0,0,0,0);const Ce=pe.filter(Ze=>new Date(Ze.violation_date).toDateString()===xe),De=pe.filter(Ze=>{const Xt=new Date(Ze.violation_date);return Xt>=Ne&&Xt<=N}).sort((Ze,Xt)=>new Date(Xt.violation_date).getTime()-new Date(Ze.violation_date).getTime()),He=dt.filter(Ze=>new Date(Ze.date).toDateString()===xe),rt=dt.filter(Ze=>{const Xt=new Date(Ze.date);return Xt>=Ne&&Xt<=N}).sort((Ze,Xt)=>new Date(Xt.date).getTime()-new Date(Ze.date).getTime());S(Ce),z(De),Y(He),he(rt),E({totalStudents:P.length,dailyViolationsCount:Ce.length,dailyAttendance:P.length-He.length,dailyAbsentees:He.length,weeklyAbsentees:rt.length}),I(!1)},zs=()=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");ps(null),Sr({student_id:"",violation_type:[],description:"",severity_level:"Nhẹ",violation_date:new Date().toISOString().split("T")[0],reported_by:"GVCN"}),Jr(!0)},_s=N=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");ps(N);const{student_id:xe,violation_type:Ne,description:Ce,severity_level:De,violation_date:He,reported_by:rt}=N;Sr({student_id:String(xe),violation_type:Ne,description:Ce,severity_level:De,violation_date:new Date(He).toISOString().split("T")[0],reported_by:rt}),Jr(!0)},Kt=async N=>{if(N.preventDefault(),!l||!wt)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");if(vn.violation_type.length===0){alert("Vui lòng chọn ít nhất một loại vi phạm.");return}const xe=parseInt(vn.student_id,10),Ne={...vn,student_id:xe,points_deducted:5};try{if(Er){const Ce=ni(wt,"violations",Er.docId);await ru(Ce,Ne),alert("Cập nhật vi phạm thành công!")}else{const Ce=pe.filter(He=>He.student_id===xe).length+1,De={...Ne,violation_count:Ce,status:"Chưa giải quyết",resolved_date:null};await zh(ja(wt,"violations"),De),alert("Thêm vi phạm thành công!")}}catch(Ce){console.error("Error saving violation: ",Ce),alert("Đã xảy ra lỗi. Vui lòng thử lại.")}Jr(!1),ps(null)},ma=N=>{if(!l){alert("Vui lòng đăng nhập để thực hiện thao tác này!");return}const xe=P.find(Ne=>Ne.id===N.student_id);Si({...N,studentName:xe?xe.full_name:"Không xác định"})},ci=async()=>{if(!(!En||!wt)){try{await Uh(ni(wt,"violations",En.docId)),alert("Xóa vi phạm thành công!")}catch(N){console.error("Error deleting violation: ",N),alert("Lỗi khi xóa vi phạm.")}Si(null)}},pa=async N=>{if(!l||!wt)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");try{const xe=ni(wt,"violations",N);await ru(xe,{status:"Đã giải quyết",resolved_date:new Date().toISOString()}),alert("Đã giải quyết vi phạm.")}catch(xe){console.error("Error resolving violation: ",xe),alert("Lỗi khi giải quyết vi phạm.")}},yc=()=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");da(null),G({student_id:"",reward_type:"",description:"",points_added:0,reward_date:new Date().toISOString().split("T")[0],awarded_by:"GVCN",award_date:new Date().toISOString().split("T")[0]}),Zn(!0)},pl=N=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");da(N),G({...N,student_id:String(N.student_id),reward_date:new Date(N.reward_date).toISOString().split("T")[0],award_date:N.award_date?new Date(N.award_date).toISOString().split("T")[0]:""}),Zn(!0)},xl=async N=>{if(N.preventDefault(),!l||!wt)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");if(!O.reward_type){alert("Vui lòng chọn loại khen thưởng.");return}const xe={...O,student_id:parseInt(O.student_id,10),points_added:Number(O.points_added)||0};try{Xi?(await ru(ni(wt,"rewards",Xi.docId),xe),alert("Cập nhật khen thưởng thành công!")):(await zh(ja(wt,"rewards"),xe),alert("Thêm khen thưởng thành công!"))}catch(Ne){console.error("Error saving reward: ",Ne),alert("Đã xảy ra lỗi khi lưu khen thưởng.")}Zn(!1),da(null)},Gu=N=>{if(!l){alert("Vui lòng đăng nhập để thực hiện thao tác này!");return}const xe=P.find(Ne=>Ne.id===N.student_id);Et({...N,studentName:xe?xe.full_name:"Không xác định"})},qu=async()=>{if(!(!Bt||!wt)){try{await Uh(ni(wt,"rewards",Bt.docId)),alert("Xóa khen thưởng thành công!")}catch(N){console.error("Error deleting reward: ",N),alert("Lỗi khi xóa khen thưởng.")}Et(null)}},ao=async()=>{if(!(!fn||!wt)){try{await Uh(ni(wt,"absences",fn.docId)),alert("Xóa bản ghi vắng mặt thành công!")}catch(N){console.error("Error deleting absence: ",N),alert("Lỗi khi xóa bản ghi vắng mặt.")}Mn(null)}},vs=async N=>{var Ce;if(N.preventDefault(),!l||!wt){alert("Vui lòng đăng nhập để thực hiện thao tác này!");return}const xe=((Ce=Ie.find(De=>De.id===Je.class_id))==null?void 0:Ce.name)||"",Ne={...Je,class_name:xe};try{if(ht)await ru(ni(wt,"students",ht.docId),Ne),alert("Cập nhật học sinh thành công!");else{const De=P.reduce((rt,Ze)=>Math.max(rt,Ze.id),0),He={...Ne,id:De+1};await zh(ja(wt,"students"),He),alert("Thêm học sinh thành công!")}}catch(De){console.error("Error saving student: ",De),alert("Đã xảy ra lỗi khi lưu thông tin học sinh.")}Ue(!1),sn(null),hn({student_code:"",full_name:"",date_of_birth:"",gender:"Nam",class_id:"",parent_phone:"",parent_zalo:"",address:""})},ui=async()=>{if(!Ot)return alert("Vui lòng chọn file CSV để import!");if(!l||!wt)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");or(!0);const N=new FileReader;N.onload=async xe=>{try{const Ne=xe.target.result;if(typeof Ne!="string")throw new Error("Could not read file content as text.");const Ce=Ne.split(`
`).filter(gt=>gt.trim()!=="");if(Ce.length<2)throw new Error("File CSV rỗng hoặc chỉ có dòng tiêu đề.");const De=Ce[0].trim().split(",").map(gt=>gt.trim()),He=Ce.slice(1),rt=De.reduce((gt,ft,Xe)=>(gt[ft]=Xe,gt),{}),Ze={total:He.length,success:0,errors:0,details:[]},Xt=[],an=new Set(P.map(gt=>gt.student_code.toLowerCase()));let $t=P.reduce((gt,ft)=>Math.max(gt,ft.id),0);if(He.forEach((gt,ft)=>{var b;const Xe=ft+2,Rt=gt.trim().split(","),dn={};for(const A in rt)dn[A]=(b=Rt[rt[A]])==null?void 0:b.trim();const Es=["student_code","full_name","date_of_birth","gender","class_name","parent_phone"].filter(A=>!dn[A]);if(Es.length>0){Ze.errors++,Ze.details.push({row:Xe,student_code:dn.student_code||"N/A",status:"Error",error:`Thiếu thông tin: ${Es.join(", ")}`});return}const Ss=Ie.find(A=>A.name.trim().toLowerCase()===String(dn.class_name).trim().toLowerCase());if(!Ss){Ze.errors++,Ze.details.push({row:Xe,student_code:dn.student_code,status:"Error",error:`Lớp '${dn.class_name}' không tồn tại`});return}const ei=String(dn.student_code).trim().toLowerCase();if(an.has(ei)||Xt.some(A=>A.student_code.toLowerCase()===ei)){Ze.errors++,Ze.details.push({row:Xe,student_code:dn.student_code,status:"Error",error:"Mã học sinh đã tồn tại"});return}$t++;const g={id:$t,student_code:String(dn.student_code).trim(),full_name:String(dn.full_name),date_of_birth:String(dn.date_of_birth),gender:String(dn.gender),class_id:Ss.id,class_name:Ss.name,parent_phone:String(dn.parent_phone),parent_zalo:String(dn.parent_zalo||""),address:String(dn.address||"")};Xt.push(g),Ze.success++,Ze.details.push({row:Xe,student_code:g.student_code,status:"Success"})}),Xt.length>0){const gt=q1(wt),ft=ja(wt,"students");Xt.forEach(Xe=>{const Rt=ni(ft);gt.set(Rt,Xe)}),await gt.commit()}Bn(Ze)}catch(Ne){console.error("Error importing file:",Ne);const Ce=Ne instanceof Error?Ne.message:"An unknown error occurred.";Bn({total:0,success:0,errors:1,details:[{row:1,student_code:"N/A",status:"Error",error:`File không hợp lệ hoặc bị lỗi: ${Ce}`}]})}finally{or(!1)}},N.onerror=()=>{alert("Không thể đọc file."),or(!1)},Ot&&N.readAsText(Ot,"UTF-8")},ys=N=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");sn(N),hn({student_code:N.student_code,full_name:N.full_name,date_of_birth:N.date_of_birth,gender:N.gender,class_id:N.class_id,parent_phone:N.parent_phone,parent_zalo:N.parent_zalo||"",address:N.address||""}),Ue(!0)},Ts=N=>{if(!l){alert("Vui lòng đăng nhập để thực hiện thao tác này!");return}const xe=P.find(Ne=>Ne.docId===N);xe?ai(xe):alert("Không tìm thấy học sinh để xóa.")},_l=async()=>{if(!(!Gi||!wt)){try{await Uh(ni(wt,"students",Gi.docId)),alert(`Đã xóa thành công học sinh "${Gi.full_name}".`)}catch(N){console.error("Error deleting student: ",N),alert("Lỗi khi xóa học sinh.")}ai(null)}},$i=async N=>{if(N.preventDefault(),!zl)return alert("Dịch vụ xác thực chưa sẵn sàng.");try{await oz(zl,d,x),h(!1),m(""),v("")}catch(xe){if(xe.code==="auth/user-not-found"||xe.code==="auth/invalid-credential")try{await az(zl,d,x),alert("Tài khoản giáo viên mới đã được tạo. Vui lòng đăng nhập lại.")}catch(Ne){alert(`Lỗi đăng nhập: ${Ne.message}`)}else console.error("Login error:",xe),alert(`Lỗi đăng nhập: ${xe.message}`)}},Tc=async()=>{if(zl)try{await firebaseSignOut(zl),alert("Đã đăng xuất.")}catch(N){console.error("Logout error: ",N),alert("Lỗi khi đăng xuất.")}},xa=()=>{const N="student_code,full_name,date_of_birth,gender,class_name,parent_phone,parent_zalo,address",xe=new Blob(["\uFEFF"+N],{type:"text/csv;charset=utf-8;"}),Ne=document.createElement("a"),Ce=URL.createObjectURL(xe);Ne.setAttribute("href",Ce),Ne.setAttribute("download","mau_import_hoc_sinh.csv"),document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne)},Ri=()=>{if(xs.length===0)return alert("Không có dữ liệu học sinh để xuất.");const N=["Mã học sinh","Họ và tên","Ngày sinh","Giới tính","Lớp","Điểm hạnh kiểm","SĐT phụ huynh","Zalo phụ huynh","Địa chỉ"],xe=xs.map(Ze=>[Ze.student_code,Ze.full_name,Ze.date_of_birth,Ze.gender,Ze.class_name,Gr(Ze),Ze.parent_phone,Ze.parent_zalo||"",Ze.address||""]),Ne=[N.join(","),...xe.map(Ze=>Ze.join(","))].join(`
`),Ce=new Blob(["\uFEFF"+Ne],{type:"text/csv;charset=utf-8;"}),De=document.createElement("a"),He=URL.createObjectURL(Ce),rt=`danh_sach_hoc_sinh_${new Date().toISOString().slice(0,10)}.csv`;De.setAttribute("href",He),De.setAttribute("download",rt),document.body.appendChild(De),De.click(),document.body.removeChild(De)},Cr=async(N,xe,Ne)=>{if(!l||!wt)return;const Ce=Zr.toISOString().split("T")[0],De=ee.find(He=>He.date===Ce&&He.student_id===N);try{if(De){const He=ni(wt,"attendance",De.docId),rt={...De,[xe]:Ne};await ru(He,rt)}else{const He={date:Ce,student_id:N,...eS(),[xe]:Ne};await zh(ja(wt,"attendance"),He)}}catch(He){console.error("Error saving attendance record:",He)}},_a=async()=>{if(!l||!wt)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");const N=Zr.toISOString().split("T")[0],Ne=ee.filter(Ce=>Ce.date===N).filter(Ce=>Ce.status==="Vắng mặt").map(Ce=>Ce.student_id);try{const Ce=q1(wt),De=ja(wt,"absences"),He=DE(De,rU("date","==",Zr.toISOString()));(await ME(He)).forEach(Ze=>{Ce.delete(Ze.ref)}),Ne.forEach(Ze=>{const Xt={student_id:Ze,date:Zr.toISOString()};Ce.set(ni(De),Xt)}),await Ce.commit(),alert("Cập nhật điểm danh thành công! Dữ liệu trên Dashboard đã được đồng bộ.")}catch(Ce){console.error("Error updating absences: ",Ce),alert("Lỗi khi cập nhật danh sách vắng mặt.")}},Ni=N=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");const xe=new Date,Ne=ie==="violations";let Ce=`BÁO CÁO ${Ne?"VI PHẠM":"VẮNG MẶT"}`,De="",He="",rt=new Date,Ze=new Date;switch(rt.setHours(0,0,0,0),ne){case"day":{He="NGÀY",Ze=new Date(rt),De=`(${rt.toLocaleDateString("vi-VN")})`;break}case"week":{He="TUẦN",Ze=new Date(rt),rt.setDate(rt.getDate()-6),De=`(TỪ ${rt.toLocaleDateString("vi-VN")} ĐẾN ${Ze.toLocaleDateString("vi-VN")})`;break}case"month":{He="THÁNG",rt=new Date(xe.getFullYear(),xe.getMonth(),1),Ze=new Date(xe.getFullYear(),xe.getMonth()+1,0),De=`(THÁNG ${xe.getMonth()+1}/${xe.getFullYear()})`;break}case"year":{He="NĂM",rt=new Date(xe.getFullYear(),0,1),Ze=new Date(xe.getFullYear(),11,31),De=`(NĂM ${xe.getFullYear()})`;break}}Ce+=` ${He}`;const Xt=`Ngày lập báo cáo: ${new Date().toLocaleDateString("vi-VN")}`;Ze.setHours(23,59,59,999);let an,$t;if(Ne){const gt=pe.filter(Xe=>{const Rt=new Date(Xe.violation_date);return Rt>=rt&&Rt<=Ze});if(gt.length===0)return alert("Không có dữ liệu để xuất cho lựa chọn này.");const ft=gt.map(Xe=>({...Xe,student:P.find(Rt=>Rt.id===Xe.student_id)})).filter(Xe=>!!Xe.student);an=["STT","Họ và tên","Lớp","Loại vi phạm","Ngày","Mức độ"],$t=ft.map((Xe,Rt)=>[Rt+1,Xe.student.full_name,Xe.student.class_name,Array.isArray(Xe.violation_type)?Xe.violation_type.join(", "):Xe.violation_type,new Date(Xe.violation_date).toLocaleDateString("vi-VN"),Xe.severity_level])}else{const gt=dt.filter(Xe=>{const Rt=new Date(Xe.date);return Rt>=rt&&Rt<=Ze});if(gt.length===0)return alert("Không có dữ liệu để xuất cho lựa chọn này.");const ft=gt.map(Xe=>({...Xe,student:P.find(Rt=>Rt.id===Xe.student_id)})).filter(Xe=>!!Xe.student);an=["STT","Họ và tên","Lớp","Ngày vắng"],$t=ft.map((Xe,Rt)=>[Rt+1,Xe.student.full_name,Xe.student.class_name,new Date(Xe.date).toLocaleDateString("vi-VN")])}if(N==="excel"){const gt=an.length,Xe=[...[["TRƯỜNG THPT CHUYÊN LÊ THÁNH TÔNG"],["Lớp: 12 Chuyên Tin"],[],[Ce.toUpperCase()],[De.toUpperCase()],[Xt],[]],an,...$t],Rt=A0.aoa_to_sheet(Xe),dn=[{s:{r:0,c:0},e:{r:0,c:gt-1}},{s:{r:1,c:0},e:{r:1,c:gt-1}},{s:{r:3,c:0},e:{r:3,c:gt-1}},{s:{r:4,c:0},e:{r:4,c:gt-1}},{s:{r:5,c:0},e:{r:5,c:gt-1}}];Rt["!merges"]=dn;const Jn=7;for(let g=0;g<Xe.length;++g)for(let b=0;b<Xe[g].length;++b){const A=A0.encode_cell({c:b,r:g});if(!Rt[A])continue;let M={font:{name:"Calibri",sz:12},alignment:{vertical:"center",horizontal:"left"}};g<=5&&(M.alignment&&(M.alignment.horizontal="center"),M.font&&((g===0||g===1||g===3||g===4)&&(M.font.bold=!0),g===3&&(M.font.sz=14),g===5&&(M.font.italic=!0))),g===Jn&&(M.font&&(M.font.bold=!0),M.alignment&&(M.alignment.horizontal="center"),M.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}),g>Jn&&(M.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},b===0&&M.alignment&&(M.alignment.horizontal="center")),Rt[A].s=M}let Es=[];Ne?Es=[{wch:5},{wch:25},{wch:20},{wch:30},{wch:15},{wch:15}]:Es=[{wch:5},{wch:25},{wch:20},{wch:15}],Rt["!cols"]=Es;const Ss=A0.book_new();A0.book_append_sheet(Ss,Rt,"BaoCao");const ei=`${ie}_report_${ne}_${new Date().toISOString().slice(0,10)}.xlsx`;e9(Ss,ei)}else if(N==="pdf"){const gt=$t.map(Xe=>`<tr>${Xe.map(Rt=>`<td>${Rt}</td>`).join("")}</tr>`).join(""),ft=window.open("","_blank");ft.document.write(`
            <html>
                <head>
                    <title>${Ce}</title>
                    <style>
                        body { font-family: 'Times New Roman', serif; margin: 40px; font-size: 13pt; }
                        .header, .title-section { text-align: center; }
                        .school-name { font-weight: bold; text-transform: uppercase; }
                        .class-name { font-weight: bold; }
                        hr { border: 0; border-top: 1px solid black; margin: 10px auto; width: 40%; }
                        .main-title { font-size: 16pt; font-weight: bold; margin: 20px 0 5px 0; text-transform: uppercase; }
                        .sub-title { font-size: 14pt; font-weight: bold; margin: 0 0 10px 0; text-transform: uppercase; }
                        .report-date { font-size: 13pt; font-style: italic; margin-bottom: 20px; }
                        table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12pt; }
                        th, td { border: 1px solid black; padding: 8px; text-align: left; }
                        th { font-weight: bold; text-align: center; }
                        td:first-child { text-align: center; }
                    </style>
                </head>
                <body>
                    <div class="header">
                         <div class="school-name">TRƯỜNG THPT CHUYÊN LÊ THÁNH TÔNG</div>
                         <div class="class-name">Lớp: 12 Chuyên Tin</div>
                         <hr>
                    </div>
                    <div class="title-section">
                        <div class="main-title">${Ce}</div>
                        <div class="sub-title">${De}</div>
                        <div class="report-date">${Xt}</div>
                    </div>
                    <table>
                        <thead>
                            <tr>${an.map(Xe=>`<th>${Xe}</th>`).join("")}</tr>
                        </thead>
                        <tbody>
                            ${gt}
                        </tbody>
                    </table>
                </body>
            </html>
        `),ft.document.close(),ft.focus(),setTimeout(()=>{ft.print(),ft.close()},250)}},Hs=()=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");Fe(null),St({title:"",content:""}),Be(!0)},bs=N=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");Fe(N),St({title:N.title,content:N.content}),Be(!0)},vl=async N=>{if(N.preventDefault(),!l||!wt)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");if(!et.title||!et.content)return alert("Vui lòng nhập cả tiêu đề và nội dung.");try{if(Re)await ru(ni(wt,"announcements",Re.docId),et),alert("Cập nhật thông báo thành công!");else{const xe=Q.reduce((Ce,De)=>Math.max(Ce,De.id),0),Ne={...et,id:xe+1,date:new Date().toISOString()};await zh(ja(wt,"announcements"),Ne),alert("Thêm thông báo thành công!")}}catch(xe){console.error("Error saving announcement: ",xe),alert("Lỗi khi lưu thông báo.")}Be(!1),Fe(null)},Qi=N=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");Tt(N)},Zi=async()=>{if(!(!vt||!wt)){try{await Uh(ni(wt,"announcements",vt.docId)),alert("Xóa thông báo thành công!")}catch(N){console.error("Error deleting announcement: ",N),alert("Lỗi khi xóa thông báo.")}Tt(null)}},yl=N=>{if(!l)return alert("Vui lòng đăng nhập để thực hiện thao tác này!");const xe=pe.filter(He=>He.student_id===N.id),Ne=dt.filter(He=>He.student_id===N.id);let Ce="";xe.length>0&&(Ce+=`
- Các vi phạm gần đây:
`+xe.map(He=>`  + ${new Date(He.violation_date).toLocaleDateString("vi-VN")}: ${He.violation_type.join(", ")}`).join(`
`)),Ne.length>0&&(Ce+=`
- Các ngày vắng học:
`+Ne.map(He=>`  + ${new Date(He.date).toLocaleDateString("vi-VN")}`).join(`
`)),Ce===""&&(Ce=`
Học sinh không có vi phạm hay vắng mặt nào cần chú ý. Xin cảm ơn sự quan tâm của gia đình.`);const De=`Kính gửi PHHS em ${N.full_name}, lớp ${N.class_name}.
Giáo viên chủ nhiệm xin thông báo về tình hình của em tại trường như sau:${Ce}

Nhà trường rất mong nhận được sự phối hợp từ gia đình để giúp em tiến bộ hơn.
Trân trọng,`;hr(N),fr(De),cr(!0)},Pn=N=>{!l||!ur||(alert(`Đã gửi thông báo cho PHHS em ${ur.full_name} qua ${N}.`),cr(!1),hr(null))},Ft=[{id:"dashboard",icon:"fas fa-tachometer-alt",label:"Dashboard",color:"#4f46e5"},{id:"students",icon:"fas fa-user-graduate",label:"Quản lý học sinh",color:"#059669"},{id:"attendance",icon:"fas fa-calendar-check",label:"Điểm danh",color:"#0891b2"},{id:"violations",icon:"fas fa-exclamation-triangle",label:"Vi phạm",color:"#ea580c"},{id:"rewards",icon:"fas fa-trophy",label:"Khen thưởng",color:"#d97706"},{id:"reports",icon:"fas fa-chart-bar",label:"Báo cáo",color:"#7c3aed"},{id:"notifications",icon:"fas fa-bell",label:"Thông báo",color:"#dc2626"}],Ji=({title:N,value:xe,icon:Ne,color:Ce,subtitle:De})=>y.jsx("div",{className:"rounded-2xl p-5 shadow-[0_8px_30px_rgb(0,0,0,0.07)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.1)] transition-all duration-300 transform hover:-translate-y-1",style:{background:`radial-gradient(circle at 90% 50%, ${Ce}1A 0%, white 50%)`},children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold",style:{color:"#1e40af",textShadow:"1px 1px 1px rgba(0,0,0,0.25)"},children:N}),y.jsx("p",{className:"text-4xl font-bold my-1",style:{color:Ce},children:xe}),De&&y.jsx("p",{className:"text-gray-400 text-xs",children:De})]}),y.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center shrink-0",style:{background:Ce,boxShadow:`0 8px 16px -4px ${Ce}99`},children:y.jsx("i",{className:`${Ne} text-white text-xl`})})]})}),Gs={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(N){let xe=N.label||"";if(xe&&(xe+=": "),N.parsed!==null){const Ne=N.chart.data.datasets[0].data.reduce((He,rt)=>typeof rt=="number"?He+rt:He,0),Ce=typeof N.raw=="number"?N.raw:0,De=Ne>0?(Ce/Ne*100).toFixed(1)+"%":"0%";xe+=`${Ce} (${De})`}return xe}}}}},Tl=Hr.getMonth(),va=Hr.getFullYear(),qs=new Set(pe.filter(N=>{const xe=new Date(N.violation_date);return xe.getMonth()===Tl&&xe.getFullYear()===va}).map(N=>N.student_id)),es={labels:["Học sinh vi phạm","Học sinh không vi phạm"],datasets:[{data:[qs.size,P.length-qs.size],backgroundColor:["#ef4444","#22c55e"],borderColor:["#f8fafc","#f8fafc"],borderWidth:2}]},ws=new Set(dt.filter(N=>{const xe=new Date(N.date);return xe.getMonth()===Tl&&xe.getFullYear()===va}).map(N=>N.student_id)),hi={labels:["Học sinh vắng mặt","Học sinh có mặt"],datasets:[{data:[ws.size,P.length-ws.size],backgroundColor:["#ef4444","#22c55e"],borderColor:["#f8fafc","#f8fafc"],borderWidth:2}]},{chartData:bl,chartTitle:Wu}=$e.useMemo(()=>{const N=j==="violations"?pe:dt,xe=j==="violations"?"violation_date":"date",Ne={chartData:{labels:[],datasets:[{label:"",data:[],backgroundColor:"",borderColor:""}]},chartTitle:"Không có dữ liệu"};if(!N||N.length===0)return Ne;let Ce=[],De={},He="";const rt=j==="violations"?"rgba(234, 88, 12, 0.6)":"rgba(79, 70, 229, 0.6)",Ze=j==="violations"?"rgb(234, 88, 12)":"rgb(79, 70, 229)";switch(q){case"day":{He=`Thống kê ${j==="violations"?"vi phạm":"vắng mặt"} Hôm nay`;const an=Hr.toISOString().split("T")[0];Ce=[Hr.toLocaleDateString("vi-VN")],De={[an]:N.filter($t=>new Date($t[xe]).toISOString().split("T")[0]===an).length};break}case"week":{He=`Thống kê ${j==="violations"?"vi phạm":"vắng mặt"} 7 ngày gần nhất`;const an=Array.from({length:7},(ft,Xe)=>{const Rt=new Date;return Rt.setHours(0,0,0,0),Rt.setDate(Rt.getDate()-(6-Xe)),Rt});Ce=an.map(ft=>ft.toLocaleDateString("vi-VN"));const $t=an.reduce((ft,Xe)=>(ft[Xe.toISOString().split("T")[0]]=0,ft),{}),gt=an[0];N.forEach(ft=>{const Xe=new Date(ft[xe]);if(Xe>=gt){const dn=new Date(Xe.getFullYear(),Xe.getMonth(),Xe.getDate()).toISOString().split("T")[0];$t[dn]!==void 0&&$t[dn]++}}),De=$t;break}case"month":{He=`Thống kê ${j==="violations"?"vi phạm":"vắng mặt"} theo tháng (Năm ${Hr.getFullYear()})`,Ce=Array.from({length:12},(gt,ft)=>`Tháng ${ft+1}`);const an=Array.from({length:12},()=>0),$t=Hr.getFullYear();N.forEach(gt=>{const ft=new Date(gt[xe]);if(ft.getFullYear()===$t){const Xe=ft.getMonth();an[Xe]++}}),De=an;break}case"year":{const an=new Set(N.map(ft=>new Date(ft[xe]).getFullYear())),$t=Array.from(an).sort((ft,Xe)=>ft-Xe);He=`Thống kê ${j==="violations"?"vi phạm":"vắng mặt"} theo năm`,Ce=$t.map(String);const gt=$t.reduce((ft,Xe)=>({...ft,[Xe]:0}),{});N.forEach(ft=>{const Xe=new Date(ft[xe]).getFullYear();gt[Xe]!==void 0&&gt[Xe]++}),De=gt;break}}return{chartData:{labels:Ce,datasets:[{label:j==="violations"?"Số lượt vi phạm":"Số lượt vắng",data:Array.isArray(De)?De:Object.values(De),backgroundColor:rt,borderColor:Ze,borderWidth:1}]},chartTitle:He}},[pe,dt,j,q]),ya={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:Wu,font:{size:18}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,callback:function(N){if(Number.isInteger(Number(N)))return N}}}}},oo=N=>N>=70?{text:"Tốt",className:"bg-green-100 text-green-800"}:{text:"Khá",className:"bg-yellow-100 text-yellow-800"},wl=({student:N,onEdit:xe,onDelete:Ne,isAuthenticated:Ce})=>{const De=Gr(N),He=oo(De),rt=De>=70?"text-green-500":"text-yellow-500";return y.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 flex flex-col",children:[y.jsxs("div",{className:"flex items-start justify-between pb-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center bg-blue-50 flex-shrink-0",children:y.jsx("i",{className:"fas fa-user-friends text-3xl text-blue-400"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-base text-gray-800",children:N.full_name}),y.jsx("p",{className:"text-sm text-gray-500",children:N.student_code})]})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{onClick:()=>xe(N),disabled:!Ce,className:"text-blue-500 hover:text-blue-700 hover:bg-blue-50 w-8 h-8 rounded-md flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx("i",{className:"fas fa-edit"})}),y.jsx("button",{onClick:()=>Ne(N.docId),disabled:!Ce,className:"text-red-500 hover:text-red-700 hover:bg-red-50 w-8 h-8 rounded-md flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx("i",{className:"fas fa-trash"})})]})]}),y.jsxs("div",{className:"pt-4 space-y-2 flex-grow border-t border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Lớp:"}),y.jsx("span",{className:"font-semibold text-gray-800",children:N.class_name})]}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Giới tính:"}),y.jsx("span",{className:"font-semibold text-gray-800",children:N.gender})]}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Điểm hạnh kiểm:"}),y.jsx("span",{className:`font-bold text-base ${rt}`,children:De})]}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Xếp loại:"}),y.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${He.className}`,children:He.text})]}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"SĐT phụ huynh:"}),y.jsx("span",{className:"font-semibold text-gray-800",children:N.parent_phone})]})]})]})},lo=({violation:N,onEdit:xe,onDelete:Ne,onResolve:Ce,isAuthenticated:De})=>{const He=N.student;if(!He)return null;const rt=N.severity_level==="Nặng"?"bg-red-100 text-red-800":N.severity_level==="Trung bình"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800",Ze=N.status==="Đã giải quyết"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",Xt=N.status==="Đã giải quyết"?"Đã giải quyết":"Đang xử lý";return y.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 flex flex-col",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-red-50 flex-shrink-0",children:y.jsx("i",{className:"fas fa-exclamation-triangle text-xl text-red-400"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-base text-gray-800",children:He.full_name}),y.jsx("p",{className:"text-sm text-gray-500",children:He.student_code})]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium",children:[y.jsx("span",{className:`px-2 py-1 rounded-full ${rt}`,children:N.severity_level}),y.jsx("span",{className:`px-2 py-1 rounded-full ${Ze}`,children:Xt})]})]}),y.jsxs("div",{className:"space-y-3 mb-4 flex-grow",children:[y.jsx("h5",{className:"font-bold text-gray-800 text-md",children:Array.isArray(N.violation_type)?N.violation_type.join(", "):N.violation_type}),N.description&&y.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',N.description,'"']}),y.jsxs("div",{className:"border-t border-gray-100 pt-3 space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:"Điểm trừ:"}),y.jsx("span",{className:"font-semibold text-red-500",children:N.points_deducted?`- ${N.points_deducted}`:"-"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:"Ngày vi phạm:"}),y.jsx("span",{className:"font-semibold text-gray-700",children:new Date(N.violation_date).toLocaleDateString("vi-VN")})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:"Số lần vi phạm:"}),y.jsx("span",{className:"font-semibold text-red-500",children:N.violation_count||1})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:"Báo cáo bởi:"}),y.jsx("span",{className:"font-semibold text-gray-700",children:N.reported_by})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:"Giải quyết:"}),y.jsx("span",{className:`font-semibold ${N.resolved_date?"text-green-600":"text-gray-500"}`,children:N.resolved_date?new Date(N.resolved_date).toLocaleDateString("vi-VN"):"-"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-4 border-t border-gray-100",children:[N.status==="Chưa giải quyết"?y.jsxs("button",{onClick:()=>Ce(N.docId),disabled:!De,className:"flex-grow flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-green-100 text-green-700 font-semibold shadow-sm hover:bg-green-200 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("i",{className:"fas fa-check-circle"}),y.jsx("span",{children:"Giải quyết"})]}):y.jsx("div",{className:"flex-grow"}),y.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[y.jsx("button",{onClick:()=>xe(N),disabled:!De,className:"text-blue-500 hover:text-blue-700 hover:bg-blue-50 w-8 h-8 rounded-md flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx("i",{className:"fas fa-edit"})}),y.jsx("button",{onClick:()=>Ne(N),disabled:!De,className:"text-red-500 hover:text-red-700 hover:bg-red-50 w-8 h-8 rounded-md flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx("i",{className:"fas fa-trash"})})]})]})]})},bc=({reward:N,onEdit:xe,onDelete:Ne,isAuthenticated:Ce})=>{const De=N.student;return De?y.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 flex flex-col",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-yellow-50 flex-shrink-0",children:y.jsx("i",{className:"fas fa-star text-xl text-yellow-400"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-base text-gray-800",children:De.full_name}),y.jsx("p",{className:"text-sm text-gray-500",children:De.student_code})]})]}),y.jsx("div",{className:"flex items-center gap-2 text-xs font-medium",children:y.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-green-100 text-green-800",children:["+",N.points_added," điểm"]})})]}),y.jsxs("div",{className:"space-y-3 mb-4 flex-grow",children:[y.jsx("h5",{className:"font-bold text-gray-800 text-md",children:N.reward_type}),N.description&&y.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',N.description,'"']}),y.jsxs("div",{className:"border-t border-gray-100 pt-3 space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:"Ngày khen thưởng:"}),y.jsx("span",{className:"font-semibold text-gray-700",children:new Date(N.reward_date).toLocaleDateString("vi-VN")})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:"Người khen thưởng:"}),y.jsx("span",{className:"font-semibold text-gray-700",children:N.awarded_by})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:"Ngày trao thưởng:"}),y.jsx("span",{className:"font-semibold text-gray-700",children:N.award_date?new Date(N.award_date).toLocaleDateString("vi-VN"):"-"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-4 border-t border-gray-100",children:[y.jsx("div",{className:"flex-grow"}),y.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[y.jsx("button",{onClick:()=>xe(N),disabled:!Ce,className:"text-blue-500 hover:text-blue-700 hover:bg-blue-50 w-8 h-8 rounded-md flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx("i",{className:"fas fa-edit"})}),y.jsx("button",{onClick:()=>Ne(N),disabled:!Ce,className:"text-red-500 hover:text-red-700 hover:bg-red-50 w-8 h-8 rounded-md flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx("i",{className:"fas fa-trash"})})]})]})]}):null};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[y.jsx("header",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-40",children:y.jsx("div",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-green-500 rounded-xl flex items-center justify-center shadow-lg",children:y.jsx("i",{className:"fas fa-graduation-cap text-white text-xl"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"PHẦN MỀM QUẢN LÝ NỀ NẾP HỌC SINH"}),y.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-700 to-green-700 bg-clip-text text-transparent",style:{textShadow:"1px 1px 3px rgba(0,0,0,0.2)"},children:"Lớp 12 Chuyên Tin"})]})]}),y.jsxs("button",{onClick:()=>{l?Tc():h(!0)},className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center space-x-2",children:[y.jsx("i",{className:`fas ${l?"fa-sign-out-alt":"fa-sign-in-alt"}`}),y.jsx("span",{children:l?"Đăng xuất":"Đăng nhập"})]})]})})}),y.jsxs("div",{className:"flex flex-grow",children:[y.jsxs("aside",{className:"w-64 bg-white shadow-lg sticky top-[85px] border-r border-gray-200 flex flex-col",children:[y.jsx("div",{className:"p-4 flex-grow",children:y.jsx("nav",{className:"space-y-2",children:Ft.map(N=>y.jsxs("button",{onClick:()=>e(N.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all duration-300 transform hover:scale-105 hover:shadow-md ${n===N.id?"shadow-lg":"hover:bg-gray-50"}`,style:{background:n===N.id?`linear-gradient(135deg, ${N.color}15, ${N.color}25)`:"transparent",borderLeft:n===N.id?`4px solid ${N.color}`:"4px solid transparent"},children:[y.jsx("i",{className:`${N.icon} text-lg w-6 text-center`,style:{color:n===N.id?N.color:"#6b7280"}}),y.jsx("span",{className:`font-medium ${n===N.id?"font-semibold":"text-gray-700"}`,style:{color:n===N.id?N.color:"#374151"},children:N.label})]},N.id))})}),y.jsxs("div",{className:"p-4 text-center select-none pointer-events-none",children:[y.jsx("p",{className:"font-semibold text-xs text-gray-400",style:{textShadow:"1px 1px 0px rgba(255, 255, 255, 0.7)"},children:"Design by LVD"}),y.jsx("p",{className:"font-semibold text-xs text-gray-400",style:{textShadow:"1px 1px 0px rgba(255, 255, 255, 0.7)"},children:"Copyright @ LTT"})]})]}),y.jsx("main",{className:"flex-1 p-6 relative",children:ze||i||D?y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-500"})}):y.jsxs(y.Fragment,{children:[n==="dashboard"&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Chào mừng trở lại! 👋"}),y.jsx("p",{className:"text-gray-600",children:so})]}),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[y.jsx(Ji,{title:"Tổng số học sinh",value:T.totalStudents,icon:"fas fa-users",color:"#4f46e5",subtitle:"Đang theo học"}),y.jsx(Ji,{title:"Lượt vi phạm hôm nay",value:T.dailyViolationsCount,icon:"fas fa-exclamation-triangle",color:"#dc2626",subtitle:"Cần xử lý"}),y.jsx(Ji,{title:"Lượt vi phạm tuần",value:F.length,icon:"fas fa-calendar-alt",color:"#ea580c",subtitle:"Trong 7 ngày qua"}),y.jsx(Ji,{title:"Học sinh có mặt",value:T.dailyAttendance,icon:"fas fa-calendar-check",color:"#059669",subtitle:"Hôm nay"}),y.jsx(Ji,{title:"Học sinh vắng mặt",value:T.dailyAbsentees,icon:"fas fa-user-slash",color:"#ef4444",subtitle:"Hôm nay"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("i",{className:"fas fa-chart-pie text-red-500 mr-2"}),"Tỉ lệ vi phạm trong tháng"]}),y.jsx("div",{className:"h-64 flex items-center justify-center",children:qs.size>0?y.jsx(Pb,{data:es,options:Gs}):y.jsxs("div",{className:"text-center",children:[y.jsx("i",{className:"fas fa-check-circle text-4xl text-green-400 mb-2"}),y.jsx("p",{className:"text-gray-600",children:"Không có học sinh vi phạm trong tháng này!"})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("i",{className:"fas fa-user-slash text-blue-500 mr-2"}),"Tỉ lệ vắng trong tháng"]}),y.jsx("div",{className:"h-64 flex items-center justify-center",children:ws.size>0?y.jsx(Pb,{data:hi,options:Gs}):y.jsxs("div",{className:"text-center",children:[y.jsx("i",{className:"fas fa-user-check text-4xl text-green-400 mb-2"}),y.jsx("p",{className:"text-gray-600",children:"Không có học sinh nào vắng trong tháng này!"})]})})]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("i",{className:"fas fa-calendar-day text-orange-500 mr-2"}),"Học sinh vi phạm trong tuần"]}),y.jsx("div",{className:"space-y-3 h-64 overflow-y-auto pr-2",children:F.length>0?F.map(N=>{const xe=P.find(Ce=>Ce.id===N.student_id),Ne=new Date(N.violation_date);return y.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border-l-4 border-orange-400 hover:bg-orange-100 transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-orange-400 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx("i",{className:"fas fa-user-times text-white text-sm"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-gray-800",children:(xe==null?void 0:xe.full_name)||"Học sinh không xác định"}),y.jsx("p",{className:"text-sm text-gray-600",children:Array.isArray(N.violation_type)?N.violation_type.join(", "):N.violation_type})]})]}),y.jsxs("div",{className:"text-right text-xs ml-2",children:[y.jsx("p",{className:"font-medium text-gray-700",children:ml[Ne.getDay()]}),y.jsx("p",{className:"text-gray-500",children:Ne.toLocaleDateString("vi-VN")})]})]},N.docId)}):y.jsxs("div",{className:"text-center flex flex-col items-center justify-center h-full",children:[y.jsx("i",{className:"fas fa-check-circle text-4xl text-green-400 mb-2"}),y.jsx("p",{className:"text-gray-600",children:"Không có vi phạm nào trong tuần!"})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("i",{className:"fas fa-calendar-times text-purple-500 mr-2"}),"Học sinh vắng trong tuần"]}),y.jsx("div",{className:"space-y-3 h-64 overflow-y-auto pr-2",children:te.length>0?te.map(N=>{const xe=P.find(Ce=>Ce.id===N.student_id),Ne=new Date(N.date);return y.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border-l-4 border-purple-400 hover:bg-purple-100 transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-purple-400 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx("i",{className:"fas fa-user-check text-white text-sm"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-gray-800",children:(xe==null?void 0:xe.full_name)||"Học sinh không xác định"}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Lớp: ",(xe==null?void 0:xe.class_name)||"N/A"]})]})]}),y.jsxs("div",{className:"text-right text-xs ml-2",children:[y.jsx("p",{className:"font-medium text-gray-700",children:ml[Ne.getDay()]}),y.jsx("p",{className:"text-gray-500",children:Ne.toLocaleDateString("vi-VN")})]})]},`weekly-abs-${N.student_id}-${N.date}`)}):y.jsxs("div",{className:"text-center flex flex-col items-center justify-center h-full",children:[y.jsx("i",{className:"fas fa-calendar-check text-4xl text-green-400 mb-2"}),y.jsx("p",{className:"text-gray-600",children:"Không có học sinh nào vắng trong tuần!"})]})})]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("i",{className:"fas fa-calendar-day text-red-500 mr-2"}),"Học sinh vi phạm trong ngày"]}),y.jsx("div",{className:"space-y-3 h-64 overflow-y-auto pr-2",children:w.length>0?w.map(N=>{var xe;return y.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border-l-4 border-red-400 hover:bg-red-100 transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-red-400 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx("i",{className:"fas fa-user-times text-white text-sm"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-gray-800",children:((xe=P.find(Ne=>Ne.id===N.student_id))==null?void 0:xe.full_name)||"Học sinh không xác định"}),y.jsx("p",{className:"text-sm text-gray-600",children:Array.isArray(N.violation_type)?N.violation_type.join(", "):N.violation_type})]})]}),y.jsx("span",{className:"text-xs text-gray-500",children:new Date(N.violation_date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]},N.docId)}):y.jsxs("div",{className:"text-center flex flex-col items-center justify-center h-full",children:[y.jsx("i",{className:"fas fa-check-circle text-4xl text-green-400 mb-2"}),y.jsx("p",{className:"text-gray-600",children:"Không có vi phạm nào hôm nay!"})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("i",{className:"fas fa-user-slash text-blue-500 mr-2"}),"Học sinh vắng trong ngày"]}),y.jsx("div",{className:"space-y-3 h-64 overflow-y-auto pr-2",children:H.length>0?H.map(N=>{var xe,Ne;return y.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400 hover:bg-blue-100 transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-sm",children:[y.jsx("div",{className:"w-8 h-8 bg-blue-400 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:y.jsx("i",{className:"fas fa-user-check text-white text-sm"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-gray-800",children:((xe=P.find(Ce=>Ce.id===N.student_id))==null?void 0:xe.full_name)||"Học sinh không xác định"}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Lớp: ",((Ne=P.find(Ce=>Ce.id===N.student_id))==null?void 0:Ne.class_name)||"N/A"]})]})]},`daily-abs-${N.student_id}`)}):y.jsxs("div",{className:"text-center flex flex-col items-center justify-center h-full",children:[y.jsx("i",{className:"fas fa-calendar-check text-4xl text-green-400 mb-2"}),y.jsx("p",{className:"text-gray-600",children:"Không có học sinh nào vắng hôm nay!"})]})})]})]})]})]})]})}),n==="students"&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[y.jsx("input",{type:"text",value:R,onChange:N=>L(N.target.value),className:"w-full sm:w-64 px-4 py-3 border bg-white border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400 focus:border-transparent transition",placeholder:"Tìm kiếm học sinh..."}),y.jsxs("select",{value:V,onChange:N=>B(N.target.value),className:"w-full sm:w-auto px-4 py-3 border bg-white border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400 focus:border-transparent transition",children:[y.jsx("option",{value:"",children:"Tất cả lớp"}),Ie.map(N=>y.jsx("option",{value:N.id,children:N.name},N.docId))]})]}),y.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[y.jsxs("button",{onClick:()=>{Ve(null),Bn(null),xt(!0)},disabled:!l,className:"flex items-center justify-center px-4 py-2 rounded-lg bg-[#1db954] text-white font-semibold shadow hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("i",{className:"fas fa-file-csv mr-2"}),y.jsx("span",{children:"Thêm từ CSV"})]}),y.jsxs("button",{onClick:xa,className:"flex items-center justify-center px-4 py-2 rounded-lg bg-fuchsia-500 text-white font-semibold shadow hover:bg-fuchsia-600 transition",children:[y.jsx("i",{className:"fas fa-file-alt mr-2"}),y.jsx("span",{children:"Tạo file mẫu"})]}),y.jsxs("button",{onClick:Ri,className:"flex items-center justify-center px-4 py-2 rounded-lg bg-orange-500 text-white font-semibold shadow hover:bg-orange-600 transition",children:[y.jsx("i",{className:"fas fa-download mr-2"}),y.jsx("span",{children:"Xuất danh sách"})]}),y.jsxs("button",{onClick:()=>{sn(null),hn({student_code:"",full_name:"",date_of_birth:"",gender:"Nam",class_id:"",parent_phone:"",parent_zalo:"",address:""}),Ue(!0)},disabled:!l,className:"flex items-center justify-center px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-green-500 text-white font-semibold shadow hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("i",{className:"fas fa-plus mr-2"}),y.jsx("span",{children:"Thêm học sinh"})]})]})]}),xs.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:xs.map(N=>y.jsx(wl,{student:N,onEdit:ys,onDelete:Ts,isAuthenticated:l},N.docId))}):y.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-100",children:[y.jsx("i",{className:"fas fa-users text-5xl text-gray-300 mb-4"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Không tìm thấy học sinh"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Vui lòng thử lại với từ khóa hoặc bộ lọc khác."})]})]}),n==="attendance"&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",value:Zr.toLocaleDateString("vi-VN"),readOnly:!0,className:"w-40 px-4 py-3 border bg-white border-gray-200 rounded-lg shadow-sm"}),y.jsx("i",{className:"fas fa-calendar absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),y.jsx("input",{type:"date",value:Zr.toISOString().split("T")[0],onChange:N=>{const xe=N.target.value;xe&&no(new Date(xe+"T00:00:00"))},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),y.jsx("input",{type:"text",value:R,onChange:N=>L(N.target.value),className:"w-full sm:w-64 px-4 py-3 border bg-white border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400 focus:border-transparent transition",placeholder:"Tìm kiếm học sinh..."}),y.jsxs("select",{value:V,onChange:N=>B(N.target.value),className:"w-full sm:w-auto px-4 py-3 border bg-white border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400 focus:border-transparent transition",children:[y.jsx("option",{value:"",children:"Tất cả lớp"}),Ie.map(N=>y.jsx("option",{value:N.id,children:N.name},N.docId))]}),y.jsxs("button",{onClick:_a,disabled:!l,className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition-all duration-300 transform hover:-translate-y-0.5 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("i",{className:"fas fa-save"}),y.jsx("span",{children:"Cập nhật"})]})]}),y.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-x-auto",children:y.jsxs("table",{className:"w-full min-w-[900px] text-sm",children:[y.jsx("thead",{className:"bg-gradient-to-b from-green-50 to-white/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4 text-center font-semibold text-gray-600 w-[250px]",children:"Học sinh"}),y.jsx("th",{className:"p-4 text-center font-semibold text-gray-600",children:"Điểm danh"}),y.jsx("th",{className:"p-4 text-center font-semibold text-gray-600",children:"Thái độ học tập"}),y.jsx("th",{className:"p-4 text-center font-semibold text-gray-600",children:"HĐ ngoại khóa"}),y.jsx("th",{className:"p-4 text-center font-semibold text-gray-600 w-[180px]",children:"Ghi chú"})]})}),y.jsx("tbody",{children:xs.map(N=>{const xe=Zr.toISOString().split("T")[0],Ne=ee.find(De=>De.date===xe&&De.student_id===N.id)||eS(),Ce=De=>"★".repeat(De)+"☆".repeat(5-De);return y.jsxs("tr",{className:"border-b border-gray-100 last:border-b-0 hover:bg-gray-50 hover:shadow-md transition-all duration-200 transform hover:scale-[1.01]",children:[y.jsx("td",{className:"p-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-cyan-50 flex-shrink-0",children:y.jsx("i",{className:"fas fa-user text-lg text-cyan-500"})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-gray-800",children:N.full_name}),y.jsxs("p",{className:"text-xs text-gray-500",children:[N.student_code," - ",N.class_name]})]})]})}),y.jsx("td",{children:y.jsxs("select",{value:Ne.status,disabled:!l,onChange:De=>Cr(N.id,"status",De.target.value),className:"w-full bg-white border border-gray-200 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[y.jsx("option",{children:"Có mặt"}),y.jsx("option",{children:"Vắng mặt"}),y.jsx("option",{children:"Muộn"})]})}),y.jsx("td",{children:y.jsx("select",{value:Ne.attitude,disabled:!l,onChange:De=>Cr(N.id,"attitude",parseInt(De.target.value)),className:"w-full bg-white border border-gray-200 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[5,4,3,2,1].map(De=>y.jsx("option",{value:De,children:Ce(De)},De))})}),y.jsx("td",{className:"text-center",children:y.jsx("button",{onClick:()=>Cr(N.id,"extracurricular",!Ne.extracurricular),disabled:!l,className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-200 mx-auto ${Ne.extracurricular?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:y.jsx("i",{className:"fas fa-check"})})}),y.jsx("td",{children:y.jsx("input",{type:"text",placeholder:"Ghi chú...",value:Ne.notes,disabled:!l,onChange:De=>Cr(N.id,"notes",De.target.value),className:"w-full bg-white border border-gray-200 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})})]},N.docId)})})]})})]}),n==="violations"&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-white rounded-2xl shadow-lg border border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-3 flex-wrap flex-1 min-w-[200px]",children:[y.jsx("input",{type:"text",value:wr,onChange:N=>qi(N.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 border bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent transition",placeholder:"Tìm kiếm vi phạm..."}),y.jsxs("select",{value:oi,onChange:N=>Ur(N.target.value),className:"w-full sm:w-auto px-4 py-2 border bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent transition",children:[y.jsx("option",{value:"",children:"Tất cả lớp"}),Ie.map(N=>y.jsx("option",{value:N.id,children:N.name},N.docId))]}),y.jsxs("select",{value:Wi,onChange:N=>ms(N.target.value),className:"w-full sm:w-auto px-4 py-2 border bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent transition",children:[y.jsx("option",{value:"",children:"Mọi mức độ"}),y.jsx("option",{value:"Nhẹ",children:"Nhẹ"}),y.jsx("option",{value:"Trung bình",children:"Trung bình"}),y.jsx("option",{value:"Nặng",children:"Nặng"})]}),y.jsxs("select",{value:Ki,onChange:N=>Bs(N.target.value),className:"w-full sm:w-auto px-4 py-2 border bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent transition",children:[y.jsx("option",{value:"",children:"Mọi trạng thái"}),y.jsx("option",{value:"Đã giải quyết",children:"Đã giải quyết"}),y.jsx("option",{value:"Chưa giải quyết",children:"Chưa giải quyết"})]}),y.jsxs("div",{className:"relative w-full sm:w-auto",children:[y.jsx("input",{type:"date",value:Ai,onChange:N=>li(N.target.value),className:"w-full sm:w-auto px-4 py-2 border bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent transition pr-8","aria-label":"Lọc theo ngày vi phạm"}),Ai&&y.jsx("button",{onClick:()=>li(""),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Xóa bộ lọc ngày",children:y.jsx("i",{className:"fas fa-times-circle"})})]})]}),y.jsxs("button",{onClick:zs,disabled:!l,className:"flex items-center justify-center px-5 py-2.5 rounded-lg bg-gradient-to-r from-red-500 to-orange-500 text-white font-semibold shadow-lg hover:shadow-xl hover:from-red-600 hover:to-orange-600 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("i",{className:"fas fa-plus mr-2"}),y.jsx("span",{children:"Thêm vi phạm"})]})]}),Us.length>0?y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Us.map(N=>y.jsx(lo,{violation:N,onEdit:_s,onDelete:ma,onResolve:pa,isAuthenticated:l},N.docId))}):y.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-100",children:[y.jsx("i",{className:"fas fa-shield-alt text-5xl text-gray-300 mb-4"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Không tìm thấy vi phạm"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Vui lòng thử lại với từ khóa hoặc bộ lọc khác."})]})]}),n==="rewards"&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-white rounded-2xl shadow-lg border border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-3 flex-wrap flex-1 min-w-[200px]",children:[y.jsx("input",{type:"text",value:zr,onChange:N=>ro(N.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 border bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition",placeholder:"Tìm kiếm khen thưởng..."}),y.jsxs("select",{value:Wt,onChange:N=>An(N.target.value),className:"w-full sm:w-auto px-4 py-2 border bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition",children:[y.jsx("option",{value:"",children:"Tất cả lớp"}),Ie.map(N=>y.jsx("option",{value:N.id,children:N.name},N.docId))]})]}),y.jsxs("button",{onClick:yc,disabled:!l,className:"flex items-center justify-center px-5 py-2.5 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-semibold shadow-lg hover:shadow-xl hover:from-yellow-600 hover:to-orange-600 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("i",{className:"fas fa-plus mr-2"}),y.jsx("span",{children:"Thêm khen thưởng"})]})]}),vc.length>0?y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:vc.map(N=>y.jsx(bc,{reward:N,onEdit:pl,onDelete:Gu,isAuthenticated:l},N.docId))}):y.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-100",children:[y.jsx("i",{className:"fas fa-trophy text-5xl text-gray-300 mb-4"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Không có khen thưởng nào"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Hãy thêm khen thưởng mới để ghi nhận thành tích của học sinh."})]})]}),n==="reports"&&y.jsx("div",{className:"space-y-6 animate-fade-in",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex flex-col transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl hover:border-blue-300",children:[y.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-br from-blue-600 to-sky-400 bg-clip-text text-transparent mb-4",style:{textShadow:"2px 2px 5px rgba(0,0,0,0.2)"},children:"Thống kê"}),y.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 rounded-lg",children:[y.jsxs("button",{onClick:()=>U("violations"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200 ${j==="violations"?"bg-white text-orange-600 shadow":"text-gray-600 hover:bg-gray-200"}`,children:[y.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"Vi phạm"]}),y.jsxs("button",{onClick:()=>U("absences"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200 ${j==="absences"?"bg-white text-indigo-600 shadow":"text-gray-600 hover:bg-gray-200"}`,children:[y.jsx("i",{className:"fas fa-user-slash mr-2"}),"Vắng mặt"]})]}),y.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 rounded-lg",children:[y.jsx("button",{onClick:()=>W("day"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-all duration-200 ${q==="day"?"bg-white text-blue-600 shadow":"text-gray-600"}`,children:"Hôm nay"}),y.jsx("button",{onClick:()=>W("week"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-all duration-200 ${q==="week"?"bg-white text-blue-600 shadow":"text-gray-600"}`,children:"Tuần"}),y.jsx("button",{onClick:()=>W("month"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-all duration-200 ${q==="month"?"bg-white text-blue-600 shadow":"text-gray-600"}`,children:"Tháng"}),y.jsx("button",{onClick:()=>W("year"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-all duration-200 ${q==="year"?"bg-white text-blue-600 shadow":"text-gray-600"}`,children:"Năm"})]})]}),y.jsx("div",{className:"flex-grow min-h-[40vh]",children:bl.labels.length>0?y.jsx(wk,{options:ya,data:bl}):y.jsxs("div",{className:"text-center h-full flex flex-col items-center justify-center",children:[y.jsx("i",{className:"fas fa-box-open text-5xl text-gray-300 mb-4"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Không có dữ liệu"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Không tìm thấy dữ liệu cho lựa chọn hiện tại."})]})})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex flex-col space-y-6 transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl hover:border-green-300",children:[y.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-br from-green-600 to-emerald-400 bg-clip-text text-transparent",style:{textShadow:"2px 2px 5px rgba(0,0,0,0.2)"},children:"Xuất Báo cáo"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1. Chọn loại báo cáo"}),y.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 rounded-lg w-full",children:[y.jsxs("button",{onClick:()=>ge("violations"),className:`w-1/2 px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200 flex items-center justify-center gap-2 ${ie==="violations"?"bg-white text-orange-600 shadow":"text-gray-600 hover:bg-gray-200"}`,children:[y.jsx("i",{className:"fas fa-exclamation-triangle"}),"Báo cáo Vi phạm"]}),y.jsxs("button",{onClick:()=>ge("absences"),className:`w-1/2 px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200 flex items-center justify-center gap-2 ${ie==="absences"?"bg-white text-indigo-600 shadow":"text-gray-600 hover:bg-gray-200"}`,children:[y.jsx("i",{className:"fas fa-user-slash"}),"Báo cáo Vắng mặt"]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"2. Chọn khoảng thời gian"}),y.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[y.jsx("button",{onClick:()=>le("day"),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors duration-200 ${ne==="day"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Hôm nay"}),y.jsx("button",{onClick:()=>le("week"),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors duration-200 ${ne==="week"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tuần này"}),y.jsx("button",{onClick:()=>le("month"),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors duration-200 ${ne==="month"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tháng này"}),y.jsx("button",{onClick:()=>le("year"),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors duration-200 ${ne==="year"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Năm nay"})]})]}),y.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"3. Xuất file"}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y.jsxs("button",{onClick:()=>Ni("pdf"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-red-500 text-white font-semibold shadow hover:bg-red-600 transition transform hover:-translate-y-0.5",children:[y.jsx("i",{className:"fas fa-file-pdf"}),y.jsx("span",{children:"Xuất PDF"})]}),y.jsxs("button",{onClick:()=>Ni("excel"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-green-600 text-white font-semibold shadow hover:bg-green-700 transition transform hover:-translate-y-0.5",children:[y.jsx("i",{className:"fas fa-file-excel"}),y.jsx("span",{children:"Xuất Excel"})]})]})]})]})]})}),n==="notifications"&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[y.jsxs("button",{onClick:()=>Se("class"),className:`px-4 py-3 font-semibold text-lg transition-all duration-200 ${ue==="class"?"text-red-600 border-b-2 border-red-600":"text-gray-500 hover:text-red-500"}`,children:[y.jsx("i",{className:"fas fa-bullhorn mr-2"})," Thông báo Lớp"]}),y.jsxs("button",{onClick:()=>Se("parent"),className:`px-4 py-3 font-semibold text-lg transition-all duration-200 ${ue==="parent"?"text-red-600 border-b-2 border-red-600":"text-gray-500 hover:text-red-500"}`,children:[y.jsx("i",{className:"fas fa-paper-plane mr-2"})," Gửi thông báo PHHS"]})]}),ue==="class"&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"flex justify-end",children:y.jsxs("button",{onClick:Hs,disabled:!l,className:"flex items-center justify-center px-5 py-2.5 rounded-lg bg-gradient-to-r from-red-500 to-orange-500 text-white font-semibold shadow-lg hover:shadow-xl hover:from-red-600 hover:to-orange-600 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("i",{className:"fas fa-plus mr-2"}),y.jsx("span",{children:"Thêm thông báo mới"})]})}),Q.length>0?y.jsx("div",{className:"space-y-4",children:Q.map(N=>y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 relative group transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl",children:[y.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>bs(N),disabled:!l,className:"w-8 h-8 flex items-center justify-center bg-blue-50 text-blue-500 rounded-md hover:bg-blue-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx("i",{className:"fas fa-edit"})}),y.jsx("button",{onClick:()=>Qi(N),disabled:!l,className:"w-8 h-8 flex items-center justify-center bg-red-50 text-red-500 rounded-md hover:bg-red-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.jsx("i",{className:"fas fa-trash"})})]}),y.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:N.title}),y.jsx("p",{className:"text-gray-600 whitespace-pre-wrap mb-4",children:N.content}),y.jsx("p",{className:"text-xs text-gray-400 font-medium",children:`Đăng ngày: ${new Date(N.date).toLocaleDateString("vi-VN")} lúc ${new Date(N.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}`})]},N.docId))}):y.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-100",children:[y.jsx("i",{className:"fas fa-inbox text-5xl text-gray-300 mb-4"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Chưa có thông báo nào"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Hãy tạo một thông báo mới để gửi đến toàn thể học sinh."})]})]}),ue==="parent"&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"bg-white p-4 rounded-xl shadow-md border border-gray-100",children:y.jsx("input",{type:"text",value:lr,onChange:N=>Yi(N.target.value),className:"w-full px-4 py-3 border bg-gray-50 border-gray-200 rounded-lg focus:ring-2 focus:ring-red-400 focus:border-transparent transition",placeholder:"Tìm kiếm học sinh để gửi thông báo..."})}),y.jsx("div",{className:"space-y-3",children:Cn.length>0?Cn.map(N=>y.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100 flex items-center justify-between hover:bg-red-50 transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-red-100 flex-shrink-0",children:y.jsx("i",{className:"fas fa-user-circle text-2xl text-red-500"})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-gray-800",children:N.full_name}),y.jsxs("p",{className:"text-sm text-gray-500",children:[N.student_code," - ",N.class_name]})]})]}),y.jsxs("button",{onClick:()=>yl(N),disabled:!l,className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow hover:bg-red-600 transition-all transform hover:-translate-y-0.5 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("i",{className:"fas fa-paper-plane"}),y.jsx("span",{children:"Gửi thông báo"})]})]},N.docId)):y.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-100",children:[y.jsx("i",{className:"fas fa-user-check text-5xl text-gray-300 mb-4"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Không tìm thấy học sinh"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Không có học sinh nào khớp với tìm kiếm của bạn."})]})})]})]}),n!=="dashboard"&&n!=="students"&&n!=="attendance"&&n!=="violations"&&n!=="rewards"&&n!=="reports"&&n!=="notifications"&&y.jsxs("div",{className:"text-center py-16 animate-fade-in",children:[y.jsx("i",{className:"fas fa-cogs text-6xl text-gray-300 mb-4"}),y.jsx("h3",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"Tính năng đang phát triển"}),y.jsxs("p",{className:"text-gray-500",children:['Chức năng "',(Ta=Ft.find(N=>N.id===n))==null?void 0:Ta.label,'" sẽ được cập nhật sớm']})]})]})})]}),u&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl animate-fade-in",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:y.jsx("i",{className:"fas fa-lock text-white text-xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Đăng nhập giáo viên"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Để cập nhật dữ liệu học sinh"})]}),y.jsxs("form",{onSubmit:$i,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),y.jsx("input",{type:"email",name:"username",value:d,onChange:N=>m(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Nhập email",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu"}),y.jsx("input",{type:"password",name:"password",value:x,onChange:N=>v(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Nhập mật khẩu",required:!0})]}),y.jsxs("div",{className:"flex space-x-3 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Hủy"}),y.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:-translate-y-0.5 shadow-md hover:shadow-lg",children:"Đăng nhập"})]})]})]})}),Ke&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl animate-fade-in max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:y.jsx("i",{className:"fas fa-user-graduate text-white text-xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:ht?"Sửa thông tin học sinh":"Thêm học sinh mới"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Nhập đầy đủ thông tin học sinh"})]}),y.jsxs("form",{onSubmit:vs,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã học sinh *"}),y.jsx("input",{type:"text",name:"student_code",value:Je.student_code,onChange:N=>hn({...Je,student_code:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"VD: CT2024001",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ và tên *"}),y.jsx("input",{type:"text",name:"full_name",value:Je.full_name,onChange:N=>hn({...Je,full_name:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"Nhập họ và tên",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày sinh *"}),y.jsx("input",{type:"date",name:"date_of_birth",value:Je.date_of_birth,onChange:N=>hn({...Je,date_of_birth:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới tính *"}),y.jsxs("select",{name:"gender",value:Je.gender,onChange:N=>hn({...Je,gender:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white",required:!0,children:[y.jsx("option",{value:"Nam",children:"Nam"}),y.jsx("option",{value:"Nữ",children:"Nữ"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lớp học *"}),y.jsxs("select",{name:"class_id",value:Je.class_id,onChange:N=>hn({...Je,class_id:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white",required:!0,children:[y.jsx("option",{value:"",children:"Chọn lớp học"}),Ie.map(N=>y.jsx("option",{value:N.id,children:N.name},N.docId))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SĐT phụ huynh *"}),y.jsx("input",{type:"tel",name:"parent_phone",value:Je.parent_phone,onChange:N=>hn({...Je,parent_phone:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"0987654321",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zalo phụ huynh"}),y.jsx("input",{type:"tel",name:"parent_zalo",value:Je.parent_zalo,onChange:N=>hn({...Je,parent_zalo:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"0987654321"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),y.jsx("textarea",{name:"address",value:Je.address,onChange:N=>hn({...Je,address:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"Nhập địa chỉ đầy đủ",rows:3})]}),y.jsxs("div",{className:"flex space-x-3 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>{Ue(!1),sn(null)},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Hủy"}),y.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700",children:ht?"Cập nhật":"Thêm học sinh"})]})]})]})}),Me&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl animate-fade-in max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:y.jsx("i",{className:"fas fa-file-import text-white text-xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Import danh sách học sinh"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Tải lên file CSV để import học sinh hàng loạt"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[y.jsx("i",{className:"fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Kéo và thả file hoặc"}),y.jsx("input",{type:"file",accept:".csv",onChange:N=>{N.target.files&&(Ve(N.target.files[0]),Bn(null))},className:"hidden",id:"import-file"}),y.jsx("label",{htmlFor:"import-file",className:"cursor-pointer bg-blue-500 hover:bg-blue-600 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200 inline-block shadow-md",children:"Chọn file"}),Ot&&y.jsxs("p",{className:"text-sm text-green-600 mt-3 font-medium",children:["Đã chọn: ",Ot.name]})]}),y.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[y.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Hướng dẫn:"}),y.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[y.jsx("li",{children:"File phải có định dạng CSV (.csv)"}),y.jsx("li",{children:"Dòng đầu tiên phải chứa tên các cột theo file mẫu."}),y.jsxs("li",{children:["Các cột bắt buộc: ",y.jsx("code",{className:"text-xs bg-blue-100 p-1 rounded",children:"student_code"}),", ",y.jsx("code",{className:"text-xs bg-blue-100 p-1 rounded",children:"full_name"}),", ",y.jsx("code",{className:"text-xs bg-blue-100 p-1 rounded",children:"date_of_birth"}),", ",y.jsx("code",{className:"text-xs bg-blue-100 p-1 rounded",children:"gender"}),", ",y.jsx("code",{className:"text-xs bg-blue-100 p-1 rounded",children:"class_name"}),", ",y.jsx("code",{className:"text-xs bg-blue-100 p-1 rounded",children:"parent_phone"})]})]})]}),y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[y.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Kết quả import:"}),y.jsxs("div",{className:"text-sm space-y-1",children:[y.jsxs("p",{children:["Tổng số dòng trong file: ",y.jsx("span",{className:"font-bold",children:(qt==null?void 0:qt.total)??0})]}),y.jsxs("p",{className:"text-green-600",children:["Thành công: ",y.jsx("span",{className:"font-bold",children:(qt==null?void 0:qt.success)??0})]}),y.jsxs("p",{className:"text-red-600",children:["Lỗi: ",y.jsx("span",{className:"font-bold",children:(qt==null?void 0:qt.errors)??0})]})]}),((wc=qt==null?void 0:qt.details)==null?void 0:wc.length)>0&&y.jsx("div",{className:"mt-4 pt-2 border-t max-h-40 overflow-y-auto",children:y.jsxs("table",{className:"w-full text-xs",children:[y.jsx("thead",{className:"sticky top-0 bg-gray-200 z-10",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2 text-left font-semibold",children:"Dòng"}),y.jsx("th",{className:"p-2 text-left font-semibold",children:"Mã HS"}),y.jsx("th",{className:"p-2 text-left font-semibold",children:"Trạng thái"}),y.jsx("th",{className:"p-2 text-left font-semibold",children:"Chi tiết"})]})}),y.jsx("tbody",{children:qt.details.map((N,xe)=>y.jsxs("tr",{className:`border-b border-gray-100 last:border-b-0 ${N.status==="Error"?"bg-red-50":"bg-green-50"}`,children:[y.jsx("td",{className:"p-2 text-center font-mono",children:N.row}),y.jsx("td",{className:"p-2 font-mono",children:N.student_code}),y.jsx("td",{className:`p-2 font-semibold ${N.status==="Error"?"text-red-700":"text-green-700"}`,children:N.status==="Error"?"Lỗi":"Thành công"}),y.jsx("td",{className:"p-2 text-xs",children:N.error||"Import thành công"})]},xe))})]})})]}),y.jsxs("div",{className:"flex space-x-3 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>xt(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all duration-200",children:"Đóng"}),y.jsx("button",{type:"button",onClick:ui,disabled:!Ot||br,className:"flex-1 px-4 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:br?y.jsxs("span",{className:"flex items-center justify-center",children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang xử lý..."]}):"Bắt đầu Import"})]})]})]})}),Ci&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:Er?"Sửa vi phạm":"Thêm vi phạm mới"}),y.jsxs("form",{onSubmit:Kt,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Học sinh *"}),y.jsxs("select",{name:"student_id",value:vn.student_id,onChange:N=>Sr({...vn,student_id:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white",required:!0,children:[y.jsx("option",{value:"",children:"Chọn học sinh"}),P.map(N=>y.jsxs("option",{value:N.id,children:[N.full_name," - ",N.student_code]},N.docId))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày vi phạm *"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"date",name:"violation_date",value:vn.violation_date,onChange:N=>Sr({...vn,violation_date:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg pr-10",required:!0}),y.jsx("i",{className:"fas fa-calendar absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại vi phạm *"}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:RH.map(N=>y.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[y.jsx("input",{type:"checkbox",value:N,checked:vn.violation_type.includes(N),onChange:xe=>{const{checked:Ne,value:Ce}=xe.target;Sr(De=>({...De,violation_type:Ne?[...De.violation_type,Ce]:De.violation_type.filter(He=>He!==Ce)}))},className:"h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),y.jsx("span",{children:N})]},N))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả chi tiết"}),y.jsx("textarea",{name:"description",value:vn.description,onChange:N=>Sr({...vn,description:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"Mô tả thêm (nếu có)...",rows:3})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mức độ nghiêm trọng *"}),y.jsxs("select",{name:"severity_level",value:vn.severity_level,onChange:N=>Sr({...vn,severity_level:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white",required:!0,children:[y.jsx("option",{value:"Nhẹ",children:"Nhẹ"}),y.jsx("option",{value:"Trung bình",children:"Trung bình"}),y.jsx("option",{value:"Nặng",children:"Nặng"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Người báo cáo"}),y.jsx("input",{type:"text",name:"reported_by",value:vn.reported_by,onChange:N=>Sr({...vn,reported_by:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"VD: GVCN"})]})]}),y.jsxs("div",{className:"flex space-x-3 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>Jr(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",children:"Hủy"}),y.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg hover:from-red-600 hover:to-orange-600 font-semibold",children:Er?"Cập nhật":"Thêm mới"})]})]})]})}),pn&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:y.jsx("i",{className:"fas fa-trophy text-white text-xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:Xi?"Sửa khen thưởng":"Thêm khen thưởng mới"})]}),y.jsxs("form",{onSubmit:xl,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Học sinh *"}),y.jsxs("select",{name:"student_id",value:O.student_id,onChange:N=>G({...O,student_id:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white",required:!0,children:[y.jsx("option",{value:"",children:"Chọn học sinh"}),P.map(N=>y.jsxs("option",{value:N.id,children:[N.full_name," - ",N.student_code]},N.docId))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại khen thưởng *"}),y.jsxs("select",{name:"reward_type",value:O.reward_type,onChange:N=>G({...O,reward_type:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white",required:!0,children:[y.jsx("option",{value:"",children:"Chọn loại khen thưởng"}),NH.map(N=>y.jsx("option",{value:N,children:N},N))]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả chi tiết"}),y.jsx("textarea",{name:"description",value:O.description,onChange:N=>G({...O,description:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"Mô tả chi tiết khen thưởng...",rows:3})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Điểm cộng"}),y.jsx("input",{type:"number",name:"points_added",value:O.points_added,onChange:N=>G({...O,points_added:Number(N.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",min:"0"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày khen thưởng *"}),y.jsx("input",{type:"date",name:"reward_date",value:O.reward_date,onChange:N=>G({...O,reward_date:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",required:!0})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Người khen thưởng"}),y.jsx("input",{type:"text",name:"awarded_by",value:O.awarded_by,onChange:N=>G({...O,awarded_by:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"VD: GVCN"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày trao thưởng"}),y.jsx("input",{type:"date",name:"award_date",value:O.award_date,onChange:N=>G({...O,award_date:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]})]}),y.jsxs("div",{className:"flex space-x-3 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>Zn(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",children:"Hủy"}),y.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg hover:from-yellow-600 hover:to-orange-600 font-semibold",children:Xi?"Cập nhật":"Thêm mới"})]})]})]})}),Gi&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-3xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Xác nhận xóa"}),y.jsxs("p",{className:"text-gray-600 mt-3",children:["Bạn có chắc chắn muốn xóa học sinh ",y.jsx("strong",{className:"font-semibold text-gray-900",children:Gi.full_name}),"?",y.jsx("br",{}),y.jsx("span",{className:"font-semibold text-red-600",children:"Thao tác này sẽ xóa toàn bộ dữ liệu liên quan và không thể hoàn tác."})]})]}),y.jsxs("div",{className:"flex space-x-4 pt-8",children:[y.jsx("button",{onClick:()=>ai(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all font-semibold",children:"Hủy"}),y.jsx("button",{onClick:_l,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Xóa"})]})]})}),En&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-3xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Xác nhận xóa vi phạm"}),y.jsxs("p",{className:"text-gray-600 mt-3",children:['Bạn có chắc chắn muốn xóa vi phạm "',Array.isArray(En.violation_type)?En.violation_type.join(", "):En.violation_type,'" của học sinh ',y.jsx("strong",{className:"font-semibold text-gray-900",children:En.studentName}),"?",y.jsx("br",{}),y.jsx("span",{className:"font-semibold text-red-600",children:"Thao tác này không thể hoàn tác."})]})]}),y.jsxs("div",{className:"flex space-x-4 pt-8",children:[y.jsx("button",{onClick:()=>Si(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all font-semibold",children:"Hủy"}),y.jsx("button",{onClick:ci,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Xóa"})]})]})}),Bt&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-3xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Xác nhận xóa khen thưởng"}),y.jsxs("p",{className:"text-gray-600 mt-3",children:['Bạn có chắc chắn muốn xóa khen thưởng "',Bt.reward_type,'" của học sinh ',y.jsx("strong",{className:"font-semibold text-gray-900",children:Bt.studentName}),"?",y.jsx("br",{}),y.jsx("span",{className:"font-semibold text-red-600",children:"Thao tác này không thể hoàn tác."})]})]}),y.jsxs("div",{className:"flex space-x-4 pt-8",children:[y.jsx("button",{onClick:()=>Et(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all font-semibold",children:"Hủy"}),y.jsx("button",{onClick:qu,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Xóa"})]})]})}),fn&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-3xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Xác nhận xóa"}),y.jsxs("p",{className:"text-gray-600 mt-3",children:["Bạn có chắc chắn muốn xóa bản ghi vắng mặt ngày ",new Date(fn.date).toLocaleDateString("vi-VN")," của học sinh ",y.jsx("strong",{className:"font-semibold text-gray-900",children:fn.studentName}),"?",y.jsx("br",{}),y.jsx("span",{className:"font-semibold text-red-600",children:"Thao tác này không thể hoàn tác."})]})]}),y.jsxs("div",{className:"flex space-x-4 pt-8",children:[y.jsx("button",{onClick:()=>Mn(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-all font-semibold",children:"Hủy"}),y.jsx("button",{onClick:ao,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Xóa"})]})]})}),Oe&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:Re?"Sửa thông báo":"Tạo thông báo mới"}),y.jsxs("form",{onSubmit:vl,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiêu đề *"}),y.jsx("input",{type:"text",value:et.title,onChange:N=>St({...et,title:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"Nhập tiêu đề thông báo",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nội dung *"}),y.jsx("textarea",{value:et.content,onChange:N=>St({...et,content:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",placeholder:"Nhập nội dung chi tiết",rows:8,required:!0})]}),y.jsxs("div",{className:"flex space-x-3 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>Be(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",children:"Hủy"}),y.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg hover:from-red-600 hover:to-orange-600 font-semibold",children:Re?"Cập nhật":"Đăng thông báo"})]})]})]})}),vt&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-3xl"})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Xác nhận xóa thông báo"}),y.jsxs("p",{className:"text-gray-600 mt-3",children:['Bạn có chắc chắn muốn xóa thông báo "',y.jsx("strong",{className:"font-semibold text-gray-900",children:vt.title}),'"?']})]}),y.jsxs("div",{className:"flex space-x-4 pt-8",children:[y.jsx("button",{onClick:()=>Tt(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 font-semibold",children:"Hủy"}),y.jsx("button",{onClick:Zi,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold",children:"Xóa"})]})]})}),Ar&&ur&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-3xl w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Soạn thảo thông báo PHHS"}),y.jsxs("p",{className:"text-center text-gray-600 mb-6",children:["Học sinh: ",y.jsx("strong",{className:"text-red-600",children:ur.full_name})," - Lớp: ",ur.class_name]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[y.jsxs("h4",{className:"font-semibold text-gray-700 mb-2",children:[y.jsx("i",{className:"fas fa-phone-alt mr-2 text-blue-500"}),"SĐT Phụ huynh"]}),y.jsx("p",{className:"text-gray-800 font-mono",children:ur.parent_phone||"Chưa có"})]}),y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[y.jsxs("h4",{className:"font-semibold text-gray-700 mb-2",children:[y.jsx("i",{className:"fab fa-rocketchat mr-2 text-green-500"}),"Zalo Phụ huynh"]}),y.jsx("p",{className:"text-gray-800 font-mono",children:ur.parent_zalo||"Chưa có"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nội dung thông báo"}),y.jsx("textarea",{value:io,onChange:N=>fr(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm",rows:12,required:!0})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>cr(!1),className:"w-full sm:w-auto flex-grow px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",children:"Hủy"}),y.jsxs("button",{onClick:()=>Pn("Zalo"),className:"w-full sm:w-auto flex-grow px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-semibold flex items-center justify-center gap-2",children:[y.jsx("i",{className:"fab fa-rocketchat"}),"Gửi qua Zalo"]}),y.jsxs("button",{onClick:()=>Pn("SMS"),className:"w-full sm:w-auto flex-grow px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-semibold flex items-center justify-center gap-2",children:[y.jsx("i",{className:"fas fa-sms"}),"Gửi qua SMS"]})]})]})})]})}const tS=document.getElementById("root");tS&&kI.createRoot(tS).render(y.jsx($e.StrictMode,{children:y.jsx(OH,{})}));
